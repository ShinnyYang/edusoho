(function(){"use strict";try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".agent-sdk-floating-button{position:fixed;z-index:9999;width:50px;height:50px;border-radius:50%}.agent-sdk-floating-button img{width:100%;height:100%}.agent-sdk-unread-count{display:none;position:absolute;z-index:9999;right:0;top:0;background-color:#ff4d4f;padding:0 6px;border-radius:999px;font-size:12px;line-height:16px;color:#fff;font-weight:500}.agent-sdk-floating-iframe{display:none;position:fixed;border:none}.agent-sdk-floating-reminder{position:fixed;z-index:9999;width:fit-content;height:fit-content;bottom:20px;right:90px;border-radius:20px 20px 0;border:1px solid #CEB2FF;background:linear-gradient(137deg,#fbf7ff 3.4%,#f7f9ff 35.69%,#f7fcff 97.01%);box-shadow:0 4px 12px #32b2ff0d,0 4px 10px #32b2ff0d,0 4px 12px #00588e0d;padding:16px 20px;display:none;flex-direction:column}.agent-sdk-floating-reminder .title-container{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:8px}.agent-sdk-floating-reminder .title-container .title{font-size:16px;font-style:normal;font-weight:500;line-height:24px;background:linear-gradient(116deg,#9832ff 16.39%,#323cff 45.17%,#32adff 83.33%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.agent-sdk-floating-reminder .title-container svg{cursor:pointer}.agent-sdk-floating-reminder .content{width:360px;color:#37393d;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.agent-sdk-floating-reminder button{margin-top:16px;border:none;width:fit-content;padding:4px 15px;border-radius:999px;background:linear-gradient(137deg,#9832ff 3.4%,#323cff 35.69%,#32c8ff 97.01%);color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:22px;cursor:pointer}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
var AgentSDK=function(){"use strict";var cn=Object.defineProperty;var hn=(S,D,Q)=>D in S?cn(S,D,{enumerable:!0,configurable:!0,writable:!0,value:Q}):S[D]=Q;var j=(S,D,Q)=>hn(S,typeof D!="symbol"?D+"":D,Q);function S(r){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(r)}function D(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(r){var e=function(t,n){if(S(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,n);if(S(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r,"string");return S(e)=="symbol"?e:String(e)}function tt(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,Q(n.key),n)}}function Ie(r,e,t){return e&&tt(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var nt=function(){function r(){D(this,r),this._listeners={}}return Ie(r,[{key:"on",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._listeners[e]||(this._listeners[e]=[]),t._priority=parseInt(n)||0,this._listeners[e].indexOf(t)===-1&&(this._listeners[e].push(t),this._listeners[e].length>1&&this._listeners[e].sort(this.listenerSorter))}},{key:"listenerSorter",value:function(e,t){return e._priority-t._priority}},{key:"off",value:function(e,t){if(this._listeners[e]!==void 0)if(t!==void 0){var n=this._listeners[e].indexOf(t);-1<n&&this._listeners[e].splice(n,1)}else delete this._listeners[e]}},{key:"trigger",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string"&&(e={type:e,data:S(t)==="object"&&t!==null?t:{}}),this._listeners[e.type]!==void 0)for(var n=this._listeners[e.type].length-1;n>=0;n--)this._listeners[e.type][n](e)}},{key:"destroy",value:function(){this._listeners={}}}]),r}();function ge(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ge=function(){return e};var r,e={},t=Object.prototype,n=t.hasOwnProperty,s=Object.defineProperty||function(c,o,f){c[o]=f.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",d=i.asyncIterator||"@@asyncIterator",m=i.toStringTag||"@@toStringTag";function A(c,o,f){return Object.defineProperty(c,o,{value:f,enumerable:!0,configurable:!0,writable:!0}),c[o]}try{A({},"")}catch{A=function(o,f,v){return o[f]=v}}function B(c,o,f,v){var g=o&&o.prototype instanceof q?o:q,x=Object.create(g.prototype),R=new re(v||[]);return s(x,"_invoke",{value:w(c,f,R)}),x}function L(c,o,f){try{return{type:"normal",arg:c.call(o,f)}}catch(v){return{type:"throw",arg:v}}}e.wrap=B;var k="suspendedStart",_="suspendedYield",W="executing",V="completed",M={};function q(){}function X(){}function U(){}var u={};A(u,a,function(){return this});var h=Object.getPrototypeOf,l=h&&h(h(Oe([])));l&&l!==t&&n.call(l,a)&&(u=l);var p=U.prototype=q.prototype=Object.create(u);function y(c){["next","throw","return"].forEach(function(o){A(c,o,function(f){return this._invoke(o,f)})})}function E(c,o){function f(g,x,R,I){var N=L(c[g],c,x);if(N.type!=="throw"){var ee=N.arg,se=ee.value;return se&&S(se)=="object"&&n.call(se,"__await")?o.resolve(se.__await).then(function(J){f("next",J,R,I)},function(J){f("throw",J,R,I)}):o.resolve(se).then(function(J){ee.value=J,R(ee)},function(J){return f("throw",J,R,I)})}I(N.arg)}var v;s(this,"_invoke",{value:function(g,x){function R(){return new o(function(I,N){f(g,x,I,N)})}return v=v?v.then(R,R):R()}})}function w(c,o,f){var v=k;return function(g,x){if(v===W)throw new Error("Generator is already running");if(v===V){if(g==="throw")throw x;return{value:r,done:!0}}for(f.method=g,f.arg=x;;){var R=f.delegate;if(R){var I=T(R,f);if(I){if(I===M)continue;return I}}if(f.method==="next")f.sent=f._sent=f.arg;else if(f.method==="throw"){if(v===k)throw v=V,f.arg;f.dispatchException(f.arg)}else f.method==="return"&&f.abrupt("return",f.arg);v=W;var N=L(c,o,f);if(N.type==="normal"){if(v=f.done?V:_,N.arg===M)continue;return{value:N.arg,done:f.done}}N.type==="throw"&&(v=V,f.method="throw",f.arg=N.arg)}}}function T(c,o){var f=o.method,v=c.iterator[f];if(v===r)return o.delegate=null,f==="throw"&&c.iterator.return&&(o.method="return",o.arg=r,T(c,o),o.method==="throw")||f!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+f+"' method")),M;var g=L(v,c.iterator,o.arg);if(g.type==="throw")return o.method="throw",o.arg=g.arg,o.delegate=null,M;var x=g.arg;return x?x.done?(o[c.resultName]=x.value,o.next=c.nextLoc,o.method!=="return"&&(o.method="next",o.arg=r),o.delegate=null,M):x:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,M)}function Z(c){var o={tryLoc:c[0]};1 in c&&(o.catchLoc=c[1]),2 in c&&(o.finallyLoc=c[2],o.afterLoc=c[3]),this.tryEntries.push(o)}function $(c){var o=c.completion||{};o.type="normal",delete o.arg,c.completion=o}function re(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(Z,this),this.reset(!0)}function Oe(c){if(c||c===""){var o=c[a];if(o)return o.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var f=-1,v=function g(){for(;++f<c.length;)if(n.call(c,f))return g.value=c[f],g.done=!1,g;return g.value=r,g.done=!0,g};return v.next=v}}throw new TypeError(S(c)+" is not iterable")}return X.prototype=U,s(p,"constructor",{value:U,configurable:!0}),s(U,"constructor",{value:X,configurable:!0}),X.displayName=A(U,m,"GeneratorFunction"),e.isGeneratorFunction=function(c){var o=typeof c=="function"&&c.constructor;return!!o&&(o===X||(o.displayName||o.name)==="GeneratorFunction")},e.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,U):(c.__proto__=U,A(c,m,"GeneratorFunction")),c.prototype=Object.create(p),c},e.awrap=function(c){return{__await:c}},y(E.prototype),A(E.prototype,d,function(){return this}),e.AsyncIterator=E,e.async=function(c,o,f,v,g){g===void 0&&(g=Promise);var x=new E(B(c,o,f,v),g);return e.isGeneratorFunction(o)?x:x.next().then(function(R){return R.done?R.value:x.next()})},y(p),A(p,m,"Generator"),A(p,a,function(){return this}),A(p,"toString",function(){return"[object Generator]"}),e.keys=function(c){var o=Object(c),f=[];for(var v in o)f.push(v);return f.reverse(),function g(){for(;f.length;){var x=f.pop();if(x in o)return g.value=x,g.done=!1,g}return g.done=!0,g}},e.values=Oe,re.prototype={constructor:re,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach($),!c)for(var o in this)o.charAt(0)==="t"&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=r)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var o=this;function f(N,ee){return x.type="throw",x.arg=c,o.next=N,ee&&(o.method="next",o.arg=r),!!ee}for(var v=this.tryEntries.length-1;v>=0;--v){var g=this.tryEntries[v],x=g.completion;if(g.tryLoc==="root")return f("end");if(g.tryLoc<=this.prev){var R=n.call(g,"catchLoc"),I=n.call(g,"finallyLoc");if(R&&I){if(this.prev<g.catchLoc)return f(g.catchLoc,!0);if(this.prev<g.finallyLoc)return f(g.finallyLoc)}else if(R){if(this.prev<g.catchLoc)return f(g.catchLoc,!0)}else{if(!I)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return f(g.finallyLoc)}}}},abrupt:function(c,o){for(var f=this.tryEntries.length-1;f>=0;--f){var v=this.tryEntries[f];if(v.tryLoc<=this.prev&&n.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var g=v;break}}g&&(c==="break"||c==="continue")&&g.tryLoc<=o&&o<=g.finallyLoc&&(g=null);var x=g?g.completion:{};return x.type=c,x.arg=o,g?(this.method="next",this.next=g.finallyLoc,M):this.complete(x)},complete:function(c,o){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&o&&(this.next=o),M},finish:function(c){for(var o=this.tryEntries.length-1;o>=0;--o){var f=this.tryEntries[o];if(f.finallyLoc===c)return this.complete(f.completion,f.afterLoc),$(f),M}},catch:function(c){for(var o=this.tryEntries.length-1;o>=0;--o){var f=this.tryEntries[o];if(f.tryLoc===c){var v=f.completion;if(v.type==="throw"){var g=v.arg;$(f)}return g}}throw new Error("illegal catch attempt")},delegateYield:function(c,o,f){return this.delegate={iterator:Oe(c),resultName:o,nextLoc:f},this.method==="next"&&(this.arg=r),M}},e}function Ne(r,e,t,n,s,i,a){try{var d=r[i](a),m=d.value}catch(A){return void t(A)}d.done?e(m):Promise.resolve(m).then(n,s)}function Pe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function z(r){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(r)}function me(){return me=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(i,a){for(;!Object.prototype.hasOwnProperty.call(i,a)&&(i=z(i))!==null;);return i}(r,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(arguments.length<3?r:t):s.value}},me.apply(this,arguments)}function ye(r,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ye(r,e)}function rt(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=z(r);if(e){var s=z(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return function(i,a){if(a&&(S(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pe(i)}(this,t)}}var st=function(r){(function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),s&&ye(n,s)})(t,nt);var e=rt(t);function t(){var n,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100*Math.random()|0;return D(this,t),(n=e.call(this)).id="BELLHOP:".concat(s),n.connected=!1,n.isChild=!0,n.connecting=!1,n.debug=!1,n.origin="*",n._sendLater=[],n.iframe=null,n.receive=n.receive.bind(Pe(n)),n}return Ie(t,[{key:"receive",value:function(n){if(this.target===n.source)if(this.logDebugMessage(!0,n),n.data==="connected")this.onConnectionReceived(n.data);else{var s=n.data;if(typeof s=="string")try{s=JSON.parse(s)}catch(i){console.warn("Bellhop error: ",i)}this.connected&&S(s)==="object"&&s.type&&this.trigger(s)}}},{key:"onConnectionReceived",value:function(n){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(n,this.origin)}for(var s=0;s<this._sendLater.length;s++){var i=this._sendLater[s],a=i.type,d=i.data;this.send(a,d)}this._sendLater.length=0,this.trigger("connected")}},{key:"connect",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";this.connecting||(this.disconnect(),this.connecting=!0,n instanceof HTMLIFrameElement&&(this.iframe=n),this.isChild=n===void 0,this.supported=!0,this.isChild&&(this.supported=window!=n),this.origin=s,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):this.target.postMessage("connected",this.origin)))}},{key:"disconnect",value:function(){this.connected=!1,this.connecting=!1,this.origin=null,this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}},{key:"send",value:function(n){if(typeof n!="string")throw"The event type must be a string";var s={type:n,data:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};this.logDebugMessage(!1,s),this.connecting?this._sendLater.push(s):this.target.postMessage(JSON.stringify(s),this.origin)}},{key:"fetch",value:function(n,s){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";this.on(n,function m(A){d&&i.off(A.type,m),s(A)}),this.send(n,a)}},{key:"respond",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this,d=function(){var m,A=(m=ge().mark(function B(L){return ge().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(i&&a.off(L,d),typeof s!="function"){k.next=10;break}return k.t0=a,k.t1=L.type,k.next=6,s();case 6:k.t2=k.sent,k.t0.send.call(k.t0,k.t1,k.t2),k.next=11;break;case 10:a.send(L.type,s);case 11:case"end":return k.stop()}},B)}),function(){var B=this,L=arguments;return new Promise(function(k,_){var W=m.apply(B,L);function V(q){Ne(W,k,_,V,M,"next",q)}function M(q){Ne(W,k,_,V,M,"throw",q)}V(void 0)})});return function(B){return A.apply(this,arguments)}}();this.on(n,d)}},{key:"logDebugMessage",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=arguments.length>1?arguments[1]:void 0;this.debug&&typeof this.debug=="function"?this.debug({isChild:this.isChild,received:n,message:s}):this.debug&&console.log("Bellhop Instance (".concat(this.isChild?"Child":"Parent",") ").concat(n?"Receieved":"Sent"),s)}},{key:"destroy",value:function(){me(z(t.prototype),"destroy",this).call(this),this.disconnect(),this._sendLater.length=0}},{key:"target",get:function(){return this.isChild?window.parent:this.iframe.contentWindow}}]),t}(),ie={exports:{}},Ye;function it(){if(Ye)return ie.exports;Ye=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(h,l,p){return Function.prototype.apply.call(h,l,p)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:t=function(h){return Object.getOwnPropertyNames(h)};function n(u){console&&console.warn&&console.warn(u)}var s=Number.isNaN||function(h){return h!==h};function i(){i.init.call(this)}ie.exports=i,ie.exports.once=q,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function d(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(u){if(typeof u!="number"||u<0||s(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");a=u}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(h){if(typeof h!="number"||h<0||s(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this};function m(u){return u._maxListeners===void 0?i.defaultMaxListeners:u._maxListeners}i.prototype.getMaxListeners=function(){return m(this)},i.prototype.emit=function(h){for(var l=[],p=1;p<arguments.length;p++)l.push(arguments[p]);var y=h==="error",E=this._events;if(E!==void 0)y=y&&E.error===void 0;else if(!y)return!1;if(y){var w;if(l.length>0&&(w=l[0]),w instanceof Error)throw w;var T=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw T.context=w,T}var Z=E[h];if(Z===void 0)return!1;if(typeof Z=="function")e(Z,this,l);else for(var $=Z.length,re=W(Z,$),p=0;p<$;++p)e(re[p],this,l);return!0};function A(u,h,l,p){var y,E,w;if(d(l),E=u._events,E===void 0?(E=u._events=Object.create(null),u._eventsCount=0):(E.newListener!==void 0&&(u.emit("newListener",h,l.listener?l.listener:l),E=u._events),w=E[h]),w===void 0)w=E[h]=l,++u._eventsCount;else if(typeof w=="function"?w=E[h]=p?[l,w]:[w,l]:p?w.unshift(l):w.push(l),y=m(u),y>0&&w.length>y&&!w.warned){w.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=u,T.type=h,T.count=w.length,n(T)}return u}i.prototype.addListener=function(h,l){return A(this,h,l,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(h,l){return A(this,h,l,!0)};function B(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(u,h,l){var p={fired:!1,wrapFn:void 0,target:u,type:h,listener:l},y=B.bind(p);return y.listener=l,p.wrapFn=y,y}i.prototype.once=function(h,l){return d(l),this.on(h,L(this,h,l)),this},i.prototype.prependOnceListener=function(h,l){return d(l),this.prependListener(h,L(this,h,l)),this},i.prototype.removeListener=function(h,l){var p,y,E,w,T;if(d(l),y=this._events,y===void 0)return this;if(p=y[h],p===void 0)return this;if(p===l||p.listener===l)--this._eventsCount===0?this._events=Object.create(null):(delete y[h],y.removeListener&&this.emit("removeListener",h,p.listener||l));else if(typeof p!="function"){for(E=-1,w=p.length-1;w>=0;w--)if(p[w]===l||p[w].listener===l){T=p[w].listener,E=w;break}if(E<0)return this;E===0?p.shift():V(p,E),p.length===1&&(y[h]=p[0]),y.removeListener!==void 0&&this.emit("removeListener",h,T||l)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(h){var l,p,y;if(p=this._events,p===void 0)return this;if(p.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):p[h]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete p[h]),this;if(arguments.length===0){var E=Object.keys(p),w;for(y=0;y<E.length;++y)w=E[y],w!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(l=p[h],typeof l=="function")this.removeListener(h,l);else if(l!==void 0)for(y=l.length-1;y>=0;y--)this.removeListener(h,l[y]);return this};function k(u,h,l){var p=u._events;if(p===void 0)return[];var y=p[h];return y===void 0?[]:typeof y=="function"?l?[y.listener||y]:[y]:l?M(y):W(y,y.length)}i.prototype.listeners=function(h){return k(this,h,!0)},i.prototype.rawListeners=function(h){return k(this,h,!1)},i.listenerCount=function(u,h){return typeof u.listenerCount=="function"?u.listenerCount(h):_.call(u,h)},i.prototype.listenerCount=_;function _(u){var h=this._events;if(h!==void 0){var l=h[u];if(typeof l=="function")return 1;if(l!==void 0)return l.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function W(u,h){for(var l=new Array(h),p=0;p<h;++p)l[p]=u[p];return l}function V(u,h){for(;h+1<u.length;h++)u[h]=u[h+1];u.pop()}function M(u){for(var h=new Array(u.length),l=0;l<h.length;++l)h[l]=u[l].listener||u[l];return h}function q(u,h){return new Promise(function(l,p){function y(w){u.removeListener(h,E),p(w)}function E(){typeof u.removeListener=="function"&&u.removeListener("error",y),l([].slice.call(arguments))}U(u,h,E,{once:!0}),h!=="error"&&X(u,y,{once:!0})})}function X(u,h,l){typeof u.on=="function"&&U(u,"error",h,l)}function U(u,h,l,p){if(typeof u.on=="function")p.once?u.once(h,l):u.on(h,l);else if(typeof u.addEventListener=="function")u.addEventListener(h,function y(E){p.once&&u.removeEventListener(h,y),l(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}return ie.exports}var ot=it();const F=Object.create(null);F.open="0",F.close="1",F.ping="2",F.pong="3",F.message="4",F.upgrade="5",F.noop="6";const oe=Object.create(null);Object.keys(F).forEach(r=>{oe[F[r]]=r});const ve={type:"error",data:"parser error"},De=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Fe=typeof ArrayBuffer=="function",Ge=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,we=({type:r,data:e},t,n)=>De&&e instanceof Blob?t?n(e):Ve(e,n):Fe&&(e instanceof ArrayBuffer||Ge(e))?t?n(e):Ve(new Blob([e]),n):n(F[r]+(e||"")),Ve=(r,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(r)};function Ue(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let be;function at(r,e){if(De&&r.data instanceof Blob)return r.data.arrayBuffer().then(Ue).then(e);if(Fe&&(r.data instanceof ArrayBuffer||Ge(r.data)))return e(Ue(r.data));we(r,!1,t=>{be||(be=new TextEncoder),e(be.encode(t))})}const qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<qe.length;r++)te[qe.charCodeAt(r)]=r;const ct=r=>{let e=r.length*.75,t=r.length,n,s=0,i,a,d,m;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const A=new ArrayBuffer(e),B=new Uint8Array(A);for(n=0;n<t;n+=4)i=te[r.charCodeAt(n)],a=te[r.charCodeAt(n+1)],d=te[r.charCodeAt(n+2)],m=te[r.charCodeAt(n+3)],B[s++]=i<<2|a>>4,B[s++]=(a&15)<<4|d>>2,B[s++]=(d&3)<<6|m&63;return A},ht=typeof ArrayBuffer=="function",Ee=(r,e)=>{if(typeof r!="string")return{type:"message",data:Ke(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:ut(r.substring(1),e)}:oe[t]?r.length>1?{type:oe[t],data:r.substring(1)}:{type:oe[t]}:ve},ut=(r,e)=>{if(ht){const t=ct(r);return Ke(t,e)}else return{base64:!0,data:r}},Ke=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},We="",lt=(r,e)=>{const t=r.length,n=new Array(t);let s=0;r.forEach((i,a)=>{we(i,!1,d=>{n[a]=d,++s===t&&e(n.join(We))})})},ft=(r,e)=>{const t=r.split(We),n=[];for(let s=0;s<t.length;s++){const i=Ee(t[s],e);if(n.push(i),i.type==="error")break}return n};function dt(){return new TransformStream({transform(r,e){at(r,t=>{const n=t.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}r.data&&typeof r.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let Ae;function ae(r){return r.reduce((e,t)=>e+t.length,0)}function ce(r,e){if(r[0].length===e)return r.shift();const t=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)t[s]=r[0][n++],n===r[0].length&&(r.shift(),n=0);return r.length&&n<r[0].length&&(r[0]=r[0].slice(n)),t}function pt(r,e){Ae||(Ae=new TextDecoder);const t=[];let n=0,s=-1,i=!1;return new TransformStream({transform(a,d){for(t.push(a);;){if(n===0){if(ae(t)<1)break;const m=ce(t,1);i=(m[0]&128)===128,s=m[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ae(t)<2)break;const m=ce(t,2);s=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),n=3}else if(n===2){if(ae(t)<8)break;const m=ce(t,8),A=new DataView(m.buffer,m.byteOffset,m.length),B=A.getUint32(0);if(B>Math.pow(2,21)-1){d.enqueue(ve);break}s=B*Math.pow(2,32)+A.getUint32(4),n=3}else{if(ae(t)<s)break;const m=ce(t,s);d.enqueue(Ee(i?m:Ae.decode(m),e)),n=0}if(s===0||s>r){d.enqueue(ve);break}}}})}const je=4;function C(r){if(r)return gt(r)}function gt(r){for(var e in C.prototype)r[e]=C.prototype[e];return r}C.prototype.on=C.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this},C.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this},C.prototype.off=C.prototype.removeListener=C.prototype.removeAllListeners=C.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var n,s=0;s<t.length;s++)if(n=t[s],n===e||n.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+r],this},C.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,s=t.length;n<s;++n)t[n].apply(this,e)}return this},C.prototype.emitReserved=C.prototype.emit,C.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},C.prototype.hasListeners=function(r){return!!this.listeners(r).length};const he=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),P=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mt="arraybuffer";function un(){}function _e(r,...e){return e.reduce((t,n)=>(r.hasOwnProperty(n)&&(t[n]=r[n]),t),{})}const yt=P.setTimeout,vt=P.clearTimeout;function ue(r,e){e.useNativeTimers?(r.setTimeoutFn=yt.bind(P),r.clearTimeoutFn=vt.bind(P)):(r.setTimeoutFn=P.setTimeout.bind(P),r.clearTimeoutFn=P.clearTimeout.bind(P))}const wt=1.33;function bt(r){return typeof r=="string"?Et(r):Math.ceil((r.byteLength||r.size)*wt)}function Et(r){let e=0,t=0;for(let n=0,s=r.length;n<s;n++)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function Ze(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function At(r){let e="";for(let t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e}function kt(r){let e={},t=r.split("&");for(let n=0,s=t.length;n<s;n++){let i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class xt extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class ke extends C{constructor(e){super(),this.writable=!1,ue(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new xt(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Ee(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=At(e);return t.length?"?"+t:""}}class Bt extends ke{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ft(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,lt(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Ze()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let Je=!1;try{Je=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Lt=Je;function Ct(){}class Rt extends Bt{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}class G extends C{constructor(e,t,n){super(),this.createRequest=e,ue(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=_e(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=G.requestsCount++,G.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ct,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete G.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(G.requestsCount=0,G.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qe);else if(typeof addEventListener=="function"){const r="onpagehide"in P?"pagehide":"unload";addEventListener(r,Qe,!1)}}function Qe(){for(let r in G.requests)G.requests.hasOwnProperty(r)&&G.requests[r].abort()}const St=function(){const r=ze({xdomain:!1});return r&&r.responseType!==null}();class Mt extends Rt{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=St&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new G(ze,this.uri(),e)}}function ze(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Lt))return new XMLHttpRequest}catch{}if(!e)try{return new P[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const He=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Tt extends ke{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=He?{}:_e(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;we(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&he(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Ze()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const xe=P.WebSocket||P.MozWebSocket;class Ot extends Tt{createSocket(e,t,n){return He?new xe(e,t,n):t?new xe(e,t):new xe(e)}doWrite(e,t){this.ws.send(t)}}class It extends ke{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=pt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),s=dt();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:d,value:m})=>{d||(this.onPacket(m),i())}).catch(d=>{})};i();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],s=t===e.length-1;this._writer.write(n).then(()=>{s&&he(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Nt={websocket:Ot,webtransport:It,polling:Mt},Pt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Yt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Be(r){if(r.length>8e3)throw"URI too long";const e=r,t=r.indexOf("["),n=r.indexOf("]");t!=-1&&n!=-1&&(r=r.substring(0,t)+r.substring(t,n).replace(/:/g,";")+r.substring(n,r.length));let s=Pt.exec(r||""),i={},a=14;for(;a--;)i[Yt[a]]=s[a]||"";return t!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Dt(i,i.path),i.queryKey=Ft(i,i.query),i}function Dt(r,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ft(r,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(t[s]=i)}),t}const Le=typeof addEventListener=="function"&&typeof removeEventListener=="function",le=[];Le&&addEventListener("offline",()=>{le.forEach(r=>r())},!1);class K extends C{constructor(e,t){if(super(),this.binaryType=mt,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=Be(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Be(t.host).host);ue(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kt(this.opts.query)),Le&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},le.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=je,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&K.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",K.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+=bt(s)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,he(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,s){if(typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(K.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Le&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=le.indexOf(this._offlineEventListener);n!==-1&&le.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}K.protocol=je;class Gt extends K{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;K.priorWebsocketSuccess=!1;const s=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",L=>{if(!n)if(L.type==="pong"&&L.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;K.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(B(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const k=new Error("probe error");k.transport=t.name,this.emitReserved("upgradeError",k)}}))};function i(){n||(n=!0,B(),t.close(),t=null)}const a=L=>{const k=new Error("probe error: "+L);k.transport=t.name,i(),this.emitReserved("upgradeError",k)};function d(){a("transport closed")}function m(){a("socket closed")}function A(L){t&&L.name!==t.name&&i()}const B=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",d),this.off("close",m),this.off("upgrading",A)};t.once("open",s),t.once("error",a),t.once("close",d),this.once("close",m),this.once("upgrading",A),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let Vt=class extends Gt{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Nt[s]).filter(s=>!!s)),super(e,n)}};function Ut(r,e="",t){let n=r;t=t||typeof location<"u"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t<"u"?r=t.protocol+"//"+r:r="https://"+r),n=Be(r)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const qt=typeof ArrayBuffer=="function",Kt=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Xe=Object.prototype.toString,Wt=typeof Blob=="function"||typeof Blob<"u"&&Xe.call(Blob)==="[object BlobConstructor]",jt=typeof File=="function"||typeof File<"u"&&Xe.call(File)==="[object FileConstructor]";function Ce(r){return qt&&(r instanceof ArrayBuffer||Kt(r))||Wt&&r instanceof Blob||jt&&r instanceof File}function fe(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,n=r.length;t<n;t++)if(fe(r[t]))return!0;return!1}if(Ce(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return fe(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&fe(r[t]))return!0;return!1}function _t(r){const e=[],t=r.data,n=r;return n.data=Re(t,e),n.attachments=e.length,{packet:n,buffers:e}}function Re(r,e){if(!r)return r;if(Ce(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let n=0;n<r.length;n++)t[n]=Re(r[n],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=Re(r[n],e));return t}return r}function Zt(r,e){return r.data=Se(r.data,e),delete r.attachments,r}function Se(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=Se(r[t],e);else if(typeof r=="object")for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&(r[t]=Se(r[t],e));return r}const Jt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Qt=5;var b;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(b||(b={}));class zt{constructor(e){this.replacer=e}encode(e){return(e.type===b.EVENT||e.type===b.ACK)&&fe(e)?this.encodeAsBinary({type:e.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===b.BINARY_EVENT||e.type===b.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=_t(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}}function $e(r){return Object.prototype.toString.call(r)==="[object Object]"}class Me extends C{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===b.BINARY_EVENT;n||t.type===b.BINARY_ACK?(t.type=n?b.EVENT:b.ACK,this.reconstructor=new Ht(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Ce(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(b[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===b.BINARY_EVENT||n.type===b.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(i,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(a)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(i,t)}else n.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const i=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(Me.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case b.CONNECT:return $e(t);case b.DISCONNECT:return t===void 0;case b.CONNECT_ERROR:return typeof t=="string"||$e(t);case b.EVENT:case b.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Jt.indexOf(t[0])===-1);case b.ACK:case b.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ht{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Zt(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Xt=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Me,Encoder:zt,get PacketType(){return b},protocol:Qt},Symbol.toStringTag,{value:"Module"}));function Y(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const $t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class et extends C{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Y(e,"open",this.onopen.bind(this)),Y(e,"packet",this.onpacket.bind(this)),Y(e,"error",this.onerror.bind(this)),Y(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,s,i;if($t.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:b.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const B=this.ids++,L=t.pop();this._registerAckCallback(B,L),a.id=B}const d=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,m=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!d||(m?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);t.call(this,new Error("operation has timed out"))},s),a=(...d)=>{this.io.clearTimeoutFn(i),t.apply(this,d)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,s)=>{const i=(a,d)=>a?s(a):n(d);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:b.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case b.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case b.EVENT:case b.BINARY_EVENT:this.onevent(e);break;case b.ACK:case b.BINARY_ACK:this.onack(e);break;case b.DISCONNECT:this.ondisconnect();break;case b.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...s){n||(n=!0,t.packet({type:b.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:b.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function H(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}H.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0},H.prototype.reset=function(){this.attempts=0},H.prototype.setMin=function(r){this.ms=r},H.prototype.setMax=function(r){this.max=r},H.prototype.setJitter=function(r){this.jitter=r};class Te extends C{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,ue(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new H({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||Xt;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Vt(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Y(t,"open",function(){n.onopen(),e&&e()}),i=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},a=Y(t,"error",i);if(this._timeout!==!1){const d=this._timeout,m=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),t.close()},d);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Y(e,"ping",this.onping.bind(this)),Y(e,"data",this.ondata.bind(this)),Y(e,"error",this.onerror.bind(this)),Y(e,"close",this.onclose.bind(this)),Y(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){he(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new et(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ne={};function de(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=Ut(r,e.path||"/socket.io"),n=t.source,s=t.id,i=t.path,a=ne[s]&&i in ne[s].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let m;return d?m=new Te(n,e):(ne[s]||(ne[s]=new Te(n,e)),m=ne[s]),t.query&&!e.query&&(e.query=t.queryKey),m.socket(t.path,e)}Object.assign(de,{Manager:Te,Socket:et,io:de,connect:de});class en extends Error{constructor(t,n){super(n);j(this,"code");this.code=t,this.message=n}}let O;class tn extends ot.EventEmitter{constructor(t=console){super();j(this,"logger");this.logger=t}connect(t,n){const s=this.logger;return new Promise((i,a)=>{O=de(t,{query:{token:n.token}}),O.on("connect_error",d=>{s.error(`socket.io connect error, id: ${O.id}, err: ${d.message}`),a(new en("connectError",d.message))}),O.on("connect",()=>{s.info(`socket.io connected, id: ${O.id}`)}),O.on("disconnect",()=>{s.warn(`socket.io disconnected, id: ${O.id}`)}),O.on("signal",d=>{this.emit("message",d)}),O.io.on("reconnect",d=>{s.info(`socket.io reconnected, attempt: ${d}`)}),O.io.on("reconnect_attempt",d=>{s.warn(`socket.io reconnect attempt, attempt: ${d}`),this.emit("reconnectAttempt")}),O.io.on("reconnect_error",d=>{s.error(`socket.io reconnect error, err: ${d.message}`)}),O.io.on("reconnect_failed",()=>{s.error("socket.io reconnect failed"),this.emit("reconnectFailed")})})}close(){return new Promise(t=>{O.close(),t()})}}const nn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADYCAMAAAC+/t3fAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUdwTDLI/zzH/TLI/z7P/TLI/zHH/jLH/zLI/zPH/7u9vDLH/+zm4TPH/9unoDPI/zHI/2CXpdvc3uHi4+/r57/Byfnz7NnX1VFFRTLI/zLH/k08OFVDPjPF+iMiKfvcvCoiITspIhkUE005Mkk0LFZIRC4cFUcwJjIlITIoKSIZFiYfHSslJxUNC+bHtkEwKPjdyB0RDB4eJzomHeHAr0A1NPz69EIsI+jKujotKvPPtExBP8mhjFQ/OEY4NT4xMCQlMO7Do8iVfDAhGsyZfPrYuNiqkNuwligqNWJSSx8cIFtNSSswPvDLr928q/fZxGhYUe/HqhoYHem/oevJs2xeV/nh0MOjm1g6L82eguPEs+i6mPnGsEFLXHRlXT5EUvi7pzXC9M2Rcvrn19i3qcqomfXUueu8rzI3RVE2LCcWDzc+TkM8PzgiGDbA78+snNekh73Ez2Q/M/nKtwwIBktLUPns3922ntGmjX1tZfjBqezMuenDrNmzoPm3oPW/rzMsL8WbiO3QwOa0kfbOq8GIcfnPveOtivXUwvnTruy/msKenElTYuC6pDe86Tq44dGwpHRSSrSQhTuz277M3/qxmu63qWZIP7+Bab6WibaeoOqlljUyN+rNvkOYstiQhEKPqfPEt8CQez6fwNiFejqnzXNDMEB7kZFYRU1aaH1bUtN6dbR6Y+2tnrqak1VVV9mxsYd3bqpzWfTJoeG5sNeceT2v045qYaJ8bNaVbeGkfNmci4hiWMyusMymp7CEb7CJfUCGoHlKP55fQOidjdWMX55mU5hzauq0n05ibaxqSr6qqUdxg8iTlvjz6qODecF+g4ZSOz5lfd9ZPsd2X8ZFLcWLj1JtcsNrV8u3sVdmXkmqxG92a1QwI9SbnMNURbh1d9+Latt7WN5pRuWVePakh8qGhamVl0wnGe1qW1eMlN/Z2GU1Iqi0vlmjspWOkI9KL/V3Z6ZqaFV8h1Z8a2yDeouCgeuSh9DLyM1jPpmkqvWIcZwvInaxuoV6iUdwTIaiDnQAAAEAdFJOUwCmMHAQxIDv3yD9YPxA/VCQ/ms+nre7FlD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wCfCrf8AABCMklEQVR42tScfVSTZ7b2j1Vbte3bvn9qUk4e8v1BI4SsNIYkaDxKCGpEKVELtI5ogKS2KVGp2Al1UFehLYlrJqCpWqwIlELhrSVtURAdULRlVKx2zlDrR61nVY8eu5ZLO+vMeq99B3C6VrWPHex0tqAUwcmPa+/r3ve+72f+7b7GuImPPfzgmDHjx0+Y8NDkWEyYMH78mMcffPjRB/7tXzLGPTr28fETGMqUKZN/ECP/+dD4x8c+Ou5fCOqBsWOAxDfGjxn76L8A1KNjxz/EROEfTLuxv+bMHPfwGAb182LCmMfG/TqpINXPhBqpvTEP/9rYHgXV6MSYx35FZvEgLyr+OTnxVyLWaFLFcnL8w//0yvoxsbByPfH85l07d+7ctvv48d3bdn74xhNTEM89/2HsU8eP7t+588Pnn8Nn7ygbqu1XhsWodu4/WplT2dDg95vyciqP79/15htvbN5Gn8wrKnIX4a8AtwOfvTPbhAcn/sqw3ti1Y/fhSr/Jo9d7TCaPRw+Q47sRDTlFGRnuDHcR2PAHfXb/rs3PP8ED7VeBtf9Ui18qNRGTNeIx6S2RiLsINHmeSFpaBkVaalwqIi3DnXf86I5db9wF7RdPyLE/VlvA2rn/sN8kEIstAgEjs1rwHgBLXAa4UlMz0tJSk5KSMtOTkoiM6bZj111Ue/if74SEtbsBWCwser3eIvDorR6jNZCWlpYe0QdIJoaVmcSg3JSVeXk5qMG7qPbLLWwTx/w41i5gCc1mMwMTIgR6PVVaQKlJS820WjVxcalxMSxkZwTigY5Ey6s8vmPzc3cim4J17Z+Yhc9t3oEkJKkoBBaB0GG32016j0WvBFhckjUALoaVFokEkJVDATzUWsPunXcUbcpDY38Jue6YhS1CYA2DCUwWi8melevEn8qA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";function pe(){const r=navigator.userAgent.toLowerCase(),e=/(ipad|tablet|playbook|silk)|(android(?!.*mobile))/i.test(r);return/mobile|android|iphone|ipod|blackberry|windows phone/i.test(r)||e?"H5":"PC"}const rn=r=>{var n,s;const e=`
        <div class="agent-sdk-floating-button" id="agent-sdk-floating-button">
            <div class="agent-sdk-unread-count" id="agent-sdk-unread-count">0</div>
            <img src="${nn}" alt="Chat" draggable="false"/>
        </div>
    `;document.body.insertAdjacentHTML("beforeend",e);const t=document.getElementById("agent-sdk-floating-button");t&&(t.style.bottom=`${(n=r.options)!=null&&n.bottom?r.options.bottom:20}px`,t.style.right=`${(s=r.options)!=null&&s.right?r.options.right:20}px`,t.addEventListener("click",i=>{const a=i.target;if(!a||a.getAttribute("data-dragging")==="true")return;const d=document.getElementById("agent-sdk-ui-iframe");d&&(d.style.display==="none"?r.show():r.hide())}))},sn=r=>{const e=`
<iframe src="${r.uiIframeSrc}" class="agent-sdk-floating-iframe" id="agent-sdk-ui-iframe" allow="clipboard-write" style="display: none"></iframe>
`;document.body.insertAdjacentHTML("beforeend",e);const t=document.getElementById("agent-sdk-ui-iframe");t&&(pe()==="PC"?(t.style.borderRadius="16px",t.style.boxShadow="0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)",t.style.zIndex="9999",t.style.bottom=r!=null&&r.bottom?`${r.bottom}px`:"20px",t.style.right=r!=null&&r.right?`${r.bottom+70}px`:"90px",t.style.width="30vw",t.style.height="80vh"):pe()==="H5"&&(t.style.zIndex="10000",t.style.bottom="0",t.style.right="0",t.style.width="100vw",t.style.height="100vh"))},on=r=>{var i,a,d,m;document.body.insertAdjacentHTML("beforeend",`
<div class="agent-sdk-floating-reminder" id="agent-sdk-floating-reminder">
    <div class="title-container">
        <div class="title">HI，我是你的 AI 老师小知～</div>
        <svg class="close-button" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M14.9397 3.0603L3.0603 14.9397M3.0603 3.0603L14.9397 14.9397" stroke="#B2B8FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="content"></div>
    <button class="study-plan-button">帮我制定学习计划</button>
</div>
`);const t=document.getElementById("agent-sdk-floating-reminder");if(!t)return;pe()==="PC"?(t.style.bottom=(i=r.options)!=null&&i.bottom?`${r.options.bottom}px`:"20px",t.style.right=(a=r.options)!=null&&a.right?`${r.options.right+70}px`:"90px"):pe()==="H5"&&(t.style.bottom=(d=r.options)!=null&&d.bottom?`${r.options.bottom+70}px`:"90px",t.style.right=(m=r.options)!=null&&m.right?`${r.options.right}px`:"20px");const n=document.querySelector(".agent-sdk-floating-reminder .study-plan-button");n&&n.addEventListener("click",()=>{r.generateStudyPlan()});const s=document.querySelector(".agent-sdk-floating-reminder .close-button");s&&s.addEventListener("click",()=>{r.closeReminder()})};class an{constructor(e){j(this,"options");j(this,"bellhop");j(this,"signalClient");j(this,"signalServerUrl","wss://ai-signal.edusoho.net");j(this,"shortcutList",[]);e.uiIframeSrc||(e.uiIframeSrc="/ui.html"),this.options=e,this.bellhop=new st,this.signalClient=new tn,this.signalClient.connect(e.signalServerUrl?e.signalServerUrl:this.signalServerUrl,{token:e.token}),this.signalClient.on("message",t=>{const n=document.getElementById("agent-sdk-unread-count"),s=document.getElementById("agent-sdk-ui-iframe");if(!n||!s)return;const i=JSON.parse(t);i.signal==="message.unread"&&(this.options.variables.unreadMessages=i.data.messages.filter(a=>a.domainId===this.options.variables.domainId),s.style.display==="none"?(n.style.display="block",n.textContent=i.data.count):s.style.display==="block"&&(n.style.display="none",n.textContent=String(i.data.count-this.options.variables.unreadMessages.length),this.bellhop.send("fetchUnreadMessages",{ids:this.options.variables.unreadMessages.map(a=>a.messageId)})))})}setChatMetadata(e){this.options.variables={...this.options.variables,...e}}addShortcut(e,t){this.shortcutList.push({key:e,content:t})}removeShortcut(e){var n;const t=((n=this.shortcutList)==null?void 0:n.findIndex(s=>s.key===e))??-1;t!==-1&&this.shortcutList.splice(t,1)}boot(){rn(this),on(this),sn(this.options);const e=document.getElementById("agent-sdk-ui-iframe");this.bellhop.connect(e),this.bellhop.send("init",{token:this.options.token,shortcutList:this.shortcutList,variables:this.options.variables}),this.bellhop.on("hide",()=>{this.hide()}),this.bellhop.on("link",t=>{window.open(`${t.data}/show`,"_blank")})}shutdown(){const e=document.getElementById("agent-sdk-ui-iframe"),t=document.getElementById("agent-sdk-floating-button"),n=document.getElementById("agent-sdk-floating-reminder");e&&t&&n&&(e.remove(),t.remove(),n.remove())}show(){var s,i;const e=document.getElementById("agent-sdk-ui-iframe"),t=document.getElementById("agent-sdk-unread-count"),n=document.getElementById("agent-sdk-floating-reminder");e&&t&&n&&(n.style.display="none",t.style.display="none",e.style.display="block",(s=this.options.variables)!=null&&s.unreadMessages&&((i=this.options.variables)==null?void 0:i.unreadMessages.length)>0?this.bellhop.send("show",{loadUnreadMessages:!0,ids:this.options.variables.unreadMessages.map(a=>a.messageId)}):this.bellhop.send("show",{loadUnreadMessages:!1}))}hide(){const e=document.getElementById("agent-sdk-ui-iframe");e&&(e.style.display="none")}chat(e,t){const n={content:e,workflow:t};this.bellhop.send("chat",n)}generateStudyPlan(){this.bellhop.on("fetchMessagesCompleted",()=>{this.chat("制定学习计划",null),this.bellhop.off("fetchMessagesCompleted")}),this.closeReminder(),this.show()}showReminder(e,t,n){const s=document.querySelector(".agent-sdk-floating-reminder .title");s&&(s.textContent=e);const i=document.querySelector(".agent-sdk-floating-reminder .content");i&&(i.textContent=t);const a=document.querySelector(".agent-sdk-floating-reminder .study-plan-button");a&&(a.style.display=n?"block":"none");const d=document.getElementById("agent-sdk-floating-reminder");d&&(d.style.display="flex")}closeReminder(){const e=document.getElementById("agent-sdk-floating-reminder");e&&(e.style.display="none")}}return an}();
