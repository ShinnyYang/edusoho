(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".agent-sdk-floating-button{position:fixed;z-index:2000;width:50px;height:50px;border-radius:50%;touch-action:none;-webkit-user-select:none;user-select:none;opacity:60%;box-shadow:0 2.7px 18px #32b2ff1a,0 1.8px 9px #32b2ff66}.agent-sdk-floating-button img{width:100%;height:100%}.agent-sdk-unread-count{display:none;position:absolute;z-index:2000;right:0;top:0;background-color:#ff4d4f;padding:0 6px;border-radius:999px;font-size:12px;line-height:16px;color:#fff;font-weight:500}.agent-sdk-floating-iframe{display:none;position:fixed;border:none}.agent-sdk-floating-reminder{position:fixed;z-index:2000;width:fit-content;height:fit-content;bottom:20px;right:90px;border-radius:20px 20px 0;border:1px solid #CEB2FF;background:linear-gradient(137deg,#fbf7ff 3.4%,#f7f9ff 35.69%,#f7fcff 97.01%);box-shadow:0 4px 12px #32b2ff0d,0 4px 10px #32b2ff0d,0 4px 12px #00588e0d;padding:16px 20px;display:none;flex-direction:column}.agent-sdk-floating-reminder .title-container{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.agent-sdk-floating-reminder .title-container .title,.agent-sdk-floating-reminder .content{display:none}.agent-sdk-floating-reminder .title-container .title{font-size:16px;font-style:normal;font-weight:500;line-height:24px;background:linear-gradient(116deg,#9832ff 16.39%,#323cff 45.17%,#32adff 83.33%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.agent-sdk-floating-reminder .title-container svg{cursor:pointer}.agent-sdk-floating-reminder .content{color:#37393d;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.agent-sdk-floating-reminder button{display:none;border:none;width:fit-content;padding:4px 15px;border-radius:999px;background:linear-gradient(137deg,#9832ff 3.4%,#323cff 35.69%,#32c8ff 97.01%);color:#fff;font-size:14px;font-style:normal;font-weight:500;line-height:22px;cursor:pointer}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
var AgentSDK=function(){"use strict";var is=Object.defineProperty;var os=(le,ke,je)=>ke in le?is(le,ke,{enumerable:!0,configurable:!0,writable:!0,value:je}):le[ke]=je;var Re=(le,ke,je)=>os(le,typeof ke!="symbol"?ke+"":ke,je);function le(u){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},le(u)}function ke(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function je(u){var r=function(o,a){if(le(o)!="object"||!o)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var y=d.call(o,a);if(le(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(u,"string");return le(r)=="symbol"?r:String(r)}function Br(u,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,je(a.key),a)}}function yn(u,r,o){return r&&Br(u.prototype,r),Object.defineProperty(u,"prototype",{writable:!1}),u}var Lr=function(){function u(){ke(this,u),this._listeners={}}return yn(u,[{key:"on",value:function(r,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;this._listeners[r]||(this._listeners[r]=[]),o._priority=parseInt(a)||0,this._listeners[r].indexOf(o)===-1&&(this._listeners[r].push(o),this._listeners[r].length>1&&this._listeners[r].sort(this.listenerSorter))}},{key:"listenerSorter",value:function(r,o){return r._priority-o._priority}},{key:"off",value:function(r,o){if(this._listeners[r]!==void 0)if(o!==void 0){var a=this._listeners[r].indexOf(o);-1<a&&this._listeners[r].splice(a,1)}else delete this._listeners[r]}},{key:"trigger",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof r=="string"&&(r={type:r,data:le(o)==="object"&&o!==null?o:{}}),this._listeners[r.type]!==void 0)for(var a=this._listeners[r.type].length-1;a>=0;a--)this._listeners[r.type][a](r)}},{key:"destroy",value:function(){this._listeners={}}}]),u}();function Ct(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ct=function(){return r};var u,r={},o=Object.prototype,a=o.hasOwnProperty,d=Object.defineProperty||function(x,k,P){x[k]=P.value},y=typeof Symbol=="function"?Symbol:{},w=y.iterator||"@@iterator",M=y.asyncIterator||"@@asyncIterator",F=y.toStringTag||"@@toStringTag";function q(x,k,P){return Object.defineProperty(x,k,{value:P,enumerable:!0,configurable:!0,writable:!0}),x[k]}try{q({},"")}catch{q=function(k,P,N){return k[P]=N}}function J(x,k,P,N){var D=k&&k.prototype instanceof ae?k:ae,Q=Object.create(D.prototype),ne=new te(N||[]);return d(Q,"_invoke",{value:j(x,P,ne)}),Q}function X(x,k,P){try{return{type:"normal",arg:x.call(k,P)}}catch(N){return{type:"throw",arg:N}}}r.wrap=J;var V="suspendedStart",Z="suspendedYield",ie="executing",oe="completed",$={};function ae(){}function pe(){}function me(){}var S={};q(S,w,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(fe([])));I&&I!==o&&a.call(I,w)&&(S=I);var v=me.prototype=ae.prototype=Object.create(S);function _(x){["next","throw","return"].forEach(function(k){q(x,k,function(P){return this._invoke(k,P)})})}function H(x,k){function P(D,Q,ne,ue){var he=X(x[D],x,Q);if(he.type!=="throw"){var Se=he.arg,Me=Se.value;return Me&&le(Me)=="object"&&a.call(Me,"__await")?k.resolve(Me.__await).then(function(Oe){P("next",Oe,ne,ue)},function(Oe){P("throw",Oe,ne,ue)}):k.resolve(Me).then(function(Oe){Se.value=Oe,ne(Se)},function(Oe){return P("throw",Oe,ne,ue)})}ue(he.arg)}var N;d(this,"_invoke",{value:function(D,Q){function ne(){return new k(function(ue,he){P(D,Q,ue,he)})}return N=N?N.then(ne,ne):ne()}})}function j(x,k,P){var N=V;return function(D,Q){if(N===ie)throw new Error("Generator is already running");if(N===oe){if(D==="throw")throw Q;return{value:u,done:!0}}for(P.method=D,P.arg=Q;;){var ne=P.delegate;if(ne){var ue=ce(ne,P);if(ue){if(ue===$)continue;return ue}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(N===V)throw N=oe,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);N=ie;var he=X(x,k,P);if(he.type==="normal"){if(N=P.done?oe:Z,he.arg===$)continue;return{value:he.arg,done:P.done}}he.type==="throw"&&(N=oe,P.method="throw",P.arg=he.arg)}}}function ce(x,k){var P=k.method,N=x.iterator[P];if(N===u)return k.delegate=null,P==="throw"&&x.iterator.return&&(k.method="return",k.arg=u,ce(x,k),k.method==="throw")||P!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+P+"' method")),$;var D=X(N,x.iterator,k.arg);if(D.type==="throw")return k.method="throw",k.arg=D.arg,k.delegate=null,$;var Q=D.arg;return Q?Q.done?(k[x.resultName]=Q.value,k.next=x.nextLoc,k.method!=="return"&&(k.method="next",k.arg=u),k.delegate=null,$):Q:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,$)}function se(x){var k={tryLoc:x[0]};1 in x&&(k.catchLoc=x[1]),2 in x&&(k.finallyLoc=x[2],k.afterLoc=x[3]),this.tryEntries.push(k)}function ye(x){var k=x.completion||{};k.type="normal",delete k.arg,x.completion=k}function te(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(se,this),this.reset(!0)}function fe(x){if(x||x===""){var k=x[w];if(k)return k.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var P=-1,N=function D(){for(;++P<x.length;)if(a.call(x,P))return D.value=x[P],D.done=!1,D;return D.value=u,D.done=!0,D};return N.next=N}}throw new TypeError(le(x)+" is not iterable")}return pe.prototype=me,d(v,"constructor",{value:me,configurable:!0}),d(me,"constructor",{value:pe,configurable:!0}),pe.displayName=q(me,F,"GeneratorFunction"),r.isGeneratorFunction=function(x){var k=typeof x=="function"&&x.constructor;return!!k&&(k===pe||(k.displayName||k.name)==="GeneratorFunction")},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,me):(x.__proto__=me,q(x,F,"GeneratorFunction")),x.prototype=Object.create(v),x},r.awrap=function(x){return{__await:x}},_(H.prototype),q(H.prototype,M,function(){return this}),r.AsyncIterator=H,r.async=function(x,k,P,N,D){D===void 0&&(D=Promise);var Q=new H(J(x,k,P,N),D);return r.isGeneratorFunction(k)?Q:Q.next().then(function(ne){return ne.done?ne.value:Q.next()})},_(v),q(v,F,"Generator"),q(v,w,function(){return this}),q(v,"toString",function(){return"[object Generator]"}),r.keys=function(x){var k=Object(x),P=[];for(var N in k)P.push(N);return P.reverse(),function D(){for(;P.length;){var Q=P.pop();if(Q in k)return D.value=Q,D.done=!1,D}return D.done=!0,D}},r.values=fe,te.prototype={constructor:te,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(ye),!x)for(var k in this)k.charAt(0)==="t"&&a.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=u)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var k=this;function P(he,Se){return Q.type="throw",Q.arg=x,k.next=he,Se&&(k.method="next",k.arg=u),!!Se}for(var N=this.tryEntries.length-1;N>=0;--N){var D=this.tryEntries[N],Q=D.completion;if(D.tryLoc==="root")return P("end");if(D.tryLoc<=this.prev){var ne=a.call(D,"catchLoc"),ue=a.call(D,"finallyLoc");if(ne&&ue){if(this.prev<D.catchLoc)return P(D.catchLoc,!0);if(this.prev<D.finallyLoc)return P(D.finallyLoc)}else if(ne){if(this.prev<D.catchLoc)return P(D.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return P(D.finallyLoc)}}}},abrupt:function(x,k){for(var P=this.tryEntries.length-1;P>=0;--P){var N=this.tryEntries[P];if(N.tryLoc<=this.prev&&a.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var D=N;break}}D&&(x==="break"||x==="continue")&&D.tryLoc<=k&&k<=D.finallyLoc&&(D=null);var Q=D?D.completion:{};return Q.type=x,Q.arg=k,D?(this.method="next",this.next=D.finallyLoc,$):this.complete(Q)},complete:function(x,k){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&k&&(this.next=k),$},finish:function(x){for(var k=this.tryEntries.length-1;k>=0;--k){var P=this.tryEntries[k];if(P.finallyLoc===x)return this.complete(P.completion,P.afterLoc),ye(P),$}},catch:function(x){for(var k=this.tryEntries.length-1;k>=0;--k){var P=this.tryEntries[k];if(P.tryLoc===x){var N=P.completion;if(N.type==="throw"){var D=N.arg;ye(P)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(x,k,P){return this.delegate={iterator:fe(x),resultName:k,nextLoc:P},this.method==="next"&&(this.arg=u),$}},r}function bn(u,r,o,a,d,y,w){try{var M=u[y](w),F=M.value}catch(q){return void o(q)}M.done?r(F):Promise.resolve(F).then(a,d)}function wn(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Ge(u){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ge(u)}function Rt(){return Rt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,r,o){var a=function(y,w){for(;!Object.prototype.hasOwnProperty.call(y,w)&&(y=Ge(y))!==null;);return y}(u,r);if(a){var d=Object.getOwnPropertyDescriptor(a,r);return d.get?d.get.call(arguments.length<3?u:o):d.value}},Rt.apply(this,arguments)}function Dt(u,r){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},Dt(u,r)}function _r(u){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,a=Ge(u);if(r){var d=Ge(this).constructor;o=Reflect.construct(a,arguments,d)}else o=a.apply(this,arguments);return function(y,w){if(w&&(le(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wn(y)}(this,o)}}var Fr=function(u){(function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),d&&Dt(a,d)})(o,Lr);var r=_r(o);function o(){var a,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100*Math.random()|0;return ke(this,o),(a=r.call(this)).id="BELLHOP:".concat(d),a.connected=!1,a.isChild=!0,a.connecting=!1,a.debug=!1,a.origin="*",a._sendLater=[],a.iframe=null,a.receive=a.receive.bind(wn(a)),a}return yn(o,[{key:"receive",value:function(a){if(this.target===a.source)if(this.logDebugMessage(!0,a),a.data==="connected")this.onConnectionReceived(a.data);else{var d=a.data;if(typeof d=="string")try{d=JSON.parse(d)}catch(y){console.warn("Bellhop error: ",y)}this.connected&&le(d)==="object"&&d.type&&this.trigger(d)}}},{key:"onConnectionReceived",value:function(a){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(a,this.origin)}for(var d=0;d<this._sendLater.length;d++){var y=this._sendLater[d],w=y.type,M=y.data;this.send(w,M)}this._sendLater.length=0,this.trigger("connected")}},{key:"connect",value:function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";this.connecting||(this.disconnect(),this.connecting=!0,a instanceof HTMLIFrameElement&&(this.iframe=a),this.isChild=a===void 0,this.supported=!0,this.isChild&&(this.supported=window!=a),this.origin=d,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):this.target.postMessage("connected",this.origin)))}},{key:"disconnect",value:function(){this.connected=!1,this.connecting=!1,this.origin=null,this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}},{key:"send",value:function(a){if(typeof a!="string")throw"The event type must be a string";var d={type:a,data:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}};this.logDebugMessage(!1,d),this.connecting?this._sendLater.push(d):this.target.postMessage(JSON.stringify(d),this.origin)}},{key:"fetch",value:function(a,d){var y=this,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";this.on(a,function F(q){M&&y.off(q.type,F),d(q)}),this.send(a,w)}},{key:"respond",value:function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0&&arguments[2],w=this,M=function(){var F,q=(F=Ct().mark(function J(X){return Ct().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(y&&w.off(X,M),typeof d!="function"){V.next=10;break}return V.t0=w,V.t1=X.type,V.next=6,d();case 6:V.t2=V.sent,V.t0.send.call(V.t0,V.t1,V.t2),V.next=11;break;case 10:w.send(X.type,d);case 11:case"end":return V.stop()}},J)}),function(){var J=this,X=arguments;return new Promise(function(V,Z){var ie=F.apply(J,X);function oe(ae){bn(ie,V,Z,oe,$,"next",ae)}function $(ae){bn(ie,V,Z,oe,$,"throw",ae)}oe(void 0)})});return function(J){return q.apply(this,arguments)}}();this.on(a,M)}},{key:"logDebugMessage",value:function(){var a=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=arguments.length>1?arguments[1]:void 0;this.debug&&typeof this.debug=="function"?this.debug({isChild:this.isChild,received:a,message:d}):this.debug&&console.log("Bellhop Instance (".concat(this.isChild?"Child":"Parent",") ").concat(a?"Receieved":"Sent"),d)}},{key:"destroy",value:function(){Rt(Ge(o.prototype),"destroy",this).call(this),this.disconnect(),this._sendLater.length=0}},{key:"target",get:function(){return this.isChild?window.parent:this.iframe.contentWindow}}]),o}();function Nr(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var at={exports:{}},xn;function Yr(){if(xn)return at.exports;xn=1;var u=typeof Reflect=="object"?Reflect:null,r=u&&typeof u.apply=="function"?u.apply:function(T,I,v){return Function.prototype.apply.call(T,I,v)},o;u&&typeof u.ownKeys=="function"?o=u.ownKeys:Object.getOwnPropertySymbols?o=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:o=function(T){return Object.getOwnPropertyNames(T)};function a(S){console&&console.warn&&console.warn(S)}var d=Number.isNaN||function(T){return T!==T};function y(){y.init.call(this)}at.exports=y,at.exports.once=ae,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var w=10;function M(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(S){if(typeof S!="number"||S<0||d(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");w=S}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||d(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function F(S){return S._maxListeners===void 0?y.defaultMaxListeners:S._maxListeners}y.prototype.getMaxListeners=function(){return F(this)},y.prototype.emit=function(T){for(var I=[],v=1;v<arguments.length;v++)I.push(arguments[v]);var _=T==="error",H=this._events;if(H!==void 0)_=_&&H.error===void 0;else if(!_)return!1;if(_){var j;if(I.length>0&&(j=I[0]),j instanceof Error)throw j;var ce=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw ce.context=j,ce}var se=H[T];if(se===void 0)return!1;if(typeof se=="function")r(se,this,I);else for(var ye=se.length,te=ie(se,ye),v=0;v<ye;++v)r(te[v],this,I);return!0};function q(S,T,I,v){var _,H,j;if(M(I),H=S._events,H===void 0?(H=S._events=Object.create(null),S._eventsCount=0):(H.newListener!==void 0&&(S.emit("newListener",T,I.listener?I.listener:I),H=S._events),j=H[T]),j===void 0)j=H[T]=I,++S._eventsCount;else if(typeof j=="function"?j=H[T]=v?[I,j]:[j,I]:v?j.unshift(I):j.push(I),_=F(S),_>0&&j.length>_&&!j.warned){j.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=S,ce.type=T,ce.count=j.length,a(ce)}return S}y.prototype.addListener=function(T,I){return q(this,T,I,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(T,I){return q(this,T,I,!0)};function J(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X(S,T,I){var v={fired:!1,wrapFn:void 0,target:S,type:T,listener:I},_=J.bind(v);return _.listener=I,v.wrapFn=_,_}y.prototype.once=function(T,I){return M(I),this.on(T,X(this,T,I)),this},y.prototype.prependOnceListener=function(T,I){return M(I),this.prependListener(T,X(this,T,I)),this},y.prototype.removeListener=function(T,I){var v,_,H,j,ce;if(M(I),_=this._events,_===void 0)return this;if(v=_[T],v===void 0)return this;if(v===I||v.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete _[T],_.removeListener&&this.emit("removeListener",T,v.listener||I));else if(typeof v!="function"){for(H=-1,j=v.length-1;j>=0;j--)if(v[j]===I||v[j].listener===I){ce=v[j].listener,H=j;break}if(H<0)return this;H===0?v.shift():oe(v,H),v.length===1&&(_[T]=v[0]),_.removeListener!==void 0&&this.emit("removeListener",T,ce||I)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(T){var I,v,_;if(v=this._events,v===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[T]),this;if(arguments.length===0){var H=Object.keys(v),j;for(_=0;_<H.length;++_)j=H[_],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=v[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(_=I.length-1;_>=0;_--)this.removeListener(T,I[_]);return this};function V(S,T,I){var v=S._events;if(v===void 0)return[];var _=v[T];return _===void 0?[]:typeof _=="function"?I?[_.listener||_]:[_]:I?$(_):ie(_,_.length)}y.prototype.listeners=function(T){return V(this,T,!0)},y.prototype.rawListeners=function(T){return V(this,T,!1)},y.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):Z.call(S,T)},y.prototype.listenerCount=Z;function Z(S){var T=this._events;if(T!==void 0){var I=T[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function ie(S,T){for(var I=new Array(T),v=0;v<T;++v)I[v]=S[v];return I}function oe(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function $(S){for(var T=new Array(S.length),I=0;I<T.length;++I)T[I]=S[I].listener||S[I];return T}function ae(S,T){return new Promise(function(I,v){function _(j){S.removeListener(T,H),v(j)}function H(){typeof S.removeListener=="function"&&S.removeListener("error",_),I([].slice.call(arguments))}me(S,T,H,{once:!0}),T!=="error"&&pe(S,_,{once:!0})})}function pe(S,T,I){typeof S.on=="function"&&me(S,"error",T,I)}function me(S,T,I,v){if(typeof S.on=="function")v.once?S.once(T,I):S.on(T,I);else if(typeof S.addEventListener=="function")S.addEventListener(T,function _(H){v.once&&S.removeEventListener(T,_),I(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return at.exports}var zr=Yr();const Ae=Object.create(null);Ae.open="0",Ae.close="1",Ae.ping="2",Ae.pong="3",Ae.message="4",Ae.upgrade="5",Ae.noop="6";const ct=Object.create(null);Object.keys(Ae).forEach(u=>{ct[Ae[u]]=u});const Bt={type:"error",data:"parser error"},En=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kn=typeof ArrayBuffer=="function",An=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u&&u.buffer instanceof ArrayBuffer,Lt=({type:u,data:r},o,a)=>En&&r instanceof Blob?o?a(r):Tn(r,a):kn&&(r instanceof ArrayBuffer||An(r))?o?a(r):Tn(new Blob([r]),a):a(Ae[u]+(r||"")),Tn=(u,r)=>{const o=new FileReader;return o.onload=function(){const a=o.result.split(",")[1];r("b"+(a||""))},o.readAsDataURL(u)};function Sn(u){return u instanceof Uint8Array?u:u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer,u.byteOffset,u.byteLength)}let _t;function jr(u,r){if(En&&u.data instanceof Blob)return u.data.arrayBuffer().then(Sn).then(r);if(kn&&(u.data instanceof ArrayBuffer||An(u.data)))return r(Sn(u.data));Lt(u,!1,o=>{_t||(_t=new TextEncoder),r(_t.encode(o))})}const On="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",We=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let u=0;u<On.length;u++)We[On.charCodeAt(u)]=u;const Gr=u=>{let r=u.length*.75,o=u.length,a,d=0,y,w,M,F;u[u.length-1]==="="&&(r--,u[u.length-2]==="="&&r--);const q=new ArrayBuffer(r),J=new Uint8Array(q);for(a=0;a<o;a+=4)y=We[u.charCodeAt(a)],w=We[u.charCodeAt(a+1)],M=We[u.charCodeAt(a+2)],F=We[u.charCodeAt(a+3)],J[d++]=y<<2|w>>4,J[d++]=(w&15)<<4|M>>2,J[d++]=(M&3)<<6|F&63;return q},Vr=typeof ArrayBuffer=="function",Ft=(u,r)=>{if(typeof u!="string")return{type:"message",data:Mn(u,r)};const o=u.charAt(0);return o==="b"?{type:"message",data:Ur(u.substring(1),r)}:ct[o]?u.length>1?{type:ct[o],data:u.substring(1)}:{type:ct[o]}:Bt},Ur=(u,r)=>{if(Vr){const o=Gr(u);return Mn(o,r)}else return{base64:!0,data:u}},Mn=(u,r)=>{switch(r){case"blob":return u instanceof Blob?u:new Blob([u]);case"arraybuffer":default:return u instanceof ArrayBuffer?u:u.buffer}},In="",qr=(u,r)=>{const o=u.length,a=new Array(o);let d=0;u.forEach((y,w)=>{Lt(y,!1,M=>{a[w]=M,++d===o&&r(a.join(In))})})},Wr=(u,r)=>{const o=u.split(In),a=[];for(let d=0;d<o.length;d++){const y=Ft(o[d],r);if(a.push(y),y.type==="error")break}return a};function Kr(){return new TransformStream({transform(u,r){jr(u,o=>{const a=o.length;let d;if(a<126)d=new Uint8Array(1),new DataView(d.buffer).setUint8(0,a);else if(a<65536){d=new Uint8Array(3);const y=new DataView(d.buffer);y.setUint8(0,126),y.setUint16(1,a)}else{d=new Uint8Array(9);const y=new DataView(d.buffer);y.setUint8(0,127),y.setBigUint64(1,BigInt(a))}u.data&&typeof u.data!="string"&&(d[0]|=128),r.enqueue(d),r.enqueue(o)})}})}let Nt;function ut(u){return u.reduce((r,o)=>r+o.length,0)}function lt(u,r){if(u[0].length===r)return u.shift();const o=new Uint8Array(r);let a=0;for(let d=0;d<r;d++)o[d]=u[0][a++],a===u[0].length&&(u.shift(),a=0);return u.length&&a<u[0].length&&(u[0]=u[0].slice(a)),o}function Zr(u,r){Nt||(Nt=new TextDecoder);const o=[];let a=0,d=-1,y=!1;return new TransformStream({transform(w,M){for(o.push(w);;){if(a===0){if(ut(o)<1)break;const F=lt(o,1);y=(F[0]&128)===128,d=F[0]&127,d<126?a=3:d===126?a=1:a=2}else if(a===1){if(ut(o)<2)break;const F=lt(o,2);d=new DataView(F.buffer,F.byteOffset,F.length).getUint16(0),a=3}else if(a===2){if(ut(o)<8)break;const F=lt(o,8),q=new DataView(F.buffer,F.byteOffset,F.length),J=q.getUint32(0);if(J>Math.pow(2,21)-1){M.enqueue(Bt);break}d=J*Math.pow(2,32)+q.getUint32(4),a=3}else{if(ut(o)<d)break;const F=lt(o,d);M.enqueue(Ft(y?F:Nt.decode(F),r)),a=0}if(d===0||d>u){M.enqueue(Bt);break}}}})}const Pn=4;function re(u){if(u)return Hr(u)}function Hr(u){for(var r in re.prototype)u[r]=re.prototype[r];return u}re.prototype.on=re.prototype.addEventListener=function(u,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(r),this},re.prototype.once=function(u,r){function o(){this.off(u,o),r.apply(this,arguments)}return o.fn=r,this.on(u,o),this},re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(u,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+u];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var a,d=0;d<o.length;d++)if(a=o[d],a===r||a.fn===r){o.splice(d,1);break}return o.length===0&&delete this._callbacks["$"+u],this},re.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),o=this._callbacks["$"+u],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,d=o.length;a<d;++a)o[a].apply(this,r)}return this},re.prototype.emitReserved=re.prototype.emit,re.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},re.prototype.hasListeners=function(u){return!!this.listeners(u).length};const ft=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,o)=>o(r,0),we=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Jr="arraybuffer";function ss(){}function Cn(u,...r){return r.reduce((o,a)=>(u.hasOwnProperty(a)&&(o[a]=u[a]),o),{})}const Qr=we.setTimeout,Xr=we.clearTimeout;function ht(u,r){r.useNativeTimers?(u.setTimeoutFn=Qr.bind(we),u.clearTimeoutFn=Xr.bind(we)):(u.setTimeoutFn=we.setTimeout.bind(we),u.clearTimeoutFn=we.clearTimeout.bind(we))}const $r=1.33;function ei(u){return typeof u=="string"?ti(u):Math.ceil((u.byteLength||u.size)*$r)}function ti(u){let r=0,o=0;for(let a=0,d=u.length;a<d;a++)r=u.charCodeAt(a),r<128?o+=1:r<2048?o+=2:r<55296||r>=57344?o+=3:(a++,o+=4);return o}function Rn(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ni(u){let r="";for(let o in u)u.hasOwnProperty(o)&&(r.length&&(r+="&"),r+=encodeURIComponent(o)+"="+encodeURIComponent(u[o]));return r}function ri(u){let r={},o=u.split("&");for(let a=0,d=o.length;a<d;a++){let y=o[a].split("=");r[decodeURIComponent(y[0])]=decodeURIComponent(y[1])}return r}class ii extends Error{constructor(r,o,a){super(r),this.description=o,this.context=a,this.type="TransportError"}}class Yt extends re{constructor(r){super(),this.writable=!1,ht(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,o,a){return super.emitReserved("error",new ii(r,o,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const o=Ft(r,this.socket.binaryType);this.onPacket(o)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,o={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const o=ni(r);return o.length?"?"+o:""}}class oi extends Yt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const o=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||o()})),this.writable||(a++,this.once("drain",function(){--a||o()}))}else o()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const o=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Wr(r,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,qr(r,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=Rn()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(r,o)}}let Dn=!1;try{Dn=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const si=Dn;function ai(){}class ci extends oi{constructor(r){if(super(r),typeof location<"u"){const o=location.protocol==="https:";let a=location.port;a||(a=o?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||a!==r.port}}doWrite(r,o){const a=this.request({method:"POST",data:r});a.on("success",o),a.on("error",(d,y)=>{this.onError("xhr post error",d,y)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(o,a)=>{this.onError("xhr poll error",o,a)}),this.pollXhr=r}}class Te extends re{constructor(r,o,a){super(),this.createRequest=r,ht(this,a),this._opts=a,this._method=a.method||"GET",this._uri=o,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var r;const o=Cn(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(o);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let d in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(d)&&a.setRequestHeader(d,this._opts.extraHeaders[d])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var d;a.readyState===3&&((d=this._opts.cookieJar)===null||d===void 0||d.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(d){this.setTimeoutFn(()=>{this._onError(d)},0);return}typeof document<"u"&&(this._index=Te.requestsCount++,Te.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ai,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Te.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Te.requestsCount=0,Te.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bn);else if(typeof addEventListener=="function"){const u="onpagehide"in we?"pagehide":"unload";addEventListener(u,Bn,!1)}}function Bn(){for(let u in Te.requests)Te.requests.hasOwnProperty(u)&&Te.requests[u].abort()}const ui=function(){const u=Ln({xdomain:!1});return u&&u.responseType!==null}();class li extends ci{constructor(r){super(r);const o=r&&r.forceBase64;this.supportsBinary=ui&&!o}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Te(Ln,this.uri(),r)}}function Ln(u){const r=u.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||si))return new XMLHttpRequest}catch{}if(!r)try{return new we[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const _n=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fi extends Yt{get name(){return"websocket"}doOpen(){const r=this.uri(),o=this.opts.protocols,a=_n?{}:Cn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,o,a)}catch(d){return this.emitReserved("error",d)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let o=0;o<r.length;o++){const a=r[o],d=o===r.length-1;Lt(a,this.supportsBinary,y=>{try{this.doWrite(a,y)}catch{}d&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=Rn()),this.supportsBinary||(o.b64=1),this.createUri(r,o)}}const zt=we.WebSocket||we.MozWebSocket;class hi extends fi{createSocket(r,o,a){return _n?new zt(r,o,a):o?new zt(r,o):new zt(r)}doWrite(r,o){this.ws.send(o)}}class pi extends Yt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const o=Zr(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=r.readable.pipeThrough(o).getReader(),d=Kr();d.readable.pipeTo(r.writable),this._writer=d.writable.getWriter();const y=()=>{a.read().then(({done:M,value:F})=>{M||(this.onPacket(F),y())}).catch(M=>{})};y();const w={type:"open"};this.query.sid&&(w.data=`{"sid":"${this.query.sid}"}`),this._writer.write(w).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let o=0;o<r.length;o++){const a=r[o],d=o===r.length-1;this._writer.write(a).then(()=>{d&&ft(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const di={websocket:hi,webtransport:pi,polling:li},gi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jt(u){if(u.length>8e3)throw"URI too long";const r=u,o=u.indexOf("["),a=u.indexOf("]");o!=-1&&a!=-1&&(u=u.substring(0,o)+u.substring(o,a).replace(/:/g,";")+u.substring(a,u.length));let d=gi.exec(u||""),y={},w=14;for(;w--;)y[vi[w]]=d[w]||"";return o!=-1&&a!=-1&&(y.source=r,y.host=y.host.substring(1,y.host.length-1).replace(/;/g,":"),y.authority=y.authority.replace("[","").replace("]","").replace(/;/g,":"),y.ipv6uri=!0),y.pathNames=mi(y,y.path),y.queryKey=yi(y,y.query),y}function mi(u,r){const o=/\/{2,9}/g,a=r.replace(o,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&a.splice(0,1),r.slice(-1)=="/"&&a.splice(a.length-1,1),a}function yi(u,r){const o={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,d,y){d&&(o[d]=y)}),o}const Gt=typeof addEventListener=="function"&&typeof removeEventListener=="function",pt=[];Gt&&addEventListener("offline",()=>{pt.forEach(u=>u())},!1);class De extends re{constructor(r,o){if(super(),this.binaryType=Jr,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(o=r,r=null),r){const a=jt(r);o.hostname=a.host,o.secure=a.protocol==="https"||a.protocol==="wss",o.port=a.port,a.query&&(o.query=a.query)}else o.host&&(o.hostname=jt(o.host).host);ht(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},o.transports.forEach(a=>{const d=a.prototype.name;this.transports.push(d),this._transportsByName[d]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ri(this.opts.query)),Gt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pt.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const o=Object.assign({},this.opts.query);o.EIO=Pn,o.transport=r,this.id&&(o.sid=this.id);const a=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&De.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const o=this.createTransport(r);o.open(),this.setTransport(o)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",o=>this._onClose("transport close",o))}onOpen(){this.readyState="open",De.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const o=new Error("server error");o.code=r.data,this._onError(o);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let a=0;a<this.writeBuffer.length;a++){const d=this.writeBuffer[a].data;if(d&&(o+=ei(d)),a>0&&o>this._maxPayload)return this.writeBuffer.slice(0,a);o+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,ft(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,o,a){return this._sendPacket("message",r,o,a),this}send(r,o,a){return this._sendPacket("message",r,o,a),this}_sendPacket(r,o,a,d){if(typeof o=="function"&&(d=o,o=void 0),typeof a=="function"&&(d=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const y={type:r,data:o,options:a};this.emitReserved("packetCreate",y),this.writeBuffer.push(y),d&&this.once("flush",d),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),r()},a=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():r()}):this.upgrading?a():r()),this}_onError(r){if(De.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=pt.indexOf(this._offlineEventListener);a!==-1&&pt.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,o),this.writeBuffer=[],this._prevBufferLen=0}}}De.protocol=Pn;class bi extends De{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let o=this.createTransport(r),a=!1;De.priorWebsocketSuccess=!1;const d=()=>{a||(o.send([{type:"ping",data:"probe"}]),o.once("packet",X=>{if(!a)if(X.type==="pong"&&X.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;De.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(J(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const V=new Error("probe error");V.transport=o.name,this.emitReserved("upgradeError",V)}}))};function y(){a||(a=!0,J(),o.close(),o=null)}const w=X=>{const V=new Error("probe error: "+X);V.transport=o.name,y(),this.emitReserved("upgradeError",V)};function M(){w("transport closed")}function F(){w("socket closed")}function q(X){o&&X.name!==o.name&&y()}const J=()=>{o.removeListener("open",d),o.removeListener("error",w),o.removeListener("close",M),this.off("close",F),this.off("upgrading",q)};o.once("open",d),o.once("error",w),o.once("close",M),this.once("close",F),this.once("upgrading",q),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{a||o.open()},200):o.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const o=[];for(let a=0;a<r.length;a++)~this.transports.indexOf(r[a])&&o.push(r[a]);return o}}let wi=class extends bi{constructor(r,o={}){const a=typeof r=="object"?r:o;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(d=>di[d]).filter(d=>!!d)),super(r,a)}};function xi(u,r="",o){let a=u;o=o||typeof location<"u"&&location,u==null&&(u=o.protocol+"//"+o.host),typeof u=="string"&&(u.charAt(0)==="/"&&(u.charAt(1)==="/"?u=o.protocol+u:u=o.host+u),/^(https?|wss?):\/\//.test(u)||(typeof o<"u"?u=o.protocol+"//"+u:u="https://"+u),a=jt(u)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const y=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+y+":"+a.port+r,a.href=a.protocol+"://"+y+(o&&o.port===a.port?"":":"+a.port),a}const Ei=typeof ArrayBuffer=="function",ki=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,Fn=Object.prototype.toString,Ai=typeof Blob=="function"||typeof Blob<"u"&&Fn.call(Blob)==="[object BlobConstructor]",Ti=typeof File=="function"||typeof File<"u"&&Fn.call(File)==="[object FileConstructor]";function Vt(u){return Ei&&(u instanceof ArrayBuffer||ki(u))||Ai&&u instanceof Blob||Ti&&u instanceof File}function dt(u,r){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let o=0,a=u.length;o<a;o++)if(dt(u[o]))return!0;return!1}if(Vt(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return dt(u.toJSON(),!0);for(const o in u)if(Object.prototype.hasOwnProperty.call(u,o)&&dt(u[o]))return!0;return!1}function Si(u){const r=[],o=u.data,a=u;return a.data=Ut(o,r),a.attachments=r.length,{packet:a,buffers:r}}function Ut(u,r){if(!u)return u;if(Vt(u)){const o={_placeholder:!0,num:r.length};return r.push(u),o}else if(Array.isArray(u)){const o=new Array(u.length);for(let a=0;a<u.length;a++)o[a]=Ut(u[a],r);return o}else if(typeof u=="object"&&!(u instanceof Date)){const o={};for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&(o[a]=Ut(u[a],r));return o}return u}function Oi(u,r){return u.data=qt(u.data,r),delete u.attachments,u}function qt(u,r){if(!u)return u;if(u&&u._placeholder===!0){if(typeof u.num=="number"&&u.num>=0&&u.num<r.length)return r[u.num];throw new Error("illegal attachments")}else if(Array.isArray(u))for(let o=0;o<u.length;o++)u[o]=qt(u[o],r);else if(typeof u=="object")for(const o in u)Object.prototype.hasOwnProperty.call(u,o)&&(u[o]=qt(u[o],r));return u}const Mi=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ii=5;var K;(function(u){u[u.CONNECT=0]="CONNECT",u[u.DISCONNECT=1]="DISCONNECT",u[u.EVENT=2]="EVENT",u[u.ACK=3]="ACK",u[u.CONNECT_ERROR=4]="CONNECT_ERROR",u[u.BINARY_EVENT=5]="BINARY_EVENT",u[u.BINARY_ACK=6]="BINARY_ACK"})(K||(K={}));class Pi{constructor(r){this.replacer=r}encode(r){return(r.type===K.EVENT||r.type===K.ACK)&&dt(r)?this.encodeAsBinary({type:r.type===K.EVENT?K.BINARY_EVENT:K.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let o=""+r.type;return(r.type===K.BINARY_EVENT||r.type===K.BINARY_ACK)&&(o+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(o+=r.nsp+","),r.id!=null&&(o+=r.id),r.data!=null&&(o+=JSON.stringify(r.data,this.replacer)),o}encodeAsBinary(r){const o=Si(r),a=this.encodeAsString(o.packet),d=o.buffers;return d.unshift(a),d}}function Nn(u){return Object.prototype.toString.call(u)==="[object Object]"}class Wt extends re{constructor(r){super(),this.reviver=r}add(r){let o;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(r);const a=o.type===K.BINARY_EVENT;a||o.type===K.BINARY_ACK?(o.type=a?K.EVENT:K.ACK,this.reconstructor=new Ci(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Vt(r)||r.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(r),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let o=0;const a={type:Number(r.charAt(0))};if(K[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===K.BINARY_EVENT||a.type===K.BINARY_ACK){const y=o+1;for(;r.charAt(++o)!=="-"&&o!=r.length;);const w=r.substring(y,o);if(w!=Number(w)||r.charAt(o)!=="-")throw new Error("Illegal attachments");a.attachments=Number(w)}if(r.charAt(o+1)==="/"){const y=o+1;for(;++o&&!(r.charAt(o)===","||o===r.length););a.nsp=r.substring(y,o)}else a.nsp="/";const d=r.charAt(o+1);if(d!==""&&Number(d)==d){const y=o+1;for(;++o;){const w=r.charAt(o);if(w==null||Number(w)!=w){--o;break}if(o===r.length)break}a.id=Number(r.substring(y,o+1))}if(r.charAt(++o)){const y=this.tryParse(r.substr(o));if(Wt.isPayloadValid(a.type,y))a.data=y;else throw new Error("invalid payload")}return a}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,o){switch(r){case K.CONNECT:return Nn(o);case K.DISCONNECT:return o===void 0;case K.CONNECT_ERROR:return typeof o=="string"||Nn(o);case K.EVENT:case K.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Mi.indexOf(o[0])===-1);case K.ACK:case K.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ci{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const o=Oi(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ri=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wt,Encoder:Pi,get PacketType(){return K},protocol:Ii},Symbol.toStringTag,{value:"Module"}));function xe(u,r,o){return u.on(r,o),function(){u.off(r,o)}}const Di=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yn extends re{constructor(r,o,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=o,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[xe(r,"open",this.onopen.bind(this)),xe(r,"packet",this.onpacket.bind(this)),xe(r,"error",this.onerror.bind(this)),xe(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...o){var a,d,y;if(Di.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(o.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const w={type:K.EVENT,data:o};if(w.options={},w.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){const J=this.ids++,X=o.pop();this._registerAckCallback(J,X),w.id=J}const M=(d=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||d===void 0?void 0:d.writable,F=this.connected&&!(!((y=this.io.engine)===null||y===void 0)&&y._hasPingExpired());return this.flags.volatile&&!M||(F?(this.notifyOutgoingListeners(w),this.packet(w)):this.sendBuffer.push(w)),this.flags={},this}_registerAckCallback(r,o){var a;const d=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(d===void 0){this.acks[r]=o;return}const y=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let M=0;M<this.sendBuffer.length;M++)this.sendBuffer[M].id===r&&this.sendBuffer.splice(M,1);o.call(this,new Error("operation has timed out"))},d),w=(...M)=>{this.io.clearTimeoutFn(y),o.apply(this,M)};w.withError=!0,this.acks[r]=w}emitWithAck(r,...o){return new Promise((a,d)=>{const y=(w,M)=>w?d(w):a(M);y.withError=!0,o.push(y),this.emit(r,...o)})}_addToQueue(r){let o;typeof r[r.length-1]=="function"&&(o=r.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((d,...y)=>a!==this._queue[0]?void 0:(d!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),o&&o(d)):(this._queue.shift(),o&&o(null,...y)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!r||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:K.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(a=>String(a.id)===r)){const a=this.acks[r];delete this.acks[r],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case K.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case K.EVENT:case K.BINARY_EVENT:this.onevent(r);break;case K.ACK:case K.BINARY_ACK:this.onack(r);break;case K.DISCONNECT:this.ondisconnect();break;case K.CONNECT_ERROR:this.destroy();const a=new Error(r.data.message);a.data=r.data.data,this.emitReserved("connect_error",a);break}}onevent(r){const o=r.data||[];r.id!=null&&o.push(this.ack(r.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const a of o)a.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const o=this;let a=!1;return function(...d){a||(a=!0,o.packet({type:K.ACK,id:r,data:d}))}}onack(r){const o=this.acks[r.id];typeof o=="function"&&(delete this.acks[r.id],o.withError&&r.data.unshift(null),o.apply(this,r.data))}onconnect(r,o){this.id=r,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:K.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const o=this._anyListeners;for(let a=0;a<o.length;a++)if(r===o[a])return o.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const o=this._anyOutgoingListeners;for(let a=0;a<o.length;a++)if(r===o[a])return o.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const a of o)a.apply(this,r.data)}}}function Ve(u){u=u||{},this.ms=u.min||100,this.max=u.max||1e4,this.factor=u.factor||2,this.jitter=u.jitter>0&&u.jitter<=1?u.jitter:0,this.attempts=0}Ve.prototype.duration=function(){var u=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),o=Math.floor(r*this.jitter*u);u=(Math.floor(r*10)&1)==0?u-o:u+o}return Math.min(u,this.max)|0},Ve.prototype.reset=function(){this.attempts=0},Ve.prototype.setMin=function(u){this.ms=u},Ve.prototype.setMax=function(u){this.max=u},Ve.prototype.setJitter=function(u){this.jitter=u};class Kt extends re{constructor(r,o){var a;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(o=r,r=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,ht(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((a=o.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Ve({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=r;const d=o.parser||Ri;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var o;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(o=this.backoff)===null||o===void 0||o.setMin(r),this)}randomizationFactor(r){var o;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(o=this.backoff)===null||o===void 0||o.setJitter(r),this)}reconnectionDelayMax(r){var o;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(o=this.backoff)===null||o===void 0||o.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new wi(this.uri,this.opts);const o=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const d=xe(o,"open",function(){a.onopen(),r&&r()}),y=M=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",M),r?r(M):this.maybeReconnectOnOpen()},w=xe(o,"error",y);if(this._timeout!==!1){const M=this._timeout,F=this.setTimeoutFn(()=>{d(),y(new Error("timeout")),o.close()},M);this.opts.autoUnref&&F.unref(),this.subs.push(()=>{this.clearTimeoutFn(F)})}return this.subs.push(d),this.subs.push(w),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(xe(r,"ping",this.onping.bind(this)),xe(r,"data",this.ondata.bind(this)),xe(r,"error",this.onerror.bind(this)),xe(r,"close",this.onclose.bind(this)),xe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(o){this.onclose("parse error",o)}}ondecoded(r){ft(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,o){let a=this.nsps[r];return a?this._autoConnect&&!a.active&&a.connect():(a=new Yn(this,r,o),this.nsps[r]=a),a}_destroy(r){const o=Object.keys(this.nsps);for(const a of o)if(this.nsps[a].active)return;this._close()}_packet(r){const o=this.encoder.encode(r);for(let a=0;a<o.length;a++)this.engine.write(o[a],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,o){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(d=>{d?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",d)):r.onreconnect()}))},o);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Ke={};function gt(u,r){typeof u=="object"&&(r=u,u=void 0),r=r||{};const o=xi(u,r.path||"/socket.io"),a=o.source,d=o.id,y=o.path,w=Ke[d]&&y in Ke[d].nsps,M=r.forceNew||r["force new connection"]||r.multiplex===!1||w;let F;return M?F=new Kt(a,r):(Ke[d]||(Ke[d]=new Kt(a,r)),F=Ke[d]),o.query&&!r.query&&(r.query=o.queryKey),F.socket(o.path,r)}Object.assign(gt,{Manager:Kt,Socket:Yn,io:gt,connect:gt});class Bi extends Error{constructor(o,a){super(a);Re(this,"code");this.code=o,this.message=a}}let ve;class Li extends zr.EventEmitter{constructor(o=console){super();Re(this,"logger");this.logger=o}connect(o,a){const d=this.logger;return new Promise((y,w)=>{ve=gt(o,{query:{token:a.token}}),ve.on("connect_error",M=>{d.error(`socket.io connect error, id: ${ve.id}, err: ${M.message}`),w(new Bi("connectError",M.message))}),ve.on("connect",()=>{d.info(`socket.io connected, id: ${ve.id}`)}),ve.on("disconnect",()=>{d.warn(`socket.io disconnected, id: ${ve.id}`)}),ve.on("signal",M=>{this.emit("message",M)}),ve.io.on("reconnect",M=>{d.info(`socket.io reconnected, attempt: ${M}`)}),ve.io.on("reconnect_attempt",M=>{d.warn(`socket.io reconnect attempt, attempt: ${M}`),this.emit("reconnectAttempt")}),ve.io.on("reconnect_error",M=>{d.error(`socket.io reconnect error, err: ${M.message}`)}),ve.io.on("reconnect_failed",()=>{d.error("socket.io reconnect failed"),this.emit("reconnectFailed")})})}close(){return new Promise(o=>{ve.close(),o()})}}const _i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAADYCAMAAAC+/t3fAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUdwTDLI/zzH/TLI/z7P/TLI/zHH/jLH/zLI/zPH/7u9vDLH/+zm4TPH/9unoDPI/zHI/2CXpdvc3uHi4+/r57/Byfnz7NnX1VFFRTLI/zLH/k08OFVDPjPF+iMiKfvcvCoiITspIhkUE005Mkk0LFZIRC4cFUcwJjIlITIoKSIZFiYfHSslJxUNC+bHtkEwKPjdyB0RDB4eJzomHeHAr0A1NPz69EIsI+jKujotKvPPtExBP8mhjFQ/OEY4NT4xMCQlMO7Do8iVfDAhGsyZfPrYuNiqkNuwligqNWJSSx8cIFtNSSswPvDLr928q/fZxGhYUe/HqhoYHem/oevJs2xeV/nh0MOjm1g6L82eguPEs+i6mPnGsEFLXHRlXT5EUvi7pzXC9M2Rcvrn19i3qcqomfXUueu8rzI3RVE2LCcWDzc+TkM8PzgiGDbA78+snNekh73Ez2Q/M/nKtwwIBktLUPns3922ntGmjX1tZfjBqezMuenDrNmzoPm3oPW/rzMsL8WbiO3QwOa0kfbOq8GIcfnPveOtivXUwvnTruy/msKenElTYuC6pDe86Tq44dGwpHRSSrSQhTuz277M3/qxmu63qWZIP7+Bab6WibaeoOqlljUyN+rNvkOYstiQhEKPqfPEt8CQez6fwNiFejqnzXNDMEB7kZFYRU1aaH1bUtN6dbR6Y+2tnrqak1VVV9mxsYd3bqpzWfTJoeG5sNeceT2v045qYaJ8bNaVbeGkfNmci4hiWMyusMymp7CEb7CJfUCGoHlKP55fQOidjdWMX55mU5hzauq0n05ibaxqSr6qqUdxg8iTlvjz6qODecF+g4ZSOz5lfd9ZPsd2X8ZFLcWLj1JtcsNrV8u3sVdmXkmqxG92a1QwI9SbnMNURbh1d9+Latt7WN5pRuWVePakh8qGhamVl0wnGe1qW1eMlN/Z2GU1Iqi0vlmjspWOkI9KL/V3Z6ZqaFV8h1Z8a2yDeouCgeuSh9DLyM1jPpmkqvWIcZwvInaxuoV6iUdwTIaiDnQAAAEAdFJOUwCmMHAQxIDv3yD9YPxA/VCQ/ms+nre7FlD//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wCfCrf8AABCMklEQVR42tScfVSTZ7b2j1Vbte3bvn9qUk4e8v1BI4SsNIYkaDxKCGpEKVELtI5ogKS2KVGp2Al1UFehLYlrJqCpWqwIlELhrSVtURAdULRlVKx2zlDrR61nVY8eu5ZLO+vMeq99B3C6VrWPHex0tqAUwcmPa+/r3ve+72f+7b7GuImPPfzgmDHjx0+Y8NDkWEyYMH78mMcffPjRB/7tXzLGPTr28fETGMqUKZN/ECP/+dD4x8c+Ou5fCOqBsWOAxDfGjxn76L8A1KNjxz/EROEfTLuxv+bMHPfwGAb182LCmMfG/TqpINXPhBqpvTEP/9rYHgXV6MSYx35FZvEgLyr+OTnxVyLWaFLFcnL8w//0yvoxsbByPfH85l07d+7ctvv48d3bdn74xhNTEM89/2HsU8eP7t+588Pnn8Nn7ygbqu1XhsWodu4/WplT2dDg95vyciqP79/15htvbN5Gn8wrKnIX4a8AtwOfvTPbhAcn/sqw3ti1Y/fhSr/Jo9d7TCaPRw+Q47sRDTlFGRnuDHcR2PAHfXb/rs3PP8ED7VeBtf9Ui18qNRGTNeIx6S2RiLsINHmeSFpaBkVaalwqIi3DnXf86I5db9wF7RdPyLE/VlvA2rn/sN8kEIstAgEjs1rwHgBLXAa4UlMz0tJSk5KSMtOTkoiM6bZj111Ue/if74SEtbsBWCwser3eIvDorR6jNZCWlpYe0QdIJoaVmcSg3JSVeXk5qMG7qPbLLWwTx/w41i5gCc1mMwMTIgR6PVVaQKlJS820WjVxcalxMSxkZwTigY5Ey6s8vmPzc3cim4J17Z+Yhc9t3oEkJKkoBBaB0GG32016j0WvBFhckjUALoaVFokEkJVDATzUWsPunXcUbcpDY38Jue6YhS1CYA2DCUwWi8melevEn8qA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";var Ze={exports:{}},Fi=Ze.exports,zn;function Ni(){return zn||(zn=1,function(u,r){(function(o,a){u.exports=a()})(Fi,function(){function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(i){F(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function d(t){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,oe(i.key),i)}}function M(t,e,n){return e&&w(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F(t,e,n){return(e=oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(t)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X(t,e)}function V(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=J(t);if(e){var s=J(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(c,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(c)}(this,n)}}function ie(){return ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(c,l){for(;!Object.prototype.hasOwnProperty.call(c,l)&&(c=J(c))!==null;);return c}(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},ie.apply(this,arguments)}function oe(t){var e=function(n,i){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var c=s.call(n,i);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(t,"string");return typeof e=="symbol"?e:e+""}var $=function(t){return!(!t||!t.Window)&&t instanceof t.Window},ae=void 0,pe=void 0;function me(t){ae=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),pe=t}function S(t){return $(t)?t:(t.ownerDocument||t).defaultView||pe.window}typeof window<"u"&&window&&me(window);var T=function(t){return!!t&&d(t)==="object"},I=function(t){return typeof t=="function"},v={window:function(t){return t===pe||$(t)},docFrag:function(t){return T(t)&&t.nodeType===11},object:T,func:I,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||d(t)!=="object")return!1;var e=S(t)||pe;return/object|function/.test(typeof Element>"u"?"undefined":d(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return T(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return T(t)&&t.length!==void 0&&I(t.splice)}};function _(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.prepared.axis;n==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):n==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function H(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="drag"){var i=n.prepared.axis;if(i==="x"||i==="y"){var s=i==="x"?"y":"x";e.page[s]=n.coords.start.page[s],e.client[s]=n.coords.start.client[s],e.delta[s]=0}}}var j={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=j.draggable,e.map.drag=j,e.methodDict.drag="draggable",i.actions.drag=j.defaults},listeners:{"interactions:before-action-move":_,"interactions:action-resume":_,"interactions:action-move":H,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,s=n.options.drag;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(i&n.options.drag.mouseButtons)!=0))return t.action={name:"drag",axis:s.lockAxis==="start"?s.startAxis:s.lockAxis},!1}},draggable:function(t){return v.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):v.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:_,move:H,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},ce=j,se={init:function(t){var e=t;se.document=e.document,se.DocumentFragment=e.DocumentFragment||ye,se.SVGElement=e.SVGElement||ye,se.SVGSVGElement=e.SVGSVGElement||ye,se.SVGElementInstance=e.SVGElementInstance||ye,se.Element=e.Element||ye,se.HTMLElement=e.HTMLElement||se.Element,se.Event=e.Event,se.Touch=e.Touch||ye,se.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ye(){}var te=se,fe={init:function(t){var e=te.Element,n=t.navigator||{};fe.supportsTouch="ontouchstart"in t||v.func(t.DocumentTouch)&&te.document instanceof t.DocumentTouch,fe.supportsPointerEvent=n.pointerEnabled!==!1&&!!te.PointerEvent,fe.isIOS=/iP(hone|od|ad)/.test(n.platform),fe.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),fe.isIe9=/MSIE 9/.test(n.userAgent),fe.isOperaMobile=n.appName==="Opera"&&fe.supportsTouch&&/Presto/.test(n.userAgent),fe.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",fe.pEventTypes=fe.supportsPointerEvent?te.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,fe.wheelEvent=te.document&&"onmousewheel"in te.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},x=fe;function k(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function P(t,e){for(;v.element(t);){if(D(t,e))return t;t=N(t)}return null}function N(t){var e=t.parentNode;if(v.docFrag(e)){for(;(e=e.host)&&v.docFrag(e););return e}return e}function D(t,e){return pe!==ae&&(e=e.replace(/\/deep\//g," ")),t[x.prefixedMatchesSelector](e)}var Q=function(t){return t.parentNode||t.host};function ne(t,e){for(var n,i=[],s=t;(n=Q(s))&&s!==e&&n!==s.ownerDocument;)i.unshift(s),s=n;return i}function ue(t,e,n){for(;v.element(t);){if(D(t,e))return!0;if((t=N(t))===n)return D(t,e)}return!1}function he(t){return t.correspondingUseElement||t}function Se(t){var e=t instanceof te.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function Me(t){var e,n=Se(t);if(!x.isIOS7&&n){var i={x:(e=(e=S(t))||pe).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n}function Oe(t){for(var e=[];t;)e.push(t),t=N(t);return e}function Gn(t){return!!v.string(t)&&(te.document.querySelector(t),!0)}function L(t,e){for(var n in e)t[n]=e[n];return t}function Vn(t,e,n){return t==="parent"?N(n):t==="self"?e.getRect(n):P(n,t)}function He(t,e,n,i){var s=t;return v.string(s)?s=Vn(s,e,n):v.func(s)&&(s=s.apply(void 0,i)),v.element(s)&&(s=Me(s)),s}function vt(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function Zt(t){return!t||"x"in t&&"y"in t||((t=L({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function mt(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function Je(t,e,n){var i=n&&t.options[n];return vt(He(i&&i.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function Ne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(h){return!0},i=arguments.length>3?arguments[3]:void 0;if(i=i||{},v.string(t)&&t.search(" ")!==-1&&(t=Un(t)),v.array(t))return t.forEach(function(h){return Ne(h,e,n,i)}),i;if(v.object(t)&&(e=t,t=""),v.func(e)&&n(t))i[t]=i[t]||[],i[t].push(e);else if(v.array(e))for(var s=0,c=e;s<c.length;s++){var l=c[s];Ne(t,l,n,i)}else if(v.object(e))for(var f in e)Ne(Un(f).map(function(h){return"".concat(t).concat(h)}),e[f],n,i);return i}function Un(t){return t.trim().split(/ +/)}var Qe=function(t,e){return Math.sqrt(t*t+e*e)},Ui=["webkit","moz"];function yt(t,e){t.__set||(t.__set={});var n=function(s){if(Ui.some(function(c){return s.indexOf(c)===0}))return 1;typeof t[s]!="function"&&s!=="__set"&&Object.defineProperty(t,s,{get:function(){return s in t.__set?t.__set[s]:t.__set[s]=e[s]},set:function(c){t.__set[s]=c},configurable:!0})};for(var i in e)n(i);return t}function bt(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function qn(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Wn(t){return t instanceof te.Event||t instanceof te.Touch}function wt(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function Kn(t,e){return e=e||{x:0,y:0},x.isOperaMobile&&Wn(t)?(wt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):wt("page",t,e),e}function Xe(t){return v.number(t.pointerId)?t.pointerId:t.identifier}function qi(t,e,n){var i=e.length>1?Zn(e):e[0];Kn(i,t.page),function(s,c){c=c||{},x.isOperaMobile&&Wn(s)?wt("screen",s,c):wt("client",s,c)}(i,t.client),t.timeStamp=n}function Ht(t){var e=[];return v.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function Zn(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var s in e)e[s]+=i[s]}for(var c in e)e[c]/=t.length;return e}function Jt(t){if(!t.length)return null;var e=Ht(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),s=Math.max(e[0].pageX,e[1].pageX),c=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:s,bottom:c,width:s-n,height:c-i}}function Qt(t,e){var n=e+"X",i=e+"Y",s=Ht(t),c=s[0][n]-s[1][n],l=s[0][i]-s[1][i];return Qe(c,l)}function Xt(t,e){var n=e+"X",i=e+"Y",s=Ht(t),c=s[1][n]-s[0][n],l=s[1][i]-s[0][i];return 180*Math.atan2(l,c)/Math.PI}function Hn(t){return v.string(t.pointerType)?t.pointerType:v.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof te.Touch?"touch":"mouse"}function Jn(t){var e=v.func(t.composedPath)?t.composedPath():t.path;return[he(e?e[0]:t.target),he(t.currentTarget)]}var xt=function(){function t(e){y(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return M(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(xt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Qn=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t},Xn=function(t){return Qn([],t)},$e=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},et=function(t,e){return t[$e(t,e)]},Ue=function(t){q(n,t);var e=Z(n);function n(i,s,c){var l;y(this,n),(l=e.call(this,s._interaction)).dropzone=void 0,l.dragEvent=void 0,l.relatedTarget=void 0,l.draggable=void 0,l.propagationStopped=!1,l.immediatePropagationStopped=!1;var f=c==="dragleave"?i.prev:i.cur,h=f.element,g=f.dropzone;return l.type=c,l.target=h,l.currentTarget=h,l.dropzone=g,l.dragEvent=s,l.relatedTarget=s.target,l.draggable=s.interactable,l.timeStamp=s.timeStamp,l}return M(n,[{key:"reject",value:function(){var i=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var c=s.activeDrops,l=$e(c,function(h){var g=h.dropzone,p=h.element;return g===i.dropzone&&p===i.target});s.activeDrops.splice(l,1);var f=new n(s,this.dragEvent,"dropdeactivate");f.dropzone=this.dropzone,f.target=this.target,this.dropzone.fire(f)}else this.dropzone.fire(new n(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(xt);function $n(t,e){for(var n=0,i=t.slice();n<i.length;n++){var s=i[n],c=s.dropzone,l=s.element;e.dropzone=c,e.target=l,c.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function $t(t,e){for(var n=function(c,l){for(var f=[],h=0,g=c.interactables.list;h<g.length;h++){var p=g[h];if(p.options.drop.enabled){var m=p.options.drop.accept;if(!(v.element(m)&&m!==l||v.string(m)&&!D(l,m)||v.func(m)&&!m({dropzone:p,draggableElement:l})))for(var b=0,A=p.getAllElements();b<A.length;b++){var E=A[b];E!==l&&f.push({dropzone:p,element:E,rect:p.getRect(E)})}}}return f}(t,e),i=0;i<n.length;i++){var s=n[i];s.rect=s.dropzone.getRect(s.element)}return n}function er(t,e,n){for(var i=t.dropState,s=t.interactable,c=t.element,l=[],f=0,h=i.activeDrops;f<h.length;f++){var g=h[f],p=g.dropzone,m=g.element,b=g.rect,A=p.dropCheck(e,n,s,c,m,b);l.push(A?m:null)}var E=function(O){for(var R,C,B,G=[],W=0;W<O.length;W++){var Y=O[W],U=O[R];if(Y&&W!==R)if(U){var ge=Q(Y),ee=Q(U);if(ge!==Y.ownerDocument)if(ee!==Y.ownerDocument)if(ge!==ee){G=G.length?G:ne(U);var be=void 0;if(U instanceof te.HTMLElement&&Y instanceof te.SVGElement&&!(Y instanceof te.SVGSVGElement)){if(Y===ee)continue;be=Y.ownerSVGElement}else be=Y;for(var Ee=ne(be,U.ownerDocument),Ce=0;Ee[Ce]&&Ee[Ce]===G[Ce];)Ce++;var Pt=[Ee[Ce-1],Ee[Ce],G[Ce]];if(Pt[0])for(var st=Pt[0].lastChild;st;){if(st===Pt[1]){R=W,G=Ee;break}if(st===Pt[2])break;st=st.previousSibling}}else B=U,(parseInt(S(C=Y).getComputedStyle(C).zIndex,10)||0)>=(parseInt(S(B).getComputedStyle(B).zIndex,10)||0)&&(R=W);else R=W}else R=W}return R}(l);return i.activeDrops[E]||null}function en(t,e,n){var i=t.dropState,s={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(s.activate=new Ue(i,n,"dropactivate"),s.activate.target=null,s.activate.dropzone=null),n.type==="dragend"&&(s.deactivate=new Ue(i,n,"dropdeactivate"),s.deactivate.target=null,s.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(s.leave=new Ue(i,n,"dragleave"),n.dragLeave=s.leave.target=i.prev.element,n.prevDropzone=s.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(s.enter=new Ue(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(s.drop=new Ue(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(s.move=new Ue(i,n,"dropmove"),n.dropzone=i.cur.dropzone)),s}function tn(t,e){var n=t.dropState,i=n.activeDrops,s=n.cur,c=n.prev;e.leave&&c.dropzone.fire(e.leave),e.enter&&s.dropzone.fire(e.enter),e.move&&s.dropzone.fire(e.move),e.drop&&s.dropzone.fire(e.drop),e.deactivate&&$n(i,e.deactivate),n.prev.dropzone=s.dropzone,n.prev.element=s.element}function tr(t,e){var n=t.interaction,i=t.iEvent,s=t.event;if(i.type==="dragmove"||i.type==="dragend"){var c=n.dropState;e.dynamicDrop&&(c.activeDrops=$t(e,n.element));var l=i,f=er(n,l,s);c.rejected=c.rejected&&!!f&&f.dropzone===c.cur.dropzone&&f.element===c.cur.element,c.cur.dropzone=f&&f.dropzone,c.cur.element=f&&f.element,c.events=en(n,0,l)}}var nr={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,i=t.Interactable,s=t.defaults;t.usePlugin(ce),i.prototype.dropzone=function(c){return function(l,f){if(v.object(f)){if(l.options.drop.enabled=f.enabled!==!1,f.listeners){var h=Ne(f.listeners),g=Object.keys(h).reduce(function(m,b){return m[/^(enter|leave)/.test(b)?"drag".concat(b):/^(activate|deactivate|move)/.test(b)?"drop".concat(b):b]=h[b],m},{}),p=l.options.drop.listeners;p&&l.off(p),l.on(g),l.options.drop.listeners=g}return v.func(f.ondrop)&&l.on("drop",f.ondrop),v.func(f.ondropactivate)&&l.on("dropactivate",f.ondropactivate),v.func(f.ondropdeactivate)&&l.on("dropdeactivate",f.ondropdeactivate),v.func(f.ondragenter)&&l.on("dragenter",f.ondragenter),v.func(f.ondragleave)&&l.on("dragleave",f.ondragleave),v.func(f.ondropmove)&&l.on("dropmove",f.ondropmove),/^(pointer|center)$/.test(f.overlap)?l.options.drop.overlap=f.overlap:v.number(f.overlap)&&(l.options.drop.overlap=Math.max(Math.min(1,f.overlap),0)),"accept"in f&&(l.options.drop.accept=f.accept),"checker"in f&&(l.options.drop.checker=f.checker),l}return v.bool(f)?(l.options.drop.enabled=f,l):l.options.drop}(this,c)},i.prototype.dropCheck=function(c,l,f,h,g,p){return function(m,b,A,E,O,R,C){var B=!1;if(!(C=C||m.getRect(R)))return!!m.options.drop.checker&&m.options.drop.checker(b,A,B,m,R,E,O);var G=m.options.drop.overlap;if(G==="pointer"){var W=Je(E,O,"drag"),Y=Kn(b);Y.x+=W.x,Y.y+=W.y;var U=Y.x>C.left&&Y.x<C.right,ge=Y.y>C.top&&Y.y<C.bottom;B=U&&ge}var ee=E.getRect(O);if(ee&&G==="center"){var be=ee.left+ee.width/2,Ee=ee.top+ee.height/2;B=be>=C.left&&be<=C.right&&Ee>=C.top&&Ee<=C.bottom}return ee&&v.number(G)&&(B=Math.max(0,Math.min(C.right,ee.right)-Math.max(C.left,ee.left))*Math.max(0,Math.min(C.bottom,ee.bottom)-Math.max(C.top,ee.top))/(ee.width*ee.height)>=G),m.options.drop.checker&&(B=m.options.drop.checker(b,A,B,m,R,E,O)),B}(this,c,l,f,h,g,p)},n.dynamicDrop=function(c){return v.bool(c)?(t.dynamicDrop=c,n):t.dynamicDrop},L(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,s.actions.drop=nr.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if(n.prepared.name==="drag"){var s=n.dropState;s.activeDrops=[],s.events={},s.activeDrops=$t(e,n.element),s.events=en(n,0,i),s.events.activate&&($n(s.activeDrops,s.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":tr,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;if(n.prepared.name==="drag"){var s=n.dropState;tn(n,s.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),s.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var n=t.interaction,i=t.iEvent;tr(t,e),tn(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:$t,getDrop:er,getDropEvents:en,fireDropEvents:tn,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Wi=nr;function nn(t){var e=t.interaction,n=t.iEvent,i=t.phase;if(e.prepared.name==="gesture"){var s=e.pointers.map(function(g){return g.pointer}),c=i==="start",l=i==="end",f=e.interactable.options.deltaSource;if(n.touches=[s[0],s[1]],c)n.distance=Qt(s,f),n.box=Jt(s),n.scale=1,n.ds=0,n.angle=Xt(s,f),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(l||e.pointers.length<2){var h=e.prevEvent;n.distance=h.distance,n.box=h.box,n.scale=h.scale,n.ds=0,n.angle=h.angle,n.da=0}else n.distance=Qt(s,f),n.box=Jt(s),n.scale=n.distance/e.gesture.startDistance,n.angle=Xt(s,f),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,v.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var rn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(s){return v.object(s)?(this.options.gesture.enabled=s.enabled!==!1,this.setPerAction("gesture",s),this.setOnEvents("gesture",s),this):v.bool(s)?(this.options.gesture.enabled=s,this):this.options.gesture},e.map.gesture=rn,e.methodDict.gesture="gesturable",i.actions.gesture=rn.defaults},listeners:{"interactions:action-start":nn,"interactions:action-move":nn,"interactions:action-end":nn,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},Ki=rn;function Zi(t,e,n,i,s,c,l){if(!e)return!1;if(e===!0){var f=v.number(c.width)?c.width:c.right-c.left,h=v.number(c.height)?c.height:c.bottom-c.top;if(l=Math.min(l,Math.abs((t==="left"||t==="right"?f:h)/2)),f<0&&(t==="left"?t="right":t==="right"&&(t="left")),h<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var g=f>=0?c.left:c.right;return n.x<g+l}if(t==="top"){var p=h>=0?c.top:c.bottom;return n.y<p+l}if(t==="right")return n.x>(f>=0?c.right:c.left)-l;if(t==="bottom")return n.y>(h>=0?c.bottom:c.top)-l}return!!v.element(i)&&(v.element(e)?e===i:ue(i,e,s))}function rr(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var i=e;n.interactable.options.resize.square?(n.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,n.resizeAxes==="x"?i.delta.y=0:n.resizeAxes==="y"&&(i.delta.x=0))}}var Ie,Ye,Pe={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,s=t.defaults;Pe.cursors=function(c){return c.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Pe.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(c){return function(l,f,h){return v.object(f)?(l.options.resize.enabled=f.enabled!==!1,l.setPerAction("resize",f),l.setOnEvents("resize",f),v.string(f.axis)&&/^x$|^y$|^xy$/.test(f.axis)?l.options.resize.axis=f.axis:f.axis===null&&(l.options.resize.axis=h.defaults.actions.resize.axis),v.bool(f.preserveAspectRatio)?l.options.resize.preserveAspectRatio=f.preserveAspectRatio:v.bool(f.square)&&(l.options.resize.square=f.square),l):v.bool(f)?(l.options.resize.enabled=f,l):l.options.resize}(this,c,t)},e.map.resize=Pe,e.methodDict.resize="resizable",s.actions.resize=Pe.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var s=n,c=i.rect;i._rects={start:L({},c),corrected:L({},c),previous:L({},c),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},s.edges=i.prepared.edges,s.rect=i._rects.corrected,s.deltaRect=i._rects.delta}})(t),rr(t)},"interactions:action-move":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var s=n,c=i.interactable.options.resize.invert,l=c==="reposition"||c==="negate",f=i.rect,h=i._rects,g=h.start,p=h.corrected,m=h.delta,b=h.previous;if(L(b,p),l){if(L(p,f),c==="reposition"){if(p.top>p.bottom){var A=p.top;p.top=p.bottom,p.bottom=A}if(p.left>p.right){var E=p.left;p.left=p.right,p.right=E}}}else p.top=Math.min(f.top,g.bottom),p.bottom=Math.max(f.bottom,g.top),p.left=Math.min(f.left,g.right),p.right=Math.max(f.right,g.left);for(var O in p.width=p.right-p.left,p.height=p.bottom-p.top,p)m[O]=p[O]-b[O];s.edges=i.prepared.edges,s.rect=p,s.deltaRect=m}})(t),rr(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,s=t.rect,c=t.buttons;if(s){var l=L({},e.coords.cur.page),f=n.options.resize;if(f&&f.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||(c&f.mouseButtons)!=0)){if(v.object(f.edges)){var h={left:!1,right:!1,top:!1,bottom:!1};for(var g in h)h[g]=Zi(g,f.edges[g],l,e._latestPointer.eventTarget,i,s,f.margin||Pe.defaultMargin);h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,(h.left||h.right||h.top||h.bottom)&&(t.action={name:"resize",edges:h})}else{var p=f.axis!=="y"&&l.x>s.right-Pe.defaultMargin,m=f.axis!=="x"&&l.y>s.bottom-Pe.defaultMargin;(p||m)&&(t.action={name:"resize",axes:(p?"x":"")+(m?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,s=Pe.cursors,c=null;if(n)c=s[i+n];else if(e){for(var l="",f=0,h=["top","bottom","left","right"];f<h.length;f++){var g=h[f];e[g]&&(l+=g)}c=s[l]}return c},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},Hi=Pe,Ji={id:"actions",install:function(t){t.usePlugin(Ki),t.usePlugin(Hi),t.usePlugin(ce),t.usePlugin(Wi)}},ir=0,Be={request:function(t){return Ie(t)},cancel:function(t){return Ye(t)},init:function(t){if(Ie=t.requestAnimationFrame,Ye=t.cancelAnimationFrame,!Ie)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];Ie=t["".concat(i,"RequestAnimationFrame")],Ye=t["".concat(i,"CancelAnimationFrame")]||t["".concat(i,"CancelRequestAnimationFrame")]}Ie=Ie&&Ie.bind(t),Ye=Ye&&Ye.bind(t),Ie||(Ie=function(s){var c=Date.now(),l=Math.max(0,16-(c-ir)),f=t.setTimeout(function(){s(c+l)},l);return ir=c+l,f},Ye=function(s){return clearTimeout(s)})}},z={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){z.isScrolling=!0,Be.cancel(z.i),t.autoScroll=z,z.interaction=t,z.prevTime=z.now(),z.i=Be.request(z.scroll)},stop:function(){z.isScrolling=!1,z.interaction&&(z.interaction.autoScroll=null),Be.cancel(z.i)},scroll:function(){var t=z.interaction,e=t.interactable,n=t.element,i=t.prepared.name,s=e.options[i].autoScroll,c=or(s.container,e,n),l=z.now(),f=(l-z.prevTime)/1e3,h=s.speed*f;if(h>=1){var g={x:z.x*h,y:z.y*h};if(g.x||g.y){var p=sr(c);v.window(c)?c.scrollBy(g.x,g.y):c&&(c.scrollLeft+=g.x,c.scrollTop+=g.y);var m=sr(c),b={x:m.x-p.x,y:m.y-p.y};(b.x||b.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:b,interaction:t,container:c})}z.prevTime=l}z.isScrolling&&(Be.cancel(z.i),z.i=Be.request(z.scroll))},check:function(t,e){var n;return(n=t.options[e].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&z.check(e.interactable,e.prepared.name))if(e.simulation)z.x=z.y=0;else{var i,s,c,l,f=e.interactable,h=e.element,g=e.prepared.name,p=f.options[g].autoScroll,m=or(p.container,f,h);if(v.window(m))l=n.clientX<z.margin,i=n.clientY<z.margin,s=n.clientX>m.innerWidth-z.margin,c=n.clientY>m.innerHeight-z.margin;else{var b=Se(m);l=n.clientX<b.left+z.margin,i=n.clientY<b.top+z.margin,s=n.clientX>b.right-z.margin,c=n.clientY>b.bottom-z.margin}z.x=s?1:l?-1:0,z.y=c?1:i?-1:0,z.isScrolling||(z.margin=p.margin,z.speed=p.speed,z.start(e))}}};function or(t,e,n){return(v.string(t)?Vn(t,e,n):t)||S(n)}function sr(t){return v.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Qi={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=z,z.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=z.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,z.stop(),z.interaction&&(z.interaction=null)},"interactions:stop":z.stop,"interactions:action-move":function(t){return z.onInteractionMove(t)}}},Xi=Qi;function tt(t,e){var n=!1;return function(){return n||(pe.console.warn(e),n=!0),t.apply(this,arguments)}}function on(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function $i(t){return v.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function eo(t){return v.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var to={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(n,i,s,c){var l=function(f,h,g,p,m){var b=f.getRect(p),A=h.buttons||{0:1,1:4,3:8,4:16}[h.button],E={action:null,interactable:f,interaction:g,element:p,rect:b,buttons:A};return m.fire("auto-start:check",E),E.action}(this,i,s,c,t);return this.options.actionChecker?this.options.actionChecker(n,i,l,this,c,s):l},e.prototype.ignoreFrom=tt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=tt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=eo,e.prototype.styleCursor=$i}};function ar(t,e,n,i,s){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&Et(e,n,t,s)?t:null}function no(t,e,n,i,s,c,l){for(var f=0,h=i.length;f<h;f++){var g=i[f],p=s[f],m=g.getAction(e,n,t,p);if(m){var b=ar(m,g,p,c,l);if(b)return{action:b,interactable:g,element:p}}}return{action:null,interactable:null,element:null}}function cr(t,e,n,i,s){var c=[],l=[],f=i;function h(p){c.push(p),l.push(f)}for(;v.element(f);){c=[],l=[],s.interactables.forEachMatch(f,h);var g=no(t,e,n,c,l,i,s);if(g.action&&!g.interactable.options[g.action.name].manualStart)return g;f=N(f)}return{action:null,interactable:null,element:null}}function ur(t,e,n){var i=e.action,s=e.interactable,c=e.element;i=i||{name:null},t.interactable=s,t.element=c,on(t.prepared,i),t.rect=s&&i.name?s.getRect(c):null,fr(t,n),n.fire("autoStart:prepared",{interaction:t})}function Et(t,e,n,i){var s=t.options,c=s[n.name].max,l=s[n.name].maxPerElement,f=i.autoStart.maxInteractions,h=0,g=0,p=0;if(!(c&&l&&f))return!1;for(var m=0,b=i.interactions.list;m<b.length;m++){var A=b[m],E=A.prepared.name;if(A.interacting()&&(++h>=f||A.interactable===t&&((g+=E===n.name?1:0)>=c||A.element===e&&(p++,E===n.name&&p>=l))))return!1}return f>0}function lr(t,e){return v.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function sn(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function fr(t,e){var n=t.interactable,i=t.element,s=t.prepared;if(t.pointerType==="mouse"&&n&&n.options.styleCursor){var c="";if(s.name){var l=n.options[s.name].cursorChecker;c=v.func(l)?l(s,n,i,t._interacting):e.actions.map[s.name].getCursor(s)}sn(t.element,c||"",e)}else e.autoStart.cursorElement&&sn(e.autoStart.cursorElement,"",e)}var ro={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(to),n.base.actionChecker=null,n.base.styleCursor=!0,L(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(i){return lr(i,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Et,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,s=t.event,c=t.eventTarget;n.interacting()||ur(n,cr(n,i,s,c,e),e)},"interactions:move":function(t,e){(function(n,i){var s=n.interaction,c=n.pointer,l=n.event,f=n.eventTarget;s.pointerType!=="mouse"||s.pointerIsDown||s.interacting()||ur(s,cr(s,c,l,f,i),i)})(t,e),function(n,i){var s=n.interaction;if(s.pointerIsDown&&!s.interacting()&&s.pointerWasMoved&&s.prepared.name){i.fire("autoStart:before-start",n);var c=s.interactable,l=s.prepared.name;l&&c&&(c.options[l].manualStart||!Et(c,s.element,s.prepared,i)?s.stop():(s.start(s.prepared,c,s.element),fr(s,i)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&sn(n.element,"",e)}},maxInteractions:lr,withinInteractionLimit:Et,validateAction:ar},an=ro,io={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,s=t.dx,c=t.dy;if(n.prepared.name==="drag"){var l=Math.abs(s),f=Math.abs(c),h=n.interactable.options.drag,g=h.startAxis,p=l>f?"x":l<f?"y":"xy";if(n.prepared.axis=h.lockAxis==="start"?p[0]:h.lockAxis,p!=="xy"&&g!=="xy"&&g!==p){n.prepared.name=null;for(var m=i,b=function(E){if(E!==n.interactable){var O=n.interactable.options.drag;if(!O.manualStart&&E.testIgnoreAllow(O,m,i)){var R=E.getAction(n.downPointer,n.downEvent,n,m);if(R&&R.name==="drag"&&function(C,B){if(!B)return!1;var G=B.options.drag.startAxis;return C==="xy"||G==="xy"||G===C}(p,E)&&an.validateAction(R,E,m,i,e))return E}}};v.element(m);){var A=e.interactables.forEachMatch(m,b);if(A){n.prepared.name="drag",n.interactable=A,n.element=m;break}m=N(m)}}}}}};function cn(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var oo={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(an),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=cn(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;cn(e)>0&&(e.prepared.name=null)}},getHoldDuration:cn},so=oo,ao={id:"auto-start",install:function(t){t.usePlugin(an),t.usePlugin(so),t.usePlugin(io)}},co=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):v.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function uo(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var hr={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=co,e.prototype.checkAndPreventDefault=function(n){return function(i,s,c){var l=i.options.preventDefault;if(l!=="never")if(l!=="always"){if(s.events.supportsPassive&&/^touch(start|move)$/.test(c.type)){var f=S(c.target).document,h=s.getDocOptions(f);if(!h||!h.events||h.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(c.type)||v.element(c.target)&&D(c.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||c.preventDefault()}else c.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var i=0,s=t.interactions.list;i<s.length;i++){var c=s[i];if(c.element&&(c.element===n.target||k(c.element,n.target)))return void c.interactable.checkAndPreventDefault(n)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=uo,t},{})};function kt(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(t.indexOf(n)===0&&t.substr(n.length)in e.phases)return!0;return!1}function qe(t){var e={};for(var n in t){var i=t[n];v.plainObject(i)?e[n]=qe(i):v.array(i)?e[n]=Xn(i):e[n]=i}return e}var un=function(){function t(e){y(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=At(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return M(t,[{key:"start",value:function(e,n){var i,s,c=e.phase,l=this.interaction,f=function(g){var p=g.interactable.options[g.prepared.name],m=p.modifiers;return m&&m.length?m:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(b){var A=p[b];return A&&A.enabled&&{options:A,methods:A._methods}}).filter(function(b){return!!b})}(l);this.prepareStates(f),this.startEdges=L({},l.edges),this.edges=L({},this.startEdges),this.startOffset=(i=l.rect,s=n,i?{left:s.x-i.left,top:s.y-i.top,right:i.right-s.x,bottom:i.bottom-s.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var h=this.fillArg({phase:c,pageCoords:n,preEnd:!1});return this.result=At(),this.startAll(h),this.result=this.setAll(h)}},{key:"fillArg",value:function(e){var n=this.interaction;return e.interaction=n,e.interactable=n.interactable,e.element=n.element,e.rect||(e.rect=n.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var n=0,i=this.states;n<i.length;n++){var s=i[n];s.methods.start&&(e.state=s,s.methods.start(e))}}},{key:"setAll",value:function(e){var n=e.phase,i=e.preEnd,s=e.skipModifiers,c=e.rect,l=e.edges;e.coords=L({},e.pageCoords),e.rect=L({},c),e.edges=L({},l);for(var f=s?this.states.slice(s):this.states,h=At(e.coords,e.rect),g=0;g<f.length;g++){var p,m=f[g],b=m.options,A=L({},e.coords),E=null;(p=m.methods)!=null&&p.set&&this.shouldDo(b,i,n)&&(e.state=m,E=m.methods.set(e),mt(e.edges,e.rect,{x:e.coords.x-A.x,y:e.coords.y-A.y})),h.eventProps.push(E)}L(this.edges,e.edges),h.delta.x=e.coords.x-e.pageCoords.x,h.delta.y=e.coords.y-e.pageCoords.y,h.rectDelta.left=e.rect.left-c.left,h.rectDelta.right=e.rect.right-c.right,h.rectDelta.top=e.rect.top-c.top,h.rectDelta.bottom=e.rect.bottom-c.bottom;var O=this.result.coords,R=this.result.rect;if(O&&R){var C=h.rect.left!==R.left||h.rect.right!==R.right||h.rect.top!==R.top||h.rect.bottom!==R.bottom;h.changed=C||O.x!==h.coords.x||O.y!==h.coords.y}return h}},{key:"applyToInteraction",value:function(e){var n=this.interaction,i=e.phase,s=n.coords.cur,c=n.coords.start,l=this.result,f=this.startDelta,h=l.delta;i==="start"&&L(this.startDelta,l.delta);for(var g=0,p=[[c,f],[s,h]];g<p.length;g++){var m=p[g],b=m[0],A=m[1];b.page.x+=A.x,b.page.y+=A.y,b.client.x+=A.x,b.client.y+=A.y}var E=this.result.rectDelta,O=e.rect||n.rect;O.left+=E.left,O.right+=E.right,O.top+=E.top,O.bottom+=E.bottom,O.width=O.right-O.left,O.height=O.bottom-O.top}},{key:"setAndApply",value:function(e){var n=this.interaction,i=e.phase,s=e.preEnd,c=e.skipModifiers,l=this.setAll(this.fillArg({preEnd:s,phase:i,pageCoords:e.modifiedCoords||n.coords.cur.page}));if(this.result=l,!l.changed&&(!c||c<this.states.length)&&n.interacting())return!1;if(e.modifiedCoords){var f=n.coords.cur.page,h={x:e.modifiedCoords.x-f.x,y:e.modifiedCoords.y-f.y};l.coords.x+=h.x,l.coords.y+=h.y,l.delta.x+=h.x,l.delta.y+=h.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var n=e.interaction,i=e.event,s=this.states;if(s&&s.length){for(var c=!1,l=0;l<s.length;l++){var f=s[l];e.state=f;var h=f.options,g=f.methods,p=g.beforeEnd&&g.beforeEnd(e);if(p)return this.endResult=p,!1;c=c||!c&&this.shouldDo(h,!0,e.phase,!0)}c&&n.move({event:i,preEnd:!0})}}},{key:"stop",value:function(e){var n=e.interaction;if(this.states&&this.states.length){var i=L({states:this.states,interactable:n.interactable,element:n.element,rect:null},e);this.fillArg(i);for(var s=0,c=this.states;s<c.length;s++){var l=c[s];i.state=l,l.methods.stop&&l.methods.stop(i)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var n=0;n<e.length;n++){var i=e[n],s=i.options,c=i.methods,l=i.name;this.states.push({options:s,methods:c,index:n,name:l})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var n=e.interaction,i=n.coords,s=n.rect,c=n.modification;if(c.result){for(var l=c.startDelta,f=c.result,h=f.delta,g=f.rectDelta,p=0,m=[[i.start,l],[i.cur,h]];p<m.length;p++){var b=m[p],A=b[0],E=b[1];A.page.x-=E.x,A.page.y-=E.y,A.client.x-=E.x,A.client.y-=E.y}s.left-=g.left,s.right-=g.right,s.top-=g.top,s.bottom-=g.bottom}}},{key:"shouldDo",value:function(e,n,i,s){return!(!e||e.enabled===!1||s&&!e.endOnly||e.endOnly&&!n||i==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(n){return qe(n)}),this.result=At(L({},e.result.coords),L({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t}();function At(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Le(t,e){var n=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},s=function(c){var l=c||{};for(var f in l.enabled=l.enabled!==!1,n)f in l||(l[f]=n[f]);var h={options:l,methods:i,name:e,enable:function(){return l.enabled=!0,h},disable:function(){return l.enabled=!1,h}};return h};return e&&typeof e=="string"&&(s._defaults=n,s._methods=i),s}function nt(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var lo={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new un(e)},"interactions:before-action-start":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,n=e.modification,i=n.setAndApply(t);return e.edges=n.edges,i},"interactions:before-action-end":function(t){var e=t.interaction,n=e.modification,i=n.beforeEnd(t);return e.edges=n.startEdges,i},"interactions:action-start":nt,"interactions:action-move":nt,"interactions:action-end":nt,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},pr=lo,dr={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},ln=function(t){q(n,t);var e=Z(n);function n(i,s,c,l,f,h,g){var p;y(this,n),(p=e.call(this,i)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,f=f||i.element;var m=i.interactable,b=(m&&m.options||dr).deltaSource,A=Je(m,f,c),E=l==="start",O=l==="end",R=E?V(p):i.prevEvent,C=E?i.coords.start:O?{page:R.page,client:R.client,timeStamp:i.coords.cur.timeStamp}:i.coords.cur;return p.page=L({},C.page),p.client=L({},C.client),p.rect=L({},i.rect),p.timeStamp=C.timeStamp,O||(p.page.x-=A.x,p.page.y-=A.y,p.client.x-=A.x,p.client.y-=A.y),p.ctrlKey=s.ctrlKey,p.altKey=s.altKey,p.shiftKey=s.shiftKey,p.metaKey=s.metaKey,p.button=s.button,p.buttons=s.buttons,p.target=f,p.currentTarget=f,p.preEnd=h,p.type=g||c+(l||""),p.interactable=m,p.t0=E?i.pointers[i.pointers.length-1].downTime:R.t0,p.x0=i.coords.start.page.x-A.x,p.y0=i.coords.start.page.y-A.y,p.clientX0=i.coords.start.client.x-A.x,p.clientY0=i.coords.start.client.y-A.y,p.delta=E||O?{x:0,y:0}:{x:p[b].x-R[b].x,y:p[b].y-R[b].y},p.dt=i.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=L({},i.coords.velocity[b]),p.speed=Qe(p.velocity.x,p.velocity.y),p.swipe=O||l==="inertiastart"?p.getSwipe():null,p}return M(n,[{key:"getSwipe",value:function(){var i=this._interaction;if(i.prevEvent.speed<600||this.timeStamp-i.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(i.prevEvent.velocityY,i.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var c=112.5<=s&&s<247.5,l=202.5<=s&&s<337.5;return{up:l,down:!l&&22.5<=s&&s<157.5,left:c,right:!c&&(292.5<=s||s<67.5),angle:s,speed:i.prevEvent.speed,velocity:{x:i.prevEvent.velocityX,y:i.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(xt);Object.defineProperties(ln.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var fo=M(function t(e,n,i,s,c){y(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=i,this.downTime=s,this.downTarget=c}),ho=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t}({}),gr=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t}({}),po=0,go=function(){function t(e){var n=this,i=e.pointerType,s=e.scopeFire;y(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=tt(function(p){this.move(p)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=po++,this._scopeFire=s,this.pointerType=i;var c=this;this._proxy={};var l=function(p){Object.defineProperty(n._proxy,p,{get:function(){return c[p]}})};for(var f in ho)l(f);var h=function(p){Object.defineProperty(n._proxy,p,{value:function(){return c[p].apply(c,arguments)}})};for(var g in gr)h(g);this._scopeFire("interactions:new",{interaction:this})}return M(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,n,i){var s=this.updatePointer(e,n,i,!0),c=this.pointers[s];this._scopeFire("interactions:down",{pointer:e,event:n,eventTarget:i,pointerIndex:s,pointerInfo:c,type:"down",interaction:this})}},{key:"start",value:function(e,n,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!n.options[e.name].enabled)&&(on(this.prepared,e),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?L({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,n,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,n,i,!1);var s,c,l=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,c=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Qe(s,c)>this.pointerMoveTolerance);var f,h,g,p=this.getPointerIndex(e),m={pointer:e,pointerIndex:p,pointerInfo:this.pointers[p],event:n,type:"move",eventTarget:i,dx:s,dy:c,duplicate:l,interaction:this};l||(f=this.coords.velocity,h=this.coords.delta,g=Math.max(h.timeStamp/1e3,.001),f.page.x=h.page.x/g,f.page.y=h.page.y/g,f.client.x=h.client.x/g,f.client.y=h.client.y/g,f.timeStamp=g),this._scopeFire("interactions:move",m),l||this.simulation||(this.interacting()&&(m.type=null,this.move(m)),this.pointerWasMoved&&bt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||qn(this.coords.delta),(e=L({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,n,i,s){var c=this.getPointerIndex(e);c===-1&&(c=this.updatePointer(e,n,i,!1));var l=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:".concat(l),{pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:n,eventTarget:i,type:l,curEventTarget:s,interaction:this}),this.simulation||this.end(n),this.removePointer(e,n)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var n;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var n=Xe(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:$e(this.pointers,function(i){return i.id===n})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,n,i,s){var c,l,f,h=Xe(e),g=this.getPointerIndex(e),p=this.pointers[g];return s=s!==!1&&(s||/(down|start)$/i.test(n.type)),p?p.pointer=e:(p=new fo(h,e,n,null,null),g=this.pointers.length,this.pointers.push(p)),qi(this.coords.cur,this.pointers.map(function(m){return m.pointer}),this._now()),c=this.coords.delta,l=this.coords.prev,f=this.coords.cur,c.page.x=f.page.x-l.page.x,c.page.y=f.page.y-l.page.y,c.client.x=f.client.x-l.client.x,c.client.y=f.client.y-l.client.y,c.timeStamp=f.timeStamp-l.timeStamp,s&&(this.pointerIsDown=!0,p.downTime=this.coords.cur.timeStamp,p.downTarget=i,yt(this.downPointer,e),this.interacting()||(bt(this.coords.start,this.coords.cur),bt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,n,i),this._scopeFire("interactions:update-pointer",{pointer:e,event:n,eventTarget:i,down:s,pointerInfo:p,pointerIndex:g,interaction:this}),g}},{key:"removePointer",value:function(e,n){var i=this.getPointerIndex(e);if(i!==-1){var s=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:e,event:n,eventTarget:null,pointerIndex:i,pointerInfo:s,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,n,i){this._latestPointer.pointer=e,this._latestPointer.event=n,this._latestPointer.eventTarget=i}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,n,i,s){return new ln(this,e,this.prepared.name,n,this.element,i,s)}},{key:"_fireEvent",value:function(e){var n;(n=this.interactable)==null||n.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var n=e.event,i=e.phase,s=e.preEnd,c=e.type,l=this.rect;if(l&&i==="move"&&(mt(this.edges,l,this.coords.delta[this.interactable.options.deltaSource]),l.width=l.right-l.left,l.height=l.bottom-l.top),this._scopeFire("interactions:before-action-".concat(i),e)===!1)return!1;var f=e.iEvent=this._createPreparedEvent(n,i,s,c);return this._scopeFire("interactions:action-".concat(i),e),i==="start"&&(this.prevEvent=f),this._fireEvent(f),this._scopeFire("interactions:after-action-".concat(i),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function vr(t){mr(t.interaction)}function mr(t){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(t))return!1;var e=t.offset.pending;return fn(t.coords.cur,e),fn(t.coords.delta,e),mt(t.edges,t.rect,e),e.x=0,e.y=0,!0}function vo(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function fn(t,e){var n=t.page,i=t.client,s=e.x,c=e.y;n.x+=s,n.y+=c,i.x+=s,i.y+=c}gr.offsetBy="";var mo={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=vo},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return function(e){e.pointerIsDown&&(fn(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(t.interaction)},"interactions:before-action-start":vr,"interactions:before-action-move":vr,"interactions:before-action-end":function(t){var e=t.interaction;if(mr(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},yr=mo,yo=function(){function t(e){y(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return M(t,[{key:"start",value:function(e){var n=this.interaction,i=Tt(n);if(!i||!i.enabled)return!1;var s=n.coords.velocity.client,c=Qe(s.x,s.y),l=this.modification||(this.modification=new un(n));if(l.copyFrom(n.modification),this.t0=n._now(),this.allowResume=i.allowResume,this.v0=c,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=l.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&c>i.minSpeed&&c>i.endSpeed)this.startInertia();else{if(l.result=l.setAll(this.modifierArg),!l.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:e,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,n=this.interaction.coords.velocity.client,i=Tt(this.interaction),s=i.resistance,c=-Math.log(i.endSpeed/this.v0)/s;this.targetOffset={x:(n.x-c)/s,y:(n.y-c)/s},this.te=c,this.lambda_v0=s/this.v0,this.one_ve_v0=1-i.endSpeed/this.v0;var l=this.modification,f=this.modifierArg;f.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},l.result=l.setAll(f),l.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+l.result.delta.x,y:this.targetOffset.y+l.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var n=this;this.timeout=Be.request(function(){n.active&&e()})}},{key:"inertiaTick",value:function(){var e,n,i,s,c,l,f,h=this,g=this.interaction,p=Tt(g).resistance,m=(g._now()-this.t0)/1e3;if(m<this.te){var b,A=1-(Math.exp(-p*m)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,n=0,i=this.targetOffset.x,s=this.targetOffset.y,c=this.modifiedOffset.x,l=this.modifiedOffset.y,b={x:br(f=A,e,i,c),y:br(f,n,s,l)}):b={x:this.targetOffset.x*A,y:this.targetOffset.y*A};var E={x:b.x-this.currentOffset.x,y:b.y-this.currentOffset.y};this.currentOffset.x+=E.x,this.currentOffset.y+=E.y,g.offsetBy(E),g.move(),this.onNextFrame(function(){return h.inertiaTick()})}else g.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,n=this.interaction,i=n._now()-this.t0,s=Tt(n).smoothEndDuration;if(i<s){var c={x:wr(i,0,this.targetOffset.x,s),y:wr(i,0,this.targetOffset.y,s)},l={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=l.x,this.currentOffset.y+=l.y,n.offsetBy(l),n.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else n.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var n=e.pointer,i=e.event,s=e.eventTarget,c=this.interaction;c.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),c.updatePointer(n,i,s,!0),c._doPhase({interaction:c,event:i,phase:"resume"}),bt(c.coords.prev,c.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Be.cancel(this.timeout)}}]),t}();function Tt(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}var bo={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(yr),t.usePlugin(pr),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new yo(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var s=n;v.element(s);){if(s===e.element){i.resume(t);break}s=N(s)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":nt,"interactions:action-inertiastart":nt,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function br(t,e,n,i){var s=1-t;return s*s*e+2*s*t*n+t*t*i}function wr(t,e,n,i){return-n*(t/=i)*(t-2)+e}var wo=bo;function xr(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}var Er=function(){function t(e){y(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=L({},e||{})}return M(t,[{key:"fire",value:function(e){var n,i=this.global;(n=this.types[e.type])&&xr(e,n),!e.propagationStopped&&i&&(n=i[e.type])&&xr(e,n)}},{key:"on",value:function(e,n){var i=Ne(e,n);for(e in i)this.types[e]=Qn(this.types[e]||[],i[e])}},{key:"off",value:function(e,n){var i=Ne(e,n);for(e in i){var s=this.types[e];if(s&&s.length)for(var c=0,l=i[e];c<l.length;c++){var f=l[c],h=s.indexOf(f);h!==-1&&s.splice(h,1)}}}},{key:"getRect",value:function(e){return null}}]),t}(),xo=function(){function t(e){y(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,yt(this,e)}return M(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function rt(t){return v.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function St(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var Eo={id:"events",install:function(t){var e,n=[],i={},s=[],c={add:l,remove:f,addDelegate:function(p,m,b,A,E){var O=rt(E);if(!i[b]){i[b]=[];for(var R=0;R<s.length;R++){var C=s[R];l(C,b,h),l(C,b,g,!0)}}var B=i[b],G=et(B,function(W){return W.selector===p&&W.context===m});G||(G={selector:p,context:m,listeners:[]},B.push(G)),G.listeners.push({func:A,options:O})},removeDelegate:function(p,m,b,A,E){var O,R=rt(E),C=i[b],B=!1;if(C)for(O=C.length-1;O>=0;O--){var G=C[O];if(G.selector===p&&G.context===m){for(var W=G.listeners,Y=W.length-1;Y>=0;Y--){var U=W[Y];if(U.func===A&&St(U.options,R)){W.splice(Y,1),W.length||(C.splice(O,1),f(m,b,h),f(m,b,g,!0)),B=!0;break}}if(B)break}}},delegateListener:h,delegateUseCapture:g,delegatedEvents:i,documents:s,targets:n,supportsOptions:!1,supportsPassive:!1};function l(p,m,b,A){if(p.addEventListener){var E=rt(A),O=et(n,function(R){return R.eventTarget===p});O||(O={eventTarget:p,events:{}},n.push(O)),O.events[m]||(O.events[m]=[]),et(O.events[m],function(R){return R.func===b&&St(R.options,E)})||(p.addEventListener(m,b,c.supportsOptions?E:E.capture),O.events[m].push({func:b,options:E}))}}function f(p,m,b,A){if(p.addEventListener&&p.removeEventListener){var E=$e(n,function(ge){return ge.eventTarget===p}),O=n[E];if(O&&O.events)if(m!=="all"){var R=!1,C=O.events[m];if(C){if(b==="all"){for(var B=C.length-1;B>=0;B--){var G=C[B];f(p,m,G.func,G.options)}return}for(var W=rt(A),Y=0;Y<C.length;Y++){var U=C[Y];if(U.func===b&&St(U.options,W)){p.removeEventListener(m,b,c.supportsOptions?W:W.capture),C.splice(Y,1),C.length===0&&(delete O.events[m],R=!0);break}}}R&&!Object.keys(O.events).length&&n.splice(E,1)}else for(m in O.events)O.events.hasOwnProperty(m)&&f(p,m,"all")}}function h(p,m){for(var b=rt(m),A=new xo(p),E=i[p.type],O=Jn(p)[0],R=O;v.element(R);){for(var C=0;C<E.length;C++){var B=E[C],G=B.selector,W=B.context;if(D(R,G)&&k(W,O)&&k(W,R)){var Y=B.listeners;A.currentTarget=R;for(var U=0;U<Y.length;U++){var ge=Y[U];St(ge.options,b)&&ge.func(A)}}}R=N(R)}}function g(p){return h(p,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return c.supportsOptions=!0},get passive(){return c.supportsPassive=!0}}),t.events=c,c}},hn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,n=hn.methodOrder;e<n.length;e++){var i=n[e],s=hn[i](t);if(s)return s}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,s=t.scope;if(!/down|start/i.test(n))return null;for(var c=0,l=s.interactions.list;c<l.length;c++){var f=l[c],h=i;if(f.simulation&&f.simulation.allowResume&&f.pointerType===e)for(;h;){if(h===f.element)return f;h=N(h)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,s=t.eventType,c=t.scope;if(i!=="mouse"&&i!=="pen")return null;for(var l=0,f=c.interactions.list;l<f.length;l++){var h=f[l];if(h.pointerType===i){if(h.simulation&&!kr(h,n))continue;if(h.interacting())return h;e||(e=h)}}if(e)return e;for(var g=0,p=c.interactions.list;g<p.length;g++){var m=p[g];if(!(m.pointerType!==i||/down/i.test(s)&&m.simulation))return m}return null},hasPointer:function(t){for(var e=t.pointerId,n=0,i=t.scope.interactions.list;n<i.length;n++){var s=i[n];if(kr(s,e))return s}return null},idle:function(t){for(var e=t.pointerType,n=0,i=t.scope.interactions.list;n<i.length;n++){var s=i[n];if(s.pointers.length===1){var c=s.interactable;if(c&&(!c.options.gesture||!c.options.gesture.enabled))continue}else if(s.pointers.length>=2)continue;if(!s.interacting()&&e===s.pointerType)return s}return null}};function kr(t,e){return t.pointers.some(function(n){return n.id===e})}var ko=hn,pn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ar(t,e){return function(n){var i=e.interactions.list,s=Hn(n),c=Jn(n),l=c[0],f=c[1],h=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var g=0,p=n.changedTouches;g<p.length;g++){var m=p[g],b={pointer:m,pointerId:Xe(m),pointerType:s,eventType:n.type,eventTarget:l,curEventTarget:f,scope:e},A=Tr(b);h.push([b.pointer,b.eventTarget,b.curEventTarget,A])}}else{var E=!1;if(!x.supportsPointerEvent&&/mouse/.test(n.type)){for(var O=0;O<i.length&&!E;O++)E=i[O].pointerType!=="mouse"&&i[O].pointerIsDown;E=E||e.now()-e.prevTouchTime<500||n.timeStamp===0}if(!E){var R={pointer:n,pointerId:Xe(n),pointerType:s,eventType:n.type,curEventTarget:f,eventTarget:l,scope:e},C=Tr(R);h.push([R.pointer,R.eventTarget,R.curEventTarget,C])}}for(var B=0;B<h.length;B++){var G=h[B],W=G[0],Y=G[1],U=G[2];G[3][t](W,n,Y,U)}}}function Tr(t){var e=t.pointerType,n=t.scope,i={interaction:ko.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function dn(t,e){var n=t.doc,i=t.scope,s=t.options,c=i.interactions.docEvents,l=i.events,f=l[e];for(var h in i.browser.isIOS&&!s.events&&(s.events={passive:!1}),l.delegatedEvents)f(n,h,l.delegateListener),f(n,h,l.delegateUseCapture,!0);for(var g=s&&s.events,p=0;p<c.length;p++){var m=c[p];f(n,m.type,m.listener,g)}}var Ao={id:"core/interactions",install:function(t){for(var e={},n=0;n<pn.length;n++){var i=pn[n];e[i]=Ar(i,t)}var s,c=x.pEventTypes;function l(){for(var f=0,h=t.interactions.list;f<h.length;f++){var g=h[f];if(g.pointerIsDown&&g.pointerType==="touch"&&!g._interacting)for(var p=function(){var A=b[m];t.documents.some(function(E){return k(E.doc,A.downTarget)})||g.removePointer(A.pointer,A.event)},m=0,b=g.pointers;m<b.length;m++)p()}}(s=te.PointerEvent?[{type:c.down,listener:l},{type:c.down,listener:e.pointerDown},{type:c.move,listener:e.pointerMove},{type:c.up,listener:e.pointerUp},{type:c.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(f){for(var h=0,g=t.interactions.list;h<g.length;h++)g[h].documentBlur(f)}}),t.prevTouchTime=0,t.Interaction=function(f){q(g,f);var h=Z(g);function g(){return y(this,g),h.apply(this,arguments)}return M(g,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(p){t.interactions.pointerMoveTolerance=p}},{key:"_now",value:function(){return t.now()}}]),g}(go),t.interactions={list:[],new:function(f){f.scopeFire=function(g,p){return t.fire(g,p)};var h=new t.Interaction(f);return t.interactions.list.push(h),h},listeners:e,docEvents:s,pointerMoveTolerance:1},t.usePlugin(hr)},listeners:{"scope:add-document":function(t){return dn(t,"add")},"scope:remove-document":function(t){return dn(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,i=e.interactions.list.length-1;i>=0;i--){var s=e.interactions.list[i];s.interactable===n&&(s.stop(),e.fire("interactions:destroy",{interaction:s}),s.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(i,1))}}},onDocSignal:dn,doOnInteractions:Ar,methodNames:pn},To=Ao,_e=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t}(_e||{}),So=function(){function t(e,n,i,s){y(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Er,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=S(Gn(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=s,this.set(n)}return M(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,n){return v.func(n.onstart)&&this.on("".concat(e,"start"),n.onstart),v.func(n.onmove)&&this.on("".concat(e,"move"),n.onmove),v.func(n.onend)&&this.on("".concat(e,"end"),n.onend),v.func(n.oninertiastart)&&this.on("".concat(e,"inertiastart"),n.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,n,i){var s,c=this,l=(s=this._actions.map[e])==null?void 0:s.filterEventType,f=function(h){return(l==null||l(h))&&kt(h,c._actions)};(v.array(n)||v.object(n))&&this._onOff(_e.Off,e,n,void 0,f),(v.array(i)||v.object(i))&&this._onOff(_e.On,e,i,void 0,f)}},{key:"setPerAction",value:function(e,n){var i=this._defaults;for(var s in n){var c=s,l=this.options[e],f=n[c];c==="listeners"&&this.updatePerActionListeners(e,l.listeners,f),v.array(f)?l[c]=Xn(f):v.plainObject(f)?(l[c]=L(l[c]||{},qe(f)),v.object(i.perAction[c])&&"enabled"in i.perAction[c]&&(l[c].enabled=f.enabled!==!1)):v.bool(f)&&v.object(i.perAction[c])?l[c].enabled=f:l[c]=f}}},{key:"getRect",value:function(e){return e=e||(v.element(this.target)?this.target:null),v.string(this.target)&&(e=e||this._context.querySelector(this.target)),Me(e)}},{key:"rectChecker",value:function(e){var n=this;return v.func(e)?(this.getRect=function(i){var s=L({},e.apply(n,i));return"width"in s||(s.width=s.right-s.left,s.height=s.bottom-s.top),s},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,n){if(Gn(n)||v.object(n)){for(var i in this.options[e]=n,this._actions.map)this.options[i][e]=n;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return v.string(e)?Array.from(this._context.querySelectorAll(e)):v.func(e)&&e.getAllElements?e.getAllElements():v.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||k(this._context,e)}},{key:"testIgnoreAllow",value:function(e,n,i){return!this.testIgnore(e.ignoreFrom,n,i)&&this.testAllow(e.allowFrom,n,i)}},{key:"testAllow",value:function(e,n,i){return!e||!!v.element(i)&&(v.string(e)?ue(i,e,n):!!v.element(e)&&k(e,i))}},{key:"testIgnore",value:function(e,n,i){return!(!e||!v.element(i))&&(v.string(e)?ue(i,e,n):!!v.element(e)&&k(e,i))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,n,i,s,c){v.object(n)&&!v.array(n)&&(s=i,i=null);var l=Ne(n,i,c);for(var f in l){f==="wheel"&&(f=x.wheelEvent);for(var h=0,g=l[f];h<g.length;h++){var p=g[h];kt(f,this._actions)?this.events[e===_e.On?"on":"off"](f,p):v.string(this.target)?this._scopeEvents[e===_e.On?"addDelegate":"removeDelegate"](this.target,this._context,f,p,s):this._scopeEvents[e===_e.On?"add":"remove"](this.target,f,p,s)}}return this}},{key:"on",value:function(e,n,i){return this._onOff(_e.On,e,n,i)}},{key:"off",value:function(e,n,i){return this._onOff(_e.Off,e,n,i)}},{key:"set",value:function(e){var n=this._defaults;for(var i in v.object(e)||(e={}),this.options=qe(n.base),this._actions.methodDict){var s=i,c=this._actions.methodDict[s];this.options[s]={},this.setPerAction(s,L(L({},n.perAction),n.actions[s])),this[c](e[s])}for(var l in e)l!=="getRect"?v.func(this[l])&&this[l](e[l]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(v.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var n=this._scopeEvents.delegatedEvents[e],i=n.length-1;i>=0;i--){var s=n[i],c=s.selector,l=s.context,f=s.listeners;c===this.target&&l===this._context&&n.splice(i,1);for(var h=f.length-1;h>=0;h--)this._scopeEvents.removeDelegate(this.target,this._context,e,f[h][0],f[h][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}(),Oo=function(){function t(e){var n=this;y(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(i){var s=i.interactable,c=s.target,l=v.string(c)?n.selectorMap[c]:c[n.scope.id],f=$e(l,function(h){return h===s});l.splice(f,1)}})}return M(t,[{key:"new",value:function(e,n){n=L(n||{},{actions:this.scope.actions});var i=new this.scope.Interactable(e,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),v.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(i.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:n,interactable:i,win:this.scope._win}),i}},{key:"getExisting",value:function(e,n){var i=n&&n.context||this.scope.document,s=v.string(e),c=s?this.selectorMap[e]:e[this.scope.id];if(c)return et(c,function(l){return l._context===i&&(s||l.inContext(e))})}},{key:"forEachMatch",value:function(e,n){for(var i=0,s=this.list;i<s.length;i++){var c=s[i],l=void 0;if((v.string(c.target)?v.element(e)&&D(e,c.target):e===c.target)&&c.inContext(e)&&(l=n(c)),l!==void 0)return l}}}]),t}(),Mo=function(){function t(){var e=this;y(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=x,this.defaults=qe(dr),this.Eventable=Er,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(i){var s=function c(l,f){var h=i.interactables.getExisting(l,f);return h||((h=i.interactables.new(l,f)).events.global=c.globalEvents),h};return s.getPointerAverage=Zn,s.getTouchBBox=Jt,s.getTouchDistance=Qt,s.getTouchAngle=Xt,s.getElementRect=Me,s.getElementClientRect=Se,s.matchesSelector=D,s.closest=P,s.globalEvents={},s.version="1.10.27",s.scope=i,s.use=function(c,l){return this.scope.usePlugin(c,l),this},s.isSet=function(c,l){return!!this.scope.interactables.get(c,l&&l.context)},s.on=tt(function(c,l,f){if(v.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),v.array(c)){for(var h=0,g=c;h<g.length;h++){var p=g[h];this.on(p,l,f)}return this}if(v.object(c)){for(var m in c)this.on(m,c[m],l);return this}return kt(c,this.scope.actions)?this.globalEvents[c]?this.globalEvents[c].push(l):this.globalEvents[c]=[l]:this.scope.events.add(this.scope.document,c,l,{options:f}),this},"The interact.on() method is being deprecated"),s.off=tt(function(c,l,f){if(v.string(c)&&c.search(" ")!==-1&&(c=c.trim().split(/ +/)),v.array(c)){for(var h=0,g=c;h<g.length;h++){var p=g[h];this.off(p,l,f)}return this}if(v.object(c)){for(var m in c)this.off(m,c[m],l);return this}var b;return kt(c,this.scope.actions)?c in this.globalEvents&&(b=this.globalEvents[c].indexOf(l))!==-1&&this.globalEvents[c].splice(b,1):this.scope.events.remove(this.scope.document,c,l,f),this},"The interact.off() method is being deprecated"),s.debug=function(){return this.scope},s.supportsTouch=function(){return x.supportsTouch},s.supportsPointerEvent=function(){return x.supportsPointerEvent},s.stop=function(){for(var c=0,l=this.scope.interactions.list;c<l.length;c++)l[c].stop();return this},s.pointerMoveTolerance=function(c){return v.number(c)?(this.scope.interactions.pointerMoveTolerance=c,this):this.scope.interactions.pointerMoveTolerance},s.addDocument=function(c,l){this.scope.addDocument(c,l)},s.removeDocument=function(c){this.scope.removeDocument(c)},s}(this),this.InteractEvent=ln,this.Interactable=void 0,this.interactables=new Oo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(i){return e.removeDocument(i.target)};var n=this;this.Interactable=function(i){q(c,i);var s=Z(c);function c(){return y(this,c),s.apply(this,arguments)}return M(c,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(l){return ie(J(c.prototype),"set",this).call(this,l),n.fire("interactable:set",{options:l,interactable:this}),this}},{key:"unset",value:function(){ie(J(c.prototype),"unset",this).call(this);var l=n.interactables.list.indexOf(this);l<0||(n.interactables.list.splice(l,1),n.fire("interactable:unset",{interactable:this}))}}]),c}(So)}return M(t,[{key:"addListeners",value:function(e,n){this.listenerMaps.push({id:n,map:e})}},{key:"fire",value:function(e,n){for(var i=0,s=this.listenerMaps;i<s.length;i++){var c=s[i].map[e];if(c&&c(n,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(n,i){return n.isInitialized=!0,v.window(i)&&me(i),te.init(i),x.init(i),Be.init(i),n.window=i,n.document=i.document,n.usePlugin(To),n.usePlugin(Eo),n}(this,e)}},{key:"pluginIsInstalled",value:function(e){var n=e.id;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,n),e.listeners&&e.before){for(var i=0,s=this.listenerMaps.length,c=e.before.reduce(function(f,h){return f[h]=!0,f[Sr(h)]=!0,f},{});i<s;i++){var l=this.listenerMaps[i].id;if(l&&(c[l]||c[Sr(l)]))break}this.listenerMaps.splice(i,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(this.getDocIndex(e)!==-1)return!1;var i=S(e);n=n?L({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),i=S(e),s=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:i,scope:this,options:s})}},{key:"getDocIndex",value:function(e){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===e)return n;return-1}},{key:"getDocOptions",value:function(e){var n=this.getDocIndex(e);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function Sr(t){return t&&t.replace(/\/.*$/,"")}var Or=new Mo,de=Or.interactStatic,Io=typeof globalThis<"u"?globalThis:window;Or.init(Io);var Po=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var s=i[0],c=i[1];return s in t||c in t}),n=function(i,s){for(var c=t.range,l=t.limits,f=l===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,h=t.offset,g=h===void 0?{x:0,y:0}:h,p={range:c,grid:t,x:null,y:null},m=0;m<e.length;m++){var b=e[m],A=b[0],E=b[1],O=Math.round((i-g.x)/t[A]),R=Math.round((s-g.y)/t[E]);p[A]=Math.max(f.left,Math.min(f.right,O*t[A]+g.x)),p[E]=Math.max(f.top,Math.min(f.bottom,R*t[E]+g.y))}return p};return n.grid=t,n.coordFields=e,n}}),Co={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=L(e.snappers||{},Po),e.createSnapGrid=e.snappers.grid}},Ro=Co,Do={start:function(t){var e=t.state,n=t.rect,i=t.edges,s=t.pageCoords,c=e.options,l=c.ratio,f=c.enabled,h=e.options,g=h.equalDelta,p=h.modifiers;l==="preserve"&&(l=n.width/n.height),e.startCoords=L({},s),e.startRect=L({},n),e.ratio=l,e.equalDelta=g;var m=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta){var b=(m.left?1:-1)*(m.top?1:-1);e.edgeSign={x:b,y:b}}else e.edgeSign={x:m.left?-1:1,y:m.top?-1:1};if(f!==!1&&L(i,m),p!=null&&p.length){var A=new un(t.interaction);A.copyFrom(t.interaction.modification),A.prepareStates(p),e.subModification=A,A.startAll(a({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,s=e.linkedEdges,c=L({},i),l=e.equalDelta?Bo:Lo;if(L(t.edges,s),l(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var f=L({},n);mt(s,f,{x:i.x-c.x,y:i.y-c.y});var h=e.subModification.setAll(a(a({},t),{},{rect:f,edges:s,pageCoords:i,prevCoords:i,prevRect:f})),g=h.delta;return h.changed&&(l(e,Math.abs(g.x)>Math.abs(g.y),h.coords,h.rect),L(i,h.coords)),h.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Bo(t,e,n){var i=t.startCoords,s=t.edgeSign;e?n.y=i.y+(n.x-i.x)*s.y:n.x=i.x+(n.y-i.y)*s.x}function Lo(t,e,n,i){var s=t.startRect,c=t.startCoords,l=t.ratio,f=t.edgeSign;if(e){var h=i.width/l;n.y=c.y+(h-s.height)*f.y}else{var g=i.height*l;n.x=c.x+(g-s.width)*f.x}}var _o=Le(Do,"aspectRatio"),Mr=function(){};Mr._defaults={};var Ot=Mr;function ze(t,e,n){return v.func(t)?He(t,e.interactable,e.element,[n.x,n.y,e]):He(t,e.interactable,e.element)}var Mt={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,s=t.interaction,c=t.pageCoords,l=i.options,f=l.elementRect,h=L({left:0,top:0,right:0,bottom:0},l.offset||{});if(e&&f){var g=ze(l.restriction,s,c);if(g){var p=g.right-g.left-e.width,m=g.bottom-g.top-e.height;p<0&&(h.left+=p,h.right+=p),m<0&&(h.top+=m,h.bottom+=m)}h.left+=n.left-e.width*f.left,h.top+=n.top-e.height*f.top,h.right+=n.right-e.width*(1-f.right),h.bottom+=n.bottom-e.height*(1-f.bottom)}i.offset=h},set:function(t){var e=t.coords,n=t.interaction,i=t.state,s=i.options,c=i.offset,l=ze(s.restriction,n,e);if(l){var f=function(h){return!h||"left"in h&&"top"in h||((h=L({},h)).left=h.x||0,h.top=h.y||0,h.right=h.right||h.left+h.width,h.bottom=h.bottom||h.top+h.height),h}(l);e.x=Math.max(Math.min(f.right-c.right,e.x),f.left+c.left),e.y=Math.max(Math.min(f.bottom-c.bottom,e.y),f.top+c.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Fo=Le(Mt,"restrict"),Ir={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Pr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Cr(t,e){for(var n=0,i=["top","left","bottom","right"];n<i.length;n++){var s=i[n];s in t||(t[s]=e[s])}return t}var it={noInner:Ir,noOuter:Pr,start:function(t){var e,n=t.interaction,i=t.startOffset,s=t.state,c=s.options;c&&(e=vt(ze(c.offset,n,n.coords.start.page))),e=e||{x:0,y:0},s.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,s=t.state,c=s.offset,l=s.options;if(n){var f=L({},e),h=ze(l.inner,i,f)||{},g=ze(l.outer,i,f)||{};Cr(h,Ir),Cr(g,Pr),n.top?e.y=Math.min(Math.max(g.top+c.top,f.y),h.top+c.top):n.bottom&&(e.y=Math.max(Math.min(g.bottom+c.bottom,f.y),h.bottom+c.bottom)),n.left?e.x=Math.min(Math.max(g.left+c.left,f.x),h.left+c.left):n.right&&(e.x=Math.max(Math.min(g.right+c.right,f.x),h.right+c.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},No=Le(it,"restrictEdges"),Yo=L({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Mt.defaults),zo=Le({start:Mt.start,set:Mt.set,defaults:Yo},"restrictRect"),jo={width:-1/0,height:-1/0},Go={width:1/0,height:1/0},Vo=Le({start:function(t){return it.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,s=t.edges,c=n.options;if(s){var l=Zt(ze(c.min,e,t.coords))||jo,f=Zt(ze(c.max,e,t.coords))||Go;n.options={endOnly:c.endOnly,inner:L({},it.noInner),outer:L({},it.noOuter)},s.top?(n.options.inner.top=i.bottom-l.height,n.options.outer.top=i.bottom-f.height):s.bottom&&(n.options.inner.bottom=i.top+l.height,n.options.outer.bottom=i.top+f.height),s.left?(n.options.inner.left=i.right-l.width,n.options.outer.left=i.right-f.width):s.right&&(n.options.inner.right=i.left+l.width,n.options.outer.right=i.left+f.width),it.set(t),n.options=c}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),gn={start:function(t){var e,n=t.interaction,i=t.interactable,s=t.element,c=t.rect,l=t.state,f=t.startOffset,h=l.options,g=h.offsetWithOrigin?function(b){var A=b.interaction.element,E=vt(He(b.state.options.origin,null,null,[A])),O=E||Je(b.interactable,A,b.interaction.prepared.name);return O}(t):{x:0,y:0};if(h.offset==="startCoords")e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var p=He(h.offset,i,s,[n]);(e=vt(p)||{x:0,y:0}).x+=g.x,e.y+=g.y}var m=h.relativePoints;l.offsets=c&&m&&m.length?m.map(function(b,A){return{index:A,relativePoint:b,x:f.left-c.width*b.x+e.x,y:f.top-c.height*b.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,s=i.options,c=i.offsets,l=Je(e.interactable,e.element,e.prepared.name),f=L({},n),h=[];s.offsetWithOrigin||(f.x-=l.x,f.y-=l.y);for(var g=0,p=c;g<p.length;g++)for(var m=p[g],b=f.x-m.x,A=f.y-m.y,E=0,O=s.targets.length;E<O;E++){var R=s.targets[E],C=void 0;(C=v.func(R)?R(b,A,e._proxy,m,E):R)&&h.push({x:(v.number(C.x)?C.x:b)+m.x,y:(v.number(C.y)?C.y:A)+m.y,range:v.number(C.range)?C.range:s.range,source:R,index:E,offset:m})}for(var B={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},G=0;G<h.length;G++){var W=h[G],Y=W.range,U=W.x-f.x,ge=W.y-f.y,ee=Qe(U,ge),be=ee<=Y;Y===1/0&&B.inRange&&B.range!==1/0&&(be=!1),B.target&&!(be?B.inRange&&Y!==1/0?ee/Y<B.distance/B.range:Y===1/0&&B.range!==1/0||ee<B.distance:!B.inRange&&ee<B.distance)||(B.target=W,B.distance=ee,B.range=Y,B.inRange=be,B.delta.x=U,B.delta.y=ge)}return B.inRange&&(n.x=B.target.x,n.y=B.target.y),i.closest=B,B},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Uo=Le(gn,"snap"),It={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],gn.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,i=t.coords,s=n.options,c=n.offsets,l={x:i.x-c[0].x,y:i.y-c[0].y};n.options=L({},s),n.options.targets=[];for(var f=0,h=s.targets||[];f<h.length;f++){var g=h[f],p=void 0;if(p=v.func(g)?g(l.x,l.y,e):g){for(var m=0,b=n.targetFields;m<b.length;m++){var A=b[m],E=A[0],O=A[1];if(E in p||O in p){p.x=p[E],p.y=p[O];break}}n.options.targets.push(p)}}var R=gn.set(t);return n.options=s,R},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},qo=Le(It,"snapSize"),vn={aspectRatio:_o,restrictEdges:No,restrict:Fo,restrictRect:zo,restrictSize:Vo,snapEdges:Le({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],It.start(t)):null},set:It.set,defaults:L(qe(It.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Uo,snapSize:qo,spring:Ot,avoid:Ot,transform:Ot,rubberband:Ot},Wo={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(pr),t.usePlugin(Ro),e.modifiers=vn,vn){var i=vn[n],s=i._defaults,c=i._methods;s._methods=c,t.defaults.perAction[n]=s}}},Ko=Wo,Rr=function(t){q(n,t);var e=Z(n);function n(i,s,c,l,f,h){var g;if(y(this,n),yt(V(g=e.call(this,f)),c),c!==s&&yt(V(g),s),g.timeStamp=h,g.originalEvent=c,g.type=i,g.pointerId=Xe(s),g.pointerType=Hn(s),g.target=l,g.currentTarget=null,i==="tap"){var p=f.getPointerIndex(s);g.dt=g.timeStamp-f.pointers[p].downTime;var m=g.timeStamp-f.tapTime;g.double=!!f.prevTap&&f.prevTap.type!=="doubletap"&&f.prevTap.target===g.target&&m<500}else i==="doubletap"&&(g.dt=s.timeStamp-f.tapTime,g.double=!0);return g}return M(n,[{key:"_subtractOrigin",value:function(i){var s=i.x,c=i.y;return this.pageX-=s,this.pageY-=c,this.clientX-=s,this.clientY-=c,this}},{key:"_addOrigin",value:function(i){var s=i.x,c=i.y;return this.pageX+=s,this.pageY+=c,this.clientX+=s,this.clientY+=c,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(xt),ot={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=ot,t.defaults.actions.pointerEvents=ot.defaults,L(t.actions.phaselessTypes,ot.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,s=t.event,c=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&mn(t),Fe({interaction:n,pointer:i,event:s,eventTarget:c,type:"move"},e))},"interactions:down":function(t,e){(function(n,i){for(var s=n.interaction,c=n.pointer,l=n.event,f=n.eventTarget,h=n.pointerIndex,g=s.pointers[h].hold,p=Oe(f),m={interaction:s,pointer:c,event:l,eventTarget:f,type:"hold",targets:[],path:p,node:null},b=0;b<p.length;b++){var A=p[b];m.node=A,i.fire("pointerEvents:collect-targets",m)}if(m.targets.length){for(var E=1/0,O=0,R=m.targets;O<R.length;O++){var C=R[O].eventable.options.holdDuration;C<E&&(E=C)}g.duration=E,g.timeout=setTimeout(function(){Fe({interaction:s,eventTarget:f,pointer:c,event:l,type:"hold"},i)},E)}})(t,e),Fe(t,e)},"interactions:up":function(t,e){mn(t),Fe(t,e),function(n,i){var s=n.interaction,c=n.pointer,l=n.event,f=n.eventTarget;s.pointerWasMoved||Fe({interaction:s,eventTarget:f,pointer:c,event:l,type:"tap"},i)}(t,e)},"interactions:cancel":function(t,e){mn(t),Fe(t,e)}},PointerEvent:Rr,fire:Fe,collectEventTargets:Dr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Fe(t,e){var n=t.interaction,i=t.pointer,s=t.event,c=t.eventTarget,l=t.type,f=t.targets,h=f===void 0?Dr(t,e):f,g=new Rr(l,i,s,c,n,e.now());e.fire("pointerEvents:new",{pointerEvent:g});for(var p={interaction:n,pointer:i,event:s,eventTarget:c,targets:h,type:l,pointerEvent:g},m=0;m<h.length;m++){var b=h[m];for(var A in b.props||{})g[A]=b.props[A];var E=Je(b.eventable,b.node);if(g._subtractOrigin(E),g.eventable=b.eventable,g.currentTarget=b.node,b.eventable.fire(g),g._addOrigin(E),g.immediatePropagationStopped||g.propagationStopped&&m+1<h.length&&h[m+1].node!==g.currentTarget)break}if(e.fire("pointerEvents:fired",p),l==="tap"){var O=g.double?Fe({interaction:n,pointer:i,event:s,eventTarget:c,type:"doubletap"},e):g;n.prevTap=O,n.tapTime=O.timeStamp}return g}function Dr(t,e){var n=t.interaction,i=t.pointer,s=t.event,c=t.eventTarget,l=t.type,f=n.getPointerIndex(i),h=n.pointers[f];if(l==="tap"&&(n.pointerWasMoved||!h||h.downTarget!==c))return[];for(var g=Oe(c),p={interaction:n,pointer:i,event:s,eventTarget:c,type:l,path:g,targets:[],node:null},m=0;m<g.length;m++){var b=g[m];p.node=b,e.fire("pointerEvents:collect-targets",p)}return l==="hold"&&(p.targets=p.targets.filter(function(A){var E,O;return A.eventable.options.holdDuration===((E=n.pointers[f])==null||(O=E.hold)==null?void 0:O.duration)})),p.targets}function mn(t){var e=t.interaction,n=t.pointerIndex,i=e.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Zo=Object.freeze({__proto__:null,default:ot});function Ho(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Jo={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(ot);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=Ho,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,s=t.eventTarget,c=t.targets;if(i.type==="hold"&&c.length){var l=c[0].eventable.options.holdRepeatInterval;l<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:s,type:"hold",pointer:i,event:i},e)},l))}}})},Qo=Jo,Xo={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(i){return L(this.events.options,i),this};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(i,s){var c=n.call(this,i,s);return c===this&&(this.events.options[i]=s),c}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,s=t.type,c=t.eventTarget;e.interactables.forEachMatch(i,function(l){var f=l.events,h=f.options;f.types[s]&&f.types[s].length&&l.testIgnoreAllow(h,i,c)&&n.push({node:i,eventable:f,props:{interactable:l}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(n){return e.getRect(n)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;L(n.events.options,e.pointerEvents.defaults),L(n.events.options,i.pointerEvents||{})}}},$o=Xo,es={id:"pointer-events",install:function(t){t.usePlugin(Zo),t.usePlugin(Qo),t.usePlugin($o)}},ts=es,ns={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(n){return function(i,s,c){for(var l=i.getAllElements(),f=c.window.Promise,h=f?[]:null,g=function(){var m=l[p],b=i.getRect(m);if(!b)return 1;var A,E=et(c.interactions.list,function(C){return C.interacting()&&C.interactable===i&&C.element===m&&C.prepared.name===s.name});if(E)E.move(),h&&(A=E._reflowPromise||new f(function(C){E._reflowResolve=C}));else{var O=Zt(b),R=function(C){return{coords:C,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:O.x,y:O.y},client:{x:O.x,y:O.y},timeStamp:c.now()});A=function(C,B,G,W,Y){var U=C.interactions.new({pointerType:"reflow"}),ge={interaction:U,event:Y,pointer:Y,eventTarget:G,phase:"reflow"};U.interactable=B,U.element=G,U.prevEvent=Y,U.updatePointer(Y,Y,G,!0),qn(U.coords.delta),on(U.prepared,W),U._doPhase(ge);var ee=C.window,be=ee.Promise,Ee=be?new be(function(Ce){U._reflowResolve=Ce}):void 0;return U._reflowPromise=Ee,U.start(W,B,G),U._interacting?(U.move(ge),U.end(Y)):(U.stop(),U._reflowResolve()),U.removePointer(Y,Y),Ee}(c,i,m,s,R)}h&&h.push(A)},p=0;p<l.length&&!g();p++);return h&&f.all(h).then(function(){return i})}(this,n,t)}},listeners:{"interactions:stop":function(t,e){var n=t.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),function(i,s){i.splice(i.indexOf(s),1)}(e.interactions.list,n))}}},rs=ns;if(de.use(hr),de.use(yr),de.use(ts),de.use(wo),de.use(Ko),de.use(ao),de.use(Ji),de.use(Xi),de.use(rs),de.default=de,d(u)==="object"&&u)try{u.exports=de}catch{}return de.default=de,de})}(Ze,Ze.exports)),Ze.exports}var Yi=Ni();const jn=Nr(Yi),zi=u=>{var q,J;const r=`
        <div class="agent-sdk-floating-button" id="agent-sdk-floating-button">
            <div class="agent-sdk-unread-count" id="agent-sdk-unread-count"></div>
            <img src="${_i}" alt="Chat" draggable="false"/>
        </div>
    `;document.body.insertAdjacentHTML("beforeend",r);const o=document.getElementById("agent-sdk-floating-button");if(!o)return;const a=document.getElementById("agent-sdk-ui-iframe");if(!a)return;const d=document.getElementById("agent-sdk-floating-reminder");if(!d)return;o.style.right=`${-o.offsetWidth/2}px`,o.style.bottom=`${(q=u.options)!=null&&q.bottom?u.options.bottom:20}px`;let y=null;const w=()=>{y&&clearTimeout(y),y=setTimeout(()=>{u.hideButton(),y=null},5e3)};o.addEventListener("click",X=>{var oe;if(!X.target)return;const Z=document.getElementById("agent-sdk-ui-iframe");if(!Z)return;const ie=document.getElementById("agent-sdk-floating-reminder");ie&&((oe=u.options)!=null&&oe.preventDefault||ie.style.display!=="flex"&&(o.classList.contains("clicked")?Z.style.display==="none"?(u.showIframe(),clearTimeout(y)):u.hideIframe():w(),u.showButton()))});let M=null;const F=()=>{var X;M&&M.unset(),M=jn("#agent-sdk-floating-button").draggable({enabled:(X=u.options)!=null&&X.draggable?u.options.draggable:!1,modifiers:[jn.modifiers.restrictRect({restriction:"parent",endOnly:!0})],listeners:{start(){o.style.pointerEvents="none",clearTimeout(y)},move(V){requestAnimationFrame(()=>{if(d.style.display==="flex"||a.style.display==="block"||!o.classList.contains("clicked"))return;const Z=V.target,ie=parseFloat(Z.style.right)||0,oe=parseFloat(Z.style.bottom)||0,$=ie-V.dx,ae=oe-V.dy;Z.style.right=`${$}px`,Z.style.bottom=`${ae}px`,Z.setAttribute("data-right",$),Z.setAttribute("data-bottom",ae)})},end(V){const Z=V.target,ie=parseFloat(Z.style.right)||0,oe=parseFloat(Z.style.bottom)||0,$=window.innerWidth,ae=Z.offsetWidth;$-ie-ae/2<$/2?(Z.style.right=`${$-ae/2}px`,Z.style.left="auto"):(Z.style.right=`${-ae/2}px`,Z.style.left="auto"),Z.setAttribute("data-right",parseFloat(Z.style.right)),Z.setAttribute("data-bottom",oe),o.style.pointerEvents="auto",u.showButton(!1),w()}}})};(J=u.options)!=null&&J.draggable&&u.options.draggable&&F()},ji=u=>{var a,d;const r=`
<iframe src="${u.options.uiIframeSrc}" class="agent-sdk-floating-iframe" id="agent-sdk-ui-iframe" allow="clipboard-write" style="display: none"></iframe>
`;document.body.insertAdjacentHTML("beforeend",r);const o=document.getElementById("agent-sdk-ui-iframe");o&&(u.getDeviceType()==="PC"?(o.style.borderRadius="16px",o.style.boxShadow="0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)",o.style.zIndex="2000",o.style.bottom=(a=u.options)!=null&&a.bottom?`${u.options.bottom}px`:"20px",o.style.right=(d=u.options)!=null&&d.right?`${u.options.right+70}px`:"90px",o.style.width="480px",o.style.height="80vh"):u.getDeviceType()==="H5"&&(o.style.zIndex="10000",o.style.bottom="0",o.style.right="0",o.style.width="100%",o.style.height="100%"))},Gi=u=>{var d,y,w,M;document.body.insertAdjacentHTML("beforeend",`
<div class="agent-sdk-floating-reminder" id="agent-sdk-floating-reminder">
    <div class="title-container">
        <div class="title"></div>
        <svg class="close" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
            <path d="M14.9397 3.0603L3.0603 14.9397M3.0603 3.0603L14.9397 14.9397" stroke="#B2B8FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="content"></div>
    <button></button>
</div>
`);const o=document.getElementById("agent-sdk-floating-reminder");if(!o)return;u.getDeviceType()==="PC"?(o.style.right=(d=u.options)!=null&&d.right?`${u.options.right+70}px`:"90px",o.style.bottom=(y=u.options)!=null&&y.bottom?`${u.options.bottom}px`:"20px",o.style.maxWidth="400px"):u.getDeviceType()==="H5"&&(o.style.right=(w=u.options)!=null&&w.right?`${u.options.right}px`:"20px",o.style.bottom=(M=u.options)!=null&&M.bottom?`${u.options.bottom+70}px`:"90px",o.style.maxWidth="278px");const a=document.querySelector(".agent-sdk-floating-reminder .close");a&&a.addEventListener("click",()=>{u.hideReminder()})};class Vi{constructor(r){Re(this,"options");Re(this,"bellhop");Re(this,"signalClient");Re(this,"signalServerUrl","wss://ai-signal.edusoho.net");Re(this,"shortcutList",[]);Re(this,"events",new Map);r.uiIframeSrc||(r.uiIframeSrc="/ui.html"),this.options=r,this.bellhop=new Fr,this.signalClient=new Li,this.signalClient.connect(r.signalServerUrl?r.signalServerUrl:this.signalServerUrl,{token:r.token}),this.signalClient.on("message",o=>{const a=document.getElementById("agent-sdk-unread-count"),d=document.getElementById("agent-sdk-ui-iframe");if(!a||!d)return;const y=JSON.parse(o);y.signal==="message.unread"&&(this.options.variables.unreadMessages=y.data.messages,d.style.display==="none"?(a.style.display="block",a.textContent=y.data.count,Number(y.data.count)&&(this.showButton(),setTimeout(()=>{this.hideButton()},5e3))):d.style.display==="block"&&(a.style.display="none",this.bellhop.send("fetchUnreadMessages",{ids:this.options.variables.unreadMessages.filter(w=>{var M;return w.domainId===((M=this.options.variables)==null?void 0:M.domainId)}).map(w=>w.messageId)})))})}on(r,o){this.events.has(r)||this.events.set(r,[]),this.events.get(r).push(o)}emit(r,o){const a=this.events.get(r);a&&a.forEach(d=>d(o))}off(r,o){const a=this.events.get(r);a&&this.events.set(r,a.filter(d=>d!==o))}getDeviceType(){const r=navigator.userAgent.toLowerCase(),o=/(ipad|tablet|playbook|silk)|(android(?!.*mobile))/i.test(r);return/mobile|android|iphone|ipod|blackberry|windows phone/i.test(r)||o?"H5":"PC"}setVariable(r,o){this.options.variables[r]=o}setChatMetadata(r){this.options.variables={...this.options.variables,...r}}addShortcut(r,o){const a=this.shortcutList.findIndex(d=>d.key===r);a>=0?this.shortcutList[a].content=o:this.shortcutList.push({key:r,content:o})}removeShortcut(r){var a;const o=((a=this.shortcutList)==null?void 0:a.findIndex(d=>d.key===r))??-1;o!==-1&&this.shortcutList.splice(o,1)}boot(){Gi(this),ji(this),zi(this);const r=document.getElementById("agent-sdk-ui-iframe");r&&(this.bellhop.connect(r),this.bellhop.send("init",{deviceType:this.getDeviceType(),token:this.options.token,shortcutList:this.shortcutList,variables:this.options.variables}),this.bellhop.on("hide",()=>{this.hideIframe()}),this.bellhop.on("clickLink",o=>{this.emit("clickLink",o.data)}),this.bellhop.on("clearUnreadCount",o=>{const a=document.getElementById("agent-sdk-unread-count");a&&(this.options.variables.unreadMessages.filter(d=>d.domainId!==o.data.domainId),this.options.variables.unreadMessages.length>0?(a.style.display="block",a.textContent=String(this.options.variables.unreadMessages.length)):a.style.display="none")}))}shutdown(){const r=document.getElementById("agent-sdk-ui-iframe"),o=document.getElementById("agent-sdk-floating-button"),a=document.getElementById("agent-sdk-floating-reminder");!r||!o||!a||(r.remove(),o.remove(),a.remove())}showIframe(){var d,y;const r=document.getElementById("agent-sdk-ui-iframe"),o=document.getElementById("agent-sdk-unread-count"),a=document.getElementById("agent-sdk-floating-reminder");r&&o&&a&&(a.style.display="none",o.style.display="none",r.style.display="block",(d=this.options.variables)!=null&&d.unreadMessages&&((y=this.options.variables)==null?void 0:y.unreadMessages.length)>0?this.bellhop.send("show",{loadUnreadMessages:!0,ids:this.options.variables.unreadMessages.map(w=>w.messageId)}):this.bellhop.send("show",{loadUnreadMessages:!1}),this.showButton())}hideIframe(){const r=document.getElementById("agent-sdk-ui-iframe");r&&(r.style.display="none",this.hideButton())}showButton(r=!0){var w,M;const o=document.getElementById("agent-sdk-floating-button");if(!o)return;r?o.style.transition="transform 0.3s":o.style.transition="",o.classList.add("clicked"),o.style.opacity="1";const a=window.innerWidth,d=o.offsetWidth;(parseFloat(o.style.right)||0-d/2)<a/2?o.style.transform=`translateX(-${(w=this.options)!=null&&w.right?this.options.right+d/2:20+d/2}px)`:o.style.transform=`translateX(${(M=this.options)!=null&&M.right?this.options.right+d/2:20+d/2}px)`}hideButton(r=!0){const o=document.getElementById("agent-sdk-floating-button");o&&(r?o.style.transition="transform 0.3s":o.style.transition="",o.classList.remove("clicked"),o.style.transform="",o.style.opacity="60%")}chat(r,o){this.bellhop.on("fetchMessagesCompleted",()=>{const a={content:r,workflow:o};this.bellhop.send("chat",a),this.bellhop.off("fetchMessagesCompleted")}),this.hideReminder(),this.showIframe()}async showReminder(r){const o=document.querySelector(".agent-sdk-floating-reminder"),a=document.querySelector(".agent-sdk-floating-reminder .title"),d=document.querySelector(".agent-sdk-floating-reminder .content"),y=document.querySelector(".agent-sdk-floating-reminder .close"),w=document.querySelector(".agent-sdk-floating-reminder button");o&&a&&d&&y&&w&&(y.style.display="block",a.style.display="none",d.style.display="none",w.style.display="none",o.style.display="flex",r!=null&&r.title&&(a.style.display="block",a.textContent=r.title),r!=null&&r.content&&(d.style.display="block",d.textContent=r.content,a.style.display==="block"&&(d.style.marginTop="8px")),r!=null&&r.buttonContent&&(w.style.display="block",(a.style.display==="block"||d.style.display==="block")&&(w.style.marginTop="8px"),r.buttonContent==="plan.generate"?(w.textContent="制定学习计划",w.addEventListener("click",()=>{this.chat("制定学习计划",null)})):r.buttonContent==="teacher.question"&&(w.textContent="立即解惑",w.addEventListener("click",()=>{this.chat(r==null?void 0:r.chatContent,r==null?void 0:r.workflow)}))),r!=null&&r.duration&&(y.style.display="none",setTimeout(()=>{this.hideReminder(),this.hideButton()},r.duration)),this.showButton())}hideReminder(){const r=document.getElementById("agent-sdk-floating-reminder");r&&(r.style.display="none",this.hideButton())}}return Vi}();
