(window.webpackJsonp=window.webpackJsonp||[]).push([[486],{130:function(e,t,a){e.exports=a(620)},131:function(e,t,a){e.exports=a(630)},135:function(e,t,a){e.exports=a(753)},158:function(e,t,a){e.exports=a(628)},162:function(e,t,a){e.exports=a(631)},165:function(e,t,a){e.exports=a(636)},1687:function(e,t,a){"use strict";a.r(t);var n=a(165),r=a.n(n),s=a(86),i=a.n(s),o=a(162),c=a.n(o),p=a(158),u=a.n(p),l=a(131),d=a.n(l),f=a(130),v=a.n(f),m=a(135),g=a.n(m),h=a(92),b=a.n(h),_=a(91),y=a.n(_),k=a(93),x=a.n(k),w=a(60),T=a.n(w),q=a(22),C=a.n(q),S=a(12),P=a.n(S),I=a(46),O=a.n(I),R=a(17),z=a.n(R),A=a(71),K=a.n(A),D={data:function(){return{tabList:[{name:"试卷列表",code:"all"},{name:"个性卷",code:"aiPersonality",img:"/static-dist/app/img/question-bank/testpaperAi.png"}],activeTab:"all",typeList:[{code:"fixed-manual",img:"/static-dist/app/img/question-bank/fixed-image.png",activeImg:"/static-dist/app/img/question-bank/active-fixed-image.png",title:"固定卷-手动组卷",description:"学员答题时拿到相同的试卷，适合无防作弊要求的课程考试和按固定题目答题的的题库模拟考试"},{code:"fixed-auto",img:"/static-dist/app/img/question-bank/fixed-image.png",activeImg:"/static-dist/app/img/question-bank/active-fixed-image.png",title:"固定卷-智能组卷",description:"可按题型分类抽题，学员答题时拿到相同的试卷"},{code:"random",img:"/static-dist/app/img/question-bank/random-image.png",activeImg:"/static-dist/app/img/question-bank/active-random-image.png",title:"随机卷",description:"学员答题时拿到不同的试卷，适合有防作弊要求的课程考试和随机答题的题库模拟考试"},{code:"personal",img:"/static-dist/app/img/question-bank/ai-image.png",activeImg:"/static-dist/app/img/question-bank/active-ai-image.png",title:"AI个性卷",description:"不提前生成试卷，根据学员的答题情况AI判断生成，适合学员有一定刷题练习量后使用"}],chooseType:"fixed-manual",modalVisible:!1,form:this.$form.createForm(this,{name:"create-ai-paper"}),testpaperName:void 0}},methods:{showCreatePaperModal:function(){this.modalVisible=!0},showImportPaperModal:function(){K.a.get(document.getElementById("importUrl").value).then((function(e){$("#modal").modal("show").html(e.data)}))},handleOk:function(){this.modalVisible=!1,"all"===this.activeTab?this.routeByChooseType():"aiPersonality"===this.activeTab&&this.$router.push({name:"create",query:{type:"aiPersonality",name:this.testpaperName}})},routeByChooseType:function(){"fixed-manual"===this.chooseType?window.location.href=document.getElementById("fixedTestPaperCreatePath").value:"fixed-auto"===this.chooseType?window.location.href=document.getElementById("fixedAutoTestPaperCreatePath").value:"random"===this.chooseType?this.$router.push({name:"create"}):this.$router.push({name:"create",query:{type:"aiPersonality"}})},handleChangeName:function(e){this.testpaperName=e.target.value,this.form.setFieldsValue({testpaperName:e})}},watch:{activeTab:function(e){this.$emit("changeTab",e)}},mounted:function(){var e=this.$route.query.type;this.activeTab="aiPersonality"===e?"aiPersonality":"all"}},j=a(33),N=Object(j.a)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test-paper-list-header"},[a("div",{staticClass:"testpaper-title-left"},e._l(e.tabList,(function(t){return a("div",{key:t.code,class:{active:e.activeTab===t.code},on:{click:function(a){e.activeTab=t.code}}},[a("span",[t.img?a("img",{attrs:{src:t.img,alt:""}}):e._e(),e._v("\n        "+e._s(t.name)+"\n      ")])])})),0),e._v(" "),a("div",{staticClass:"testpaper-title-right"},[a("button",{staticClass:"testpaper-title-right-create",on:{click:e.showCreatePaperModal}},[e._v("\n      创建试卷\n    ")]),e._v(" "),"all"===e.activeTab?a("button",{staticClass:"testpaper-title-right-import",on:{click:e.showImportPaperModal}},[e._v("导入固定卷")]):e._e()]),e._v(" "),a("a-modal",{staticClass:"create-test-paper-modal",attrs:{width:492,title:"创建试卷",cancelText:"取消",okText:"进入编辑"},on:{ok:e.handleOk},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},["all"===e.activeTab?a("div",{staticClass:"create-test-paper-modal-body"},[a("div",{staticClass:"create-test-paper-modal-body-label"},[a("span",{staticClass:"create-test-paper-modal-body-label-placeholder"}),e._v(" "),a("span",{staticClass:"create-test-paper-modal-body-label-text"},[e._v("选择类型")])]),e._v(" "),a("div",{staticClass:"create-test-paper-modal-body-list"},e._l(e.typeList,(function(t){return a("div",{key:t.code,staticClass:"create-test-paper-modal-body-list-item",class:{active:e.chooseType===t.code},on:{click:function(a){e.chooseType=t.code}}},[a("div",{staticClass:"create-test-paper-modal-body-list-item-content"},[a("div",{staticClass:"create-test-paper-modal-body-list-item-content-title"},[a("img",{staticClass:"create-test-paper-modal-body-list-item-content-title-icon list-image",attrs:{src:t.img,alt:""}}),e._v(" "),a("img",{staticClass:"create-test-paper-modal-body-list-item-content-title-icon list-active-image",attrs:{src:t.activeImg,alt:""}}),e._v(" "),a("span",{staticClass:"create-test-paper-modal-body-list-item-content-title-text"},[e._v(e._s(t.title))])]),e._v(" "),a("div",{staticClass:"create-test-paper-modal-body-list-item-content-description"},[e._v(e._s(t.description))])]),e._v(" "),a("img",{staticClass:"create-test-paper-modal-body-list-item-checked",attrs:{src:"/static-dist/app/img/question-bank/select-image.png",alt:""}})])})),0)]):"aiPersonality"===e.activeTab?a("div",{staticClass:"create-test-paper-modal-body flex-col"},[a("img",{attrs:{src:"/static-dist/app/img/question-bank/create-ai-paper.png",alt:""}}),e._v(" "),a("a-form",{attrs:{form:e.form,layout:"horizontal"}},[a("div",{staticClass:"test-paper-save-form-item"},[a("div",{staticClass:"test-paper-save-form-item-label"},[a("span",{staticClass:"test-paper-save-form-item-label-required"},[e._v("*")]),e._v(" "),a("span",{staticClass:"test-paper-save-form-item-label-text"},[e._v("试卷名称")])]),e._v(" "),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["testpaperName",{initialValue:e.testpaperName,rules:[{required:!0,message:"请输入试卷名称"}]}],expression:"[\n                'testpaperName',\n                { initialValue: testpaperName, rules: [{ required: true, message: '请输入试卷名称' }] },\n              ]"}],attrs:{placeholder:"请输入试卷名称",maxLength:50},on:{change:e.handleChangeName}}),e._v(" "),a("span",{staticClass:"max-num"},[e._v(e._s(e.testpaperName?e.testpaperName.length:0)+"/50")])],1)],1)])],1):e._e()])],1)}),[],!1,null,null,null).exports,B=a(1741),E=a(94);function V(e,t){var a;if(void 0===u.a||null==e[c.a]){if(i()(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return d()(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,p=!0,l=!1;return{s:function(){a=r()(e)},n:function(){var e=a.next();return p=e.done,e},e:function(e){l=!0,o=e},f:function(){try{p||null==a.return||a.return()}finally{if(l)throw o}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function M(e,t){var a=T()(e);if(x.a){var n=x()(e);t&&(n=n.filter((function(t){return y()(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){O()(e,t,a[t])})):b.a?g()(e,b()(a)):M(Object(a)).forEach((function(t){v()(e,t,y()(a,t))}))}return e}var Y=[{title:Translator.trans("question.bank.paper.name"),dataIndex:"name",ellipsis:!0,scopedSlots:{customRender:"name"},width:270},{title:Translator.trans("question.bank.paper.paper.type"),dataIndex:"type",scopedSlots:{customRender:"type"},width:120},{title:Translator.trans("question.bank.paper.num"),dataIndex:"num",scopedSlots:{customRender:"num"},width:90,align:"right"},{title:Translator.trans("question.bank.paper.status"),dataIndex:"status",scopedSlots:{customRender:"status"},width:90},{title:Translator.trans("question.bank.paper.numberOfItems/score"),scopedSlots:{customRender:"numberOfItemsAndScore"},align:"right",width:130},{title:Translator.trans("question.bank.paper.updatePerson/updatedAt"),scopedSlots:{customRender:"creatorAndCreatedAt"},width:160},{title:Translator.trans("question.bank.paper.operation"),scopedSlots:{customRender:"operation"}}],H={props:{itemBankId:null},components:{ListHeader:N,TestPaperTypeTag:B.a},data:function(){return{status:void 0,type:void 0,keywordType:"name",keyword:void 0,columns:Y,pageData:[],loading:!1,pagination:{current:1,total:0,pageSize:10},selectedRowKeys:[],pageSizeOptions:["10","20","30","40","50"],currentTab:"all"}},methods:{handleTableChange:function(e){var t=this;return z()(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=F({},t.pagination)).current=e.current,t.pagination=n,r={limit:e.pageSize,offset:(e.current-1)*e.pageSize},a.next=6,t.fetchTestPaper(r);case 6:case"end":return a.stop()}}),a)})))()},fetchTestPaper:function(e){var t=this;return z()(P.a.mark((function a(){var n,r,s,i,o;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,n=C()(F({itemBankId:t.itemBankId,status:t.status,type:t.type},e),"creator"===t.keywordType?{createdUser:t.keyword}:{nameLike:t.keyword}),a.next=4,E.I.search(n);case 4:r=a.sent,s=r.data,i=r.paging,(o=F({},t.pagination)).total=i.total,o.pageSize=Number(i.limit),t.loading=!1,t.pageData=s,t.pagination=o;case 13:case"end":return a.stop()}}),a)})))()},onSearch:function(){var e=this;return z()(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pagination.current=1,a={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},t.next=4,e.fetchTestPaper(a);case 4:case"end":return t.stop()}}),t)})))()},onSelectChange:function(e){this.selectedRowKeys=e},handleSelectAllChange:function(e){var t=this.pageData.map((function(e){return e.id}));e.target.checked?this.selectedRowKeys=this.selectedRowKeys.filter((function(e){return!t.includes(e)})).concat(t):this.selectedRowKeys=this.selectedRowKeys.filter((function(e){return!t.includes(e)}))},getTableTotal:function(e){return Translator.trans("question.bank.paper.pageTotal",{total:e})},handlePaginationChange:function(e,t){var a=this;return z()(P.a.mark((function n(){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=F({},a.pagination)).current=e,r.pageSize=t,a.pagination=r,n.next=6,a.handleTableChange(a.pagination);case 6:case"end":return n.stop()}}),n)})))()},publish:function(e){var t=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("random"!==e.type){a.next=4;break}t.$confirm({title:"确定要发布该试卷吗？",content:"试卷发布后无论是否关闭都将无法修改",icon:"exclamation-circle",okText:"发布",cancelText:"取消",centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.I.changeStatus(e.id,"open");case 2:e.status="open",t.$message.success(Translator.trans("question.bank.paper.publish.success"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}),a.next=8;break;case 4:return a.next=6,E.I.changeStatus(e.id,"open");case 6:e.status="open",t.$message.success(Translator.trans("question.bank.paper.publish.success"));case 8:case"end":return a.stop()}}),a)})))()},close:function(e){var t=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.$confirm({title:"操作确认",content:"真的要关闭试卷".concat(e.name,"吗？"),icon:"exclamation-circle",okText:"关闭",cancelText:"取消",centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.I.changeStatus(e.id,"closed");case 3:e.status="closed",t.$message.success(Translator.trans("question.bank.paper.close.success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t.$message.success("关闭失败",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()});case 1:case"end":return a.stop()}}),a)})))()},preview:function(e){var t=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("aiPersonality"!==e.type){a.next=5;break}return a.next=3,t.$router.push({name:"preview",params:{id:e.id}});case 3:a.next=6;break;case 5:window.location.href="".concat(window.location.origin,"/question_bank/").concat(t.itemBankId,"/testpaper/").concat(e.id,"/preview");case 6:case"end":return a.stop()}}),a)})))()},handleChangeTab:function(e){var t=this;return z()(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.currentTab=e,t.pagination.current=1,"all"!==e){a.next=9;break}return n={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},t.type=void 0,a.next=7,t.fetchTestPaper(n);case 7:a.next=14;break;case 9:if("aiPersonality"!==e){a.next=14;break}return r={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},t.type="aiPersonality",a.next=14,t.fetchTestPaper(r);case 14:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){var t,a=this,n=this.fetchTestPaper;this.$confirm({title:"确定要删除该试卷吗？",icon:"exclamation-circle",okText:"删除",cancelText:"取消",centered:!0,onOk:(t=z()(P.a.mark((function t(){var r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.I.delete({ids:[e.id]});case 3:return a.$message.success("删除成功"),r={limit:a.pagination.pageSize,offset:(a.pagination.current-1)*a.pagination.pageSize},a.selectedRowKeys=a.selectedRowKeys.filter((function(t){return t!==e.id})),t.next=8,n(r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a.$message.success("删除失败",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(){return t.apply(this,arguments)})})},handleRegenerate:function(e){var t=this;return z()(P.a.mark((function a(){var n;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.I.regenerate(e.id);case 2:return n={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},a.next=5,t.fetchTestPaper(n);case 5:case"end":return a.stop()}}),a)})))()},exportPaper:function(e){window.open("/question_bank/".concat(this.itemBankId,"/testpaper/").concat(e.id,"/export"),"_blank")},handleEdit:function(e){var t=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("draft"!==e.status){a.next=9;break}if("regular"!==e.type){a.next=5;break}window.location.href="/question_bank/".concat(t.itemBankId,"/testpaper/").concat(e.id,"/edit"),a.next=7;break;case 5:return a.next=7,t.$router.push({name:"update",query:{type:e.type},params:{id:e.id}});case 7:a.next=10;break;case 9:t.$confirm({title:"确定要进行编辑吗？",content:"当前试卷可能已被应用在考试中，修改试卷内容，可能会对学员答题记录、答题成绩等产生影响",icon:"exclamation-circle",okText:Translator.trans("question.bank.paper.edit"),cancelText:Translator.trans("site.cancel"),centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("regular"!==e.type){a.next=4;break}window.location.href="/question_bank/".concat(t.itemBankId,"/testpaper/").concat(e.id,"/edit"),a.next=6;break;case 4:return a.next=6,t.$router.push({name:"update",query:{type:e.type},params:{id:e.id}});case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()});case 10:case"end":return a.stop()}}),a)})))()},batchDelete:function(){var e=this;return z()(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$confirm({title:"确定要删除".concat(e.selectedRowKeys.length,"份试卷吗？"),icon:"exclamation-circle",okText:"删除",cancelText:Translator.trans("site.cancel"),onOk:function(){var t=z()(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.I.delete({ids:e.selectedRowKeys});case 2:return e.$message.success("删除成功"),a={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},e.selectedRowKeys=[],t.next=7,e.fetchTestPaper(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 1:case"end":return t.stop()}}),t)})))()}},watch:{status:function(){var e=this;return z()(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onSearch();case 2:case"end":return t.stop()}}),t)})))()},type:function(){var e=this;return z()(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onSearch();case 2:case"end":return t.stop()}}),t)})))()}},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange,hideDefaultSelections:!0}},isSelectAll:function(){if(!this.pageData||0===this.pageData.length)return!1;var e,t=V(this.pageData.map((function(e){return e.id})));try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!this.selectedRowKeys.includes(a))return!1}}catch(e){t.e(e)}finally{t.f()}return!0},isIndeterminate:function(){var e,t=V(this.pageData.map((function(e){return e.id})));try{for(t.s();!(e=t.n()).done;){var a=e.value;if(this.selectedRowKeys.includes(a))return!0}}catch(e){t.e(e)}finally{t.f()}return!1}},created:function(){var e=this;return z()(P.a.mark((function t(){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},t.next=3,e.fetchTestPaper(a);case 3:case"end":return t.stop()}}),t)})))()}},U=Object(j.a)(H,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test-paper-list-container"},[a("list-header",{on:{changeTab:e.handleChangeTab}}),e._v(" "),a("div",{staticClass:"condition-bar"},[a("a-select",{staticStyle:{width:"156px"},attrs:{placeholder:e._f("trans")("question.bank.paper.status"),"allow-clear":""},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("a-select-option",{attrs:{value:"draft"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.draft"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"open"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.published"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"closed"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.closed"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"generating"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.generating"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"failure"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.fail"))+"\n      ")])],1),e._v(" "),"all"===e.currentTab?a("a-select",{staticStyle:{width:"156px"},attrs:{placeholder:e._f("trans")("question.bank.paper.type"),"allow-clear":""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("a-select-option",{attrs:{value:"regular"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.regular"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"random"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.random"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"aiPersonality"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.aiPersonality"))+"\n      ")])],1):e._e(),e._v(" "),a("a-select",{staticStyle:{width:"100px"},model:{value:e.keywordType,callback:function(t){e.keywordType=t},expression:"keywordType"}},[a("a-select-option",{attrs:{value:"name"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.name"))+"\n      ")]),e._v(" "),a("a-select-option",{attrs:{value:"creator"}},[e._v("\n        "+e._s(e._f("trans")("question.bank.paper.creator"))+"\n      ")])],1),e._v(" "),a("a-input",{staticStyle:{flex:"1 0 0"},attrs:{placeholder:e._f("trans")("question.bank.paper.typeKeyword")},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.onSearch}},[e._v(e._s(e._f("trans")("site.search_hint")))]),e._v(" "),a("a-button",[e._v(e._s(e._f("trans")("question.bank.reset.btn")))])],1),e._v(" "),a("a-table",{attrs:{columns:e.columns,"data-source":e.pageData,"row-key":function(e){return e.id},pagination:!1,loading:e.loading,"row-selection":e.rowSelection},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"name",fn:function(t){return[a("a-tooltip",{attrs:{title:t}},[a("span",[e._v(e._s(t))])])]}},{key:"type",fn:function(e){return[a("test-paper-type-tag",{attrs:{type:e}})]}},{key:"num",fn:function(t){return[a("span",[e._v(e._s(t||"-"))])]}},{key:"status",fn:function(t){return["draft"===t?a("a-badge",{attrs:{color:"gray",text:e._f("trans")("question.bank.paper.draft")}}):e._e(),e._v(" "),"open"===t?a("a-badge",{attrs:{color:"green",text:e._f("trans")("question.bank.paper.published")}}):e._e(),e._v(" "),"closed"===t?a("a-badge",{attrs:{color:"red",text:e._f("trans")("question.bank.paper.closed")}}):e._e(),e._v(" "),"failure"===t?a("a-badge",{attrs:{color:"red",text:e._f("trans")("question.bank.paper.fail")}}):e._e(),e._v(" "),"generating"===t?a("a-badge",{attrs:{color:"orange",text:e._f("trans")("question.bank.paper.generating")}}):e._e()]}},{key:"numberOfItemsAndScore",fn:function(t){return[e._v("\n      "+e._s(t.question_count+" / "+t.total_score)+"\n    ")]}},{key:"creatorAndCreatedAt",fn:function(t){return[a("div",[a("span",[e._v(e._s(t.updated_user.nickname))]),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"created_time"},[e._v(e._s(e.$dateFormat(t.updated_time,"YYYY-MM-DD HH:mm:ss")))])])]}},{key:"operation",fn:function(t){return[a("div",{staticClass:"operation-group"},[["draft","open"].includes(t.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.preview(t)}}},[e._v("\n          "+e._s(e._f("trans")("question.bank.paper.preview"))+"\n        ")]):e._e(),e._v(" "),["generating","closed"].includes(t.status)?a("a-button",{attrs:{type:"link",disabled:!0}},[e._v("\n          "+e._s(e._f("trans")("question.bank.paper.preview"))+"\n        ")]):e._e(),e._v(" "),["open"].includes(t.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.close(t)}}},[e._v("\n          "+e._s(e._f("trans")("question.bank.paper.close"))+"\n        ")]):e._e(),e._v(" "),["draft","closed"].includes(t.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.publish(t)}}},[e._v(e._s(e._f("trans")("question.bank.paper.publish"))+"\n        ")]):e._e(),e._v(" "),["generating"].includes(t.status)?a("a-button",{attrs:{type:"link",disabled:!0}},[e._v("\n          "+e._s(e._f("trans")("question.bank.paper.publish"))+"\n        ")]):e._e(),e._v(" "),["generating"].includes(t.status)||["closed","open"].includes(t.status)&&"random"===t.type?a("a-tooltip",[a("template",{slot:"title"},[e._v("\n            随机试卷仅草稿状态可编辑\n          ")]),e._v(" "),a("div",[a("a-button",{attrs:{type:"link",disabled:!0}},[e._v("\n              "+e._s(e._f("trans")("question.bank.paper.edit"))+"\n            ")])],1)],2):"failure"!==t.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.handleEdit(t)}}},[e._v("\n          "+e._s(e._f("trans")("question.bank.paper.edit"))+"\n        ")]):e._e(),e._v(" "),"failure"===t.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.handleRegenerate(t)}}},[e._v("\n          重新生成\n        ")]):e._e(),e._v(" "),"failure"===t.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return e.handleDelete(t)}}},[e._v("\n          删除\n        ")]):e._e(),e._v(" "),["closed","draft"].includes(t.status)||"regular"===t.type?a("a-dropdown",{attrs:{trigger:["click"],placement:"bottomRight"}},[a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"}},[e._v("...\n          ")]),e._v(" "),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[["closed","draft"].includes(t.status)?a("a-menu-item",{key:"delete",on:{click:function(a){return e.handleDelete(t)}}},[e._v("删除")]):e._e(),e._v(" "),"regular"===t.type?a("a-menu-item",{key:"export",on:{click:function(a){return e.exportPaper(t)}}},[e._v("导出")]):e._e()],1)],1):e._e()],1)]}}])}),e._v(" "),a("div",{staticClass:"list-bottom"},[a("div",{staticClass:"selector-operate"},[a("a-checkbox",{attrs:{indeterminate:e.isIndeterminate&&!e.isSelectAll,checked:e.selectedRowKeys&&e.selectedRowKeys.length>0&&e.isSelectAll},on:{change:e.handleSelectAllChange}},[a("span",{staticClass:"checkbox-text"},[e._v(e._s(e._f("trans")("question.bank.paper.selectAll")))])]),e._v(" "),a("span",[e._v(e._s(e._f("trans")("question.bank.paper.selectedItems",{select:this.selectedRowKeys.length})))]),e._v(" "),a("a-button",{attrs:{type:"danger",ghost:"",size:"small",disabled:0===this.selectedRowKeys.length},on:{click:e.batchDelete}},[e._v(e._s(e._f("trans")("question.bank.paper.batch.delete")))])],1),e._v(" "),a("a-pagination",{attrs:{"show-quick-jumper":"","show-size-changer":"","page-size-options":e.pageSizeOptions,"show-total":function(t){return e.getTableTotal(t)},total:e.pagination.total},on:{showSizeChange:e.handlePaginationChange,change:e.handlePaginationChange},model:{value:e.pagination.current,callback:function(t){e.$set(e.pagination,"current",t)},expression:"pagination.current"}})],1)],1)}),[],!1,null,null,null);t.default=U.exports},1741:function(e,t,a){"use strict";var n={props:{type:null}},r=a(33),s=Object(r.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"random"===e.type?a("div",{staticClass:"paper-type paper-type-random"},[e._v(e._s(e._f("trans")("question.bank.paper.random")))]):"regular"===e.type?a("div",{staticClass:"paper-type paper-type-regular"},[e._v("\n  "+e._s(e._f("trans")("question.bank.paper.regular"))+"\n")]):"aiPersonality"===e.type?a("div",{staticClass:"paper-type paper-type-ai"},[e._v("\n  "+e._s(e._f("trans")("question.bank.paper.aiPersonality"))+"\n")]):e._e()}),[],!1,null,null,null);t.a=s.exports},22:function(e,t,a){e.exports=a(626)},46:function(e,t,a){var n=a(130);e.exports=function(e,t,a){return t in e?n(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},490:function(e,t,a){e.exports=a(749)},5:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},532:function(e,t,a){var n=a(125),r=a(85),s=a(353);e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],i={};i[e]=t(a),n(n.S+n.F*s((function(){a(1)})),"Object",i)}},6:function(e,t,a){var n=a(130);function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),n(e,r.key,r)}}e.exports=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}},60:function(e,t,a){e.exports=a(751)},749:function(e,t,a){a(750),e.exports=a(85).Reflect.deleteProperty},750:function(e,t,a){var n=a(125),r=a(399).f,s=a(177);n(n.S,"Reflect",{deleteProperty:function(e,t){var a=r(s(e),t);return!(a&&!a.configurable)&&delete e[t]}})},751:function(e,t,a){a(752),e.exports=a(85).Object.keys},752:function(e,t,a){var n=a(400),r=a(378);a(532)("keys",(function(){return function(e){return r(n(e))}}))},753:function(e,t,a){a(754);var n=a(85).Object;e.exports=function(e,t){return n.defineProperties(e,t)}},754:function(e,t,a){var n=a(125);n(n.S+n.F*!a(221),"Object",{defineProperties:a(621)})},755:function(e,t,a){a(756),e.exports=a(85).Object.getOwnPropertyDescriptors},756:function(e,t,a){var n=a(125),r=a(757),s=a(251),i=a(399),o=a(623);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,a,n=s(e),c=i.f,p=r(n),u={},l=0;p.length>l;)void 0!==(a=c(n,t=p[l++]))&&o(u,t,a);return u}})},757:function(e,t,a){var n=a(533),r=a(491),s=a(177),i=a(157).Reflect;e.exports=i&&i.ownKeys||function(e){var t=n.f(s(e)),a=r.f;return a?t.concat(a(e)):t}},758:function(e,t,a){a(759);var n=a(85).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},759:function(e,t,a){var n=a(251),r=a(399).f;a(532)("getOwnPropertyDescriptor",(function(){return function(e,t){return r(n(e),t)}}))},760:function(e,t,a){a(622),e.exports=a(85).Object.getOwnPropertySymbols},761:function(e,t,a){a(762),e.exports=a(85).Array.isArray},762:function(e,t,a){var n=a(125);n(n.S,"Array",{isArray:a(629)})},86:function(e,t,a){e.exports=a(761)},91:function(e,t,a){e.exports=a(758)},92:function(e,t,a){e.exports=a(755)},93:function(e,t,a){e.exports=a(760)}}]);