(window.webpackJsonp=window.webpackJsonp||[]).push([[484],{109:function(t,e,a){t.exports=a(620)},117:function(t,e,a){t.exports=a(630)},120:function(t,e,a){t.exports=a(753)},133:function(t,e,a){t.exports=a(628)},134:function(t,e,a){t.exports=a(641)},139:function(t,e,a){t.exports=a(644)},1688:function(t,e,a){"use strict";a.r(e);var n=a(139),r=a.n(n),s=a(78),i=a.n(s),o=a(134),c=a.n(o),p=a(133),u=a.n(p),l=a(117),d=a.n(l),f=a(109),v=a.n(f),m=a(120),g=a.n(m),h=a(81),b=a.n(h),_=a(77),y=a.n(_),k=a(82),x=a.n(k),w=a(51),T=a.n(w),q=a(22),C=a.n(q),S=a(12),P=a.n(S),I=a(46),O=a.n(I),R=a(17),z=a.n(R),A=a(71),D=a.n(A),j={data:function(){return{tabList:[{name:"试卷列表",code:"all"},{name:"个性卷",code:"aiPersonality",img:"/static-dist/app/img/question-bank/testpaperAi.png"}],activeTab:"all",typeList:[{code:"fixed-manual",img:"/static-dist/app/img/question-bank/fixed-image.png",activeImg:"/static-dist/app/img/question-bank/active-fixed-image.png",title:"固定卷-手动组卷",description:"学员答题时拿到相同的试卷，适合无防作弊要求的课程考试和按固定题目答题的的题库模拟考试"},{code:"fixed-auto",img:"/static-dist/app/img/question-bank/fixed-image.png",activeImg:"/static-dist/app/img/question-bank/active-fixed-image.png",title:"固定卷-智能组卷",description:"可按题型分类抽题，学员答题时拿到相同的试卷"},{code:"random",img:"/static-dist/app/img/question-bank/random-image.png",activeImg:"/static-dist/app/img/question-bank/active-random-image.png",title:"随机卷",description:"学员答题时拿到不同的试卷，适合有防作弊要求的课程考试和随机答题的题库模拟考试"},{code:"personal",img:"/static-dist/app/img/question-bank/ai-image.png",activeImg:"/static-dist/app/img/question-bank/active-ai-image.png",title:"AI个性卷",description:"不提前生成试卷，根据学员的答题情况AI判断生成，适合学员有一定刷题练习量后使用"}],chooseType:"fixed-manual",modalVisible:!1,form:this.$form.createForm(this,{name:"create-ai-paper"}),testpaperName:void 0}},methods:{showCreatePaperModal:function(){this.modalVisible=!0},showImportPaperModal:function(){D.a.get(document.getElementById("importUrl").value).then((function(t){$("#modal").modal("show").html(t.data)}))},handleOk:function(){this.modalVisible=!1,"all"===this.activeTab?this.routeByChooseType():"aiPersonality"===this.activeTab&&this.$router.push({name:"create",query:{type:"aiPersonality",name:this.testpaperName}})},routeByChooseType:function(){"fixed-manual"===this.chooseType?window.location.href=document.getElementById("fixedTestPaperCreatePath").value:"fixed-auto"===this.chooseType?window.location.href=document.getElementById("fixedAutoTestPaperCreatePath").value:"random"===this.chooseType?this.$router.push({name:"create"}):this.$router.push({name:"create",query:{type:"aiPersonality"}})},handleChangeName:function(t){this.testpaperName=t.target.value,this.form.setFieldsValue({testpaperName:t})}},watch:{activeTab:function(t){this.$emit("changeTab",t)}},mounted:function(){var t=this.$route.query.type;this.activeTab="aiPersonality"===t?"aiPersonality":"all"}},K=a(32),N=Object(K.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test-paper-list-header"},[a("div",{staticClass:"testpaper-title-left"},t._l(t.tabList,(function(e){return a("div",{key:e.code,class:{active:t.activeTab===e.code},on:{click:function(a){t.activeTab=e.code}}},[a("span",[e.img?a("img",{attrs:{src:e.img,alt:""}}):t._e(),t._v("\n        "+t._s(e.name)+"\n      ")])])})),0),t._v(" "),a("div",{staticClass:"testpaper-title-right"},[a("button",{staticClass:"testpaper-title-right-create",on:{click:t.showCreatePaperModal}},[t._v("\n      创建试卷\n    ")]),t._v(" "),"all"===t.activeTab?a("button",{staticClass:"testpaper-title-right-import",on:{click:t.showImportPaperModal}},[t._v("导入固定卷")]):t._e()]),t._v(" "),a("a-modal",{staticClass:"create-test-paper-modal",attrs:{width:492,title:"创建试卷",cancelText:"取消",okText:"进入编辑"},on:{ok:t.handleOk},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},["all"===t.activeTab?a("div",{staticClass:"create-test-paper-modal-body"},[a("div",{staticClass:"create-test-paper-modal-body-label"},[a("span",{staticClass:"create-test-paper-modal-body-label-placeholder"}),t._v(" "),a("span",{staticClass:"create-test-paper-modal-body-label-text"},[t._v("选择类型")])]),t._v(" "),a("div",{staticClass:"create-test-paper-modal-body-list"},t._l(t.typeList,(function(e){return a("div",{key:e.code,staticClass:"create-test-paper-modal-body-list-item",class:{active:t.chooseType===e.code},on:{click:function(a){t.chooseType=e.code}}},[a("div",{staticClass:"create-test-paper-modal-body-list-item-content"},[a("div",{staticClass:"create-test-paper-modal-body-list-item-content-title"},[a("img",{staticClass:"create-test-paper-modal-body-list-item-content-title-icon list-image",attrs:{src:e.img,alt:""}}),t._v(" "),a("img",{staticClass:"create-test-paper-modal-body-list-item-content-title-icon list-active-image",attrs:{src:e.activeImg,alt:""}}),t._v(" "),a("span",{staticClass:"create-test-paper-modal-body-list-item-content-title-text"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"create-test-paper-modal-body-list-item-content-description"},[t._v(t._s(e.description))])]),t._v(" "),a("img",{staticClass:"create-test-paper-modal-body-list-item-checked",attrs:{src:"/static-dist/app/img/question-bank/select-image.png",alt:""}})])})),0)]):"aiPersonality"===t.activeTab?a("div",{staticClass:"create-test-paper-modal-body flex-col"},[a("img",{attrs:{src:"/static-dist/app/img/question-bank/create-ai-paper.png",alt:""}}),t._v(" "),a("a-form",{attrs:{form:t.form,layout:"horizontal"}},[a("div",{staticClass:"test-paper-save-form-item"},[a("div",{staticClass:"test-paper-save-form-item-label"},[a("span",{staticClass:"test-paper-save-form-item-label-required"},[t._v("*")]),t._v(" "),a("span",{staticClass:"test-paper-save-form-item-label-text"},[t._v("试卷名称")])]),t._v(" "),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["testpaperName",{initialValue:t.testpaperName,rules:[{required:!0,message:"请输入试卷名称"}]}],expression:"[\n                'testpaperName',\n                { initialValue: testpaperName, rules: [{ required: true, message: '请输入试卷名称' }] },\n              ]"}],attrs:{placeholder:"请输入试卷名称",maxLength:50},on:{change:t.handleChangeName}}),t._v(" "),a("span",{staticClass:"max-num"},[t._v(t._s(t.testpaperName?t.testpaperName.length:0)+"/50")])],1)],1)])],1):t._e()])],1)}),[],!1,null,null,null).exports,B=a(491),E=a(80);function V(t,e){var a;if(void 0===u.a||null==t[c.a]){if(i()(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return d()(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,p=!0,l=!1;return{s:function(){a=r()(t)},n:function(){var t=a.next();return p=t.done,t},e:function(t){l=!0,o=t},f:function(){try{p||null==a.return||a.return()}finally{if(l)throw o}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function M(t,e){var a=T()(t);if(x.a){var n=x()(t);e&&(n=n.filter((function(e){return y()(t,e).enumerable}))),a.push.apply(a,n)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?M(Object(a),!0).forEach((function(e){O()(t,e,a[e])})):b.a?g()(t,b()(a)):M(Object(a)).forEach((function(e){v()(t,e,y()(a,e))}))}return t}var Y=[{title:Translator.trans("question.bank.paper.name"),dataIndex:"name",ellipsis:!0,scopedSlots:{customRender:"name"},width:270},{title:Translator.trans("question.bank.paper.paper.type"),dataIndex:"type",scopedSlots:{customRender:"type"},width:120},{title:Translator.trans("question.bank.paper.num"),dataIndex:"num",scopedSlots:{customRender:"num"},width:90,align:"right"},{title:Translator.trans("question.bank.paper.status"),dataIndex:"status",scopedSlots:{customRender:"status"},width:90},{title:Translator.trans("question.bank.paper.numberOfItems/score"),scopedSlots:{customRender:"numberOfItemsAndScore"},align:"right",width:130},{title:Translator.trans("question.bank.paper.updatePerson/updatedAt"),scopedSlots:{customRender:"creatorAndCreatedAt"},width:160},{title:Translator.trans("question.bank.paper.operation"),scopedSlots:{customRender:"operation"}}],H={props:{itemBankId:null},components:{ListHeader:N,TestPaperTypeTag:B.a},data:function(){return{status:void 0,type:void 0,keywordType:"name",keyword:void 0,columns:Y,pageData:[],loading:!1,pagination:{current:1,total:0,pageSize:10},selectedRowKeys:[],pageSizeOptions:["10","20","30","40","50"],currentTab:"all"}},methods:{handleTableChange:function(t){var e=this;return z()(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=F({},e.pagination)).current=t.current,e.pagination=n,r={limit:t.pageSize,offset:(t.current-1)*t.pageSize},a.next=6,e.fetchTestPaper(r);case 6:case"end":return a.stop()}}),a)})))()},fetchTestPaper:function(t){var e=this;return z()(P.a.mark((function a(){var n,r,s,i,o;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,n=C()(F({itemBankId:e.itemBankId,status:e.status,type:e.type},t),"creator"===e.keywordType?{createdUser:e.keyword}:{nameLike:e.keyword}),a.next=4,E.I.search(n);case 4:r=a.sent,s=r.data,i=r.paging,(o=F({},e.pagination)).total=i.total,o.pageSize=Number(i.limit),e.loading=!1,e.pageData=s,e.pagination=o;case 13:case"end":return a.stop()}}),a)})))()},onSearch:function(){var t=this;return z()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pagination.current=1,a={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},e.next=4,t.fetchTestPaper(a);case 4:case"end":return e.stop()}}),e)})))()},onSelectChange:function(t){this.selectedRowKeys=t},handleSelectAllChange:function(t){var e=this.pageData.map((function(t){return t.id}));t.target.checked?this.selectedRowKeys=this.selectedRowKeys.filter((function(t){return!e.includes(t)})).concat(e):this.selectedRowKeys=this.selectedRowKeys.filter((function(t){return!e.includes(t)}))},getTableTotal:function(t){return Translator.trans("question.bank.paper.pageTotal",{total:t})},handlePaginationChange:function(t,e){var a=this;return z()(P.a.mark((function n(){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=F({},a.pagination)).current=t,r.pageSize=e,a.pagination=r,n.next=6,a.handleTableChange(a.pagination);case 6:case"end":return n.stop()}}),n)})))()},publish:function(t){var e=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("random"!==t.type){a.next=4;break}e.$confirm({title:"确定要发布该试卷吗？",content:"试卷发布后无论是否关闭都将无法修改",icon:"exclamation-circle",okText:"发布",cancelText:"取消",centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.I.changeStatus(t.id,"open");case 2:t.status="open",e.$message.success(Translator.trans("question.bank.paper.publish.success"));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()}),a.next=8;break;case 4:return a.next=6,E.I.changeStatus(t.id,"open");case 6:t.status="open",e.$message.success(Translator.trans("question.bank.paper.publish.success"));case 8:case"end":return a.stop()}}),a)})))()},close:function(t){var e=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.$confirm({title:"操作确认",content:"真的要关闭试卷".concat(t.name,"吗？"),icon:"exclamation-circle",okText:"关闭",cancelText:"取消",centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,E.I.changeStatus(t.id,"closed");case 3:t.status="closed",e.$message.success(Translator.trans("question.bank.paper.close.success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.$message.success("关闭失败",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()});case 1:case"end":return a.stop()}}),a)})))()},preview:function(t){var e=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("aiPersonality"!==t.type){a.next=5;break}return a.next=3,e.$router.push({name:"preview",params:{id:t.id}});case 3:a.next=6;break;case 5:window.location.href="".concat(window.location.origin,"/question_bank/").concat(e.itemBankId,"/testpaper/").concat(t.id,"/preview");case 6:case"end":return a.stop()}}),a)})))()},handleChangeTab:function(t){var e=this;return z()(P.a.mark((function a(){var n,r;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.currentTab=t,e.pagination.current=1,"all"!==t){a.next=9;break}return n={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},e.type=void 0,a.next=7,e.fetchTestPaper(n);case 7:a.next=14;break;case 9:if("aiPersonality"!==t){a.next=14;break}return r={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},e.type="aiPersonality",a.next=14,e.fetchTestPaper(r);case 14:case"end":return a.stop()}}),a)})))()},handleDelete:function(t){var e,a=this,n=this.fetchTestPaper;this.$confirm({title:"确定要删除该试卷吗？",icon:"exclamation-circle",okText:"删除",cancelText:"取消",centered:!0,onOk:(e=z()(P.a.mark((function e(){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.I.delete({ids:[t.id]});case 3:return a.$message.success("删除成功"),r={limit:a.pagination.pageSize,offset:(a.pagination.current-1)*a.pagination.pageSize},e.next=7,n(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.$message.success("删除失败",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(){return e.apply(this,arguments)})})},handleRegenerate:function(t){var e=this;return z()(P.a.mark((function a(){var n;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.I.regenerate(t.id);case 2:return n={limit:e.pagination.pageSize,offset:(e.pagination.current-1)*e.pagination.pageSize},a.next=5,e.fetchTestPaper(n);case 5:case"end":return a.stop()}}),a)})))()},exportPaper:function(t){window.open("/question_bank/".concat(this.itemBankId,"/testpaper/").concat(t.id,"/export"),"_blank")},handleEdit:function(t){var e=this;return z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("draft"!==t.status){a.next=9;break}if("regular"!==t.type){a.next=5;break}window.location.href="/question_bank/".concat(e.itemBankId,"/testpaper/").concat(t.id,"/edit"),a.next=7;break;case 5:return a.next=7,e.$router.push({name:"update",query:{type:t.type},params:{id:t.id}});case 7:a.next=10;break;case 9:e.$confirm({title:"确定要进行编辑吗？",content:"当前试卷可能已被应用在考试中，修改试卷内容，可能会对学员答题记录、答题成绩等产生影响",icon:"exclamation-circle",okText:Translator.trans("question.bank.paper.edit"),cancelText:Translator.trans("site.cancel"),centered:!0,onOk:function(){var a=z()(P.a.mark((function a(){return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("regular"!==t.type){a.next=4;break}window.location.href="/question_bank/".concat(e.itemBankId,"/testpaper/").concat(t.id,"/edit"),a.next=6;break;case 4:return a.next=6,e.$router.push({name:"update",query:{type:t.type},params:{id:t.id}});case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()});case 10:case"end":return a.stop()}}),a)})))()},batchDelete:function(){var t=this;return z()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$confirm({title:"确定要删除".concat(t.selectedRowKeys.length,"份试卷吗？"),icon:"exclamation-circle",okText:"删除",cancelText:Translator.trans("site.cancel"),onOk:function(){var e=z()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.I.delete({ids:t.selectedRowKeys});case 2:return t.$message.success("删除成功"),a={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},e.next=6,t.fetchTestPaper(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e)})))()}},watch:{status:function(){var t=this;return z()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onSearch();case 2:case"end":return e.stop()}}),e)})))()},type:function(){var t=this;return z()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onSearch();case 2:case"end":return e.stop()}}),e)})))()}},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange,hideDefaultSelections:!0}},isSelectAll:function(){if(!this.pageData||0===this.pageData.length)return!1;var t,e=V(this.pageData.map((function(t){return t.id})));try{for(e.s();!(t=e.n()).done;){var a=t.value;if(!this.selectedRowKeys.includes(a))return!1}}catch(t){e.e(t)}finally{e.f()}return!0},isIndeterminate:function(){var t,e=V(this.pageData.map((function(t){return t.id})));try{for(e.s();!(t=e.n()).done;){var a=t.value;if(this.selectedRowKeys.includes(a))return!0}}catch(t){e.e(t)}finally{e.f()}return!1}},created:function(){var t=this;return z()(P.a.mark((function e(){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={limit:t.pagination.pageSize,offset:(t.pagination.current-1)*t.pagination.pageSize},e.next=3,t.fetchTestPaper(a);case 3:case"end":return e.stop()}}),e)})))()}},U=Object(K.a)(H,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"test-paper-list-container"},[a("list-header",{on:{changeTab:t.handleChangeTab}}),t._v(" "),a("div",{staticClass:"condition-bar"},[a("a-select",{staticStyle:{width:"156px"},attrs:{placeholder:t._f("trans")("question.bank.paper.status"),"allow-clear":""},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("a-select-option",{attrs:{value:"draft"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.draft"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"open"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.published"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"closed"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.closed"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"generating"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.generating"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"failure"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.fail"))+"\n      ")])],1),t._v(" "),"all"===t.currentTab?a("a-select",{staticStyle:{width:"156px"},attrs:{placeholder:t._f("trans")("question.bank.paper.type"),"allow-clear":""},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("a-select-option",{attrs:{value:"regular"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.regular"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"random"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.random"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"aiPersonality"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.aiPersonality"))+"\n      ")])],1):t._e(),t._v(" "),a("a-select",{staticStyle:{width:"100px"},model:{value:t.keywordType,callback:function(e){t.keywordType=e},expression:"keywordType"}},[a("a-select-option",{attrs:{value:"name"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.name"))+"\n      ")]),t._v(" "),a("a-select-option",{attrs:{value:"creator"}},[t._v("\n        "+t._s(t._f("trans")("question.bank.paper.creator"))+"\n      ")])],1),t._v(" "),a("a-input",{staticStyle:{flex:"1 0 0"},attrs:{placeholder:t._f("trans")("question.bank.paper.typeKeyword")},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),t._v(" "),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.onSearch}},[t._v(t._s(t._f("trans")("site.search_hint")))]),t._v(" "),a("a-button",[t._v(t._s(t._f("trans")("question.bank.reset.btn")))])],1),t._v(" "),a("a-table",{attrs:{columns:t.columns,"data-source":t.pageData,"row-key":function(t){return t.id},pagination:!1,loading:t.loading,"row-selection":t.rowSelection},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(e){return[a("a-tooltip",{attrs:{title:e}},[a("span",[t._v(t._s(e))])])]}},{key:"type",fn:function(t){return[a("test-paper-type-tag",{attrs:{type:t}})]}},{key:"num",fn:function(e){return[a("span",[t._v(t._s(e||"-"))])]}},{key:"status",fn:function(e){return["draft"===e?a("a-badge",{attrs:{color:"gray",text:t._f("trans")("question.bank.paper.draft")}}):t._e(),t._v(" "),"open"===e?a("a-badge",{attrs:{color:"green",text:t._f("trans")("question.bank.paper.published")}}):t._e(),t._v(" "),"closed"===e?a("a-badge",{attrs:{color:"red",text:t._f("trans")("question.bank.paper.closed")}}):t._e(),t._v(" "),"failure"===e?a("a-badge",{attrs:{color:"red",text:t._f("trans")("question.bank.paper.fail")}}):t._e(),t._v(" "),"generating"===e?a("a-badge",{attrs:{color:"orange",text:t._f("trans")("question.bank.paper.generating")}}):t._e()]}},{key:"numberOfItemsAndScore",fn:function(e){return[t._v("\n      "+t._s(e.question_count+" / "+e.total_score)+"\n    ")]}},{key:"creatorAndCreatedAt",fn:function(e){return[a("div",[a("span",[t._v(t._s(e.updated_user.nickname))]),t._v(" "),a("br"),t._v(" "),a("span",{staticClass:"created_time"},[t._v(t._s(t.$dateFormat(e.updated_time,"YYYY-MM-DD HH:mm:ss")))])])]}},{key:"operation",fn:function(e){return[a("div",{staticClass:"operation-group"},[["draft","open"].includes(e.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.preview(e)}}},[t._v("\n          "+t._s(t._f("trans")("question.bank.paper.preview"))+"\n        ")]):t._e(),t._v(" "),["generating","closed"].includes(e.status)?a("a-button",{attrs:{type:"link",disabled:!0}},[t._v("\n          "+t._s(t._f("trans")("question.bank.paper.preview"))+"\n        ")]):t._e(),t._v(" "),["open"].includes(e.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.close(e)}}},[t._v("\n          "+t._s(t._f("trans")("question.bank.paper.close"))+"\n        ")]):t._e(),t._v(" "),["draft","closed"].includes(e.status)?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.publish(e)}}},[t._v(t._s(t._f("trans")("question.bank.paper.publish"))+"\n        ")]):t._e(),t._v(" "),["generating"].includes(e.status)?a("a-button",{attrs:{type:"link",disabled:!0}},[t._v("\n          "+t._s(t._f("trans")("question.bank.paper.publish"))+"\n        ")]):t._e(),t._v(" "),["generating"].includes(e.status)||["closed","open"].includes(e.status)&&"random"===e.type?a("a-tooltip",[a("template",{slot:"title"},[t._v("\n            随机试卷仅草稿状态可编辑\n          ")]),t._v(" "),a("div",[a("a-button",{attrs:{type:"link",disabled:!0}},[t._v("\n              "+t._s(t._f("trans")("question.bank.paper.edit"))+"\n            ")])],1)],2):"failure"!==e.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.handleEdit(e)}}},[t._v("\n          "+t._s(t._f("trans")("question.bank.paper.edit"))+"\n        ")]):t._e(),t._v(" "),"failure"===e.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.handleRegenerate(e)}}},[t._v("\n          重新生成\n        ")]):t._e(),t._v(" "),"failure"===e.status?a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("\n          删除\n        ")]):t._e(),t._v(" "),["closed","draft"].includes(e.status)||"regular"===e.type?a("a-dropdown",{attrs:{trigger:["click"],placement:"bottomRight"}},[a("a-button",{staticClass:"operation-group-button-active",attrs:{type:"link"}},[t._v("...\n          ")]),t._v(" "),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[["closed","draft"].includes(e.status)?a("a-menu-item",{key:"delete",on:{click:function(a){return t.handleDelete(e)}}},[t._v("删除")]):t._e(),t._v(" "),"regular"===e.type?a("a-menu-item",{key:"export",on:{click:function(a){return t.exportPaper(e)}}},[t._v("导出")]):t._e()],1)],1):t._e()],1)]}}])}),t._v(" "),a("div",{staticClass:"list-bottom"},[a("div",{staticClass:"selector-operate"},[a("a-checkbox",{attrs:{indeterminate:t.isIndeterminate&&!t.isSelectAll,checked:t.isSelectAll},on:{change:t.handleSelectAllChange}},[a("span",{staticClass:"checkbox-text"},[t._v(t._s(t._f("trans")("question.bank.paper.selectAll")))])]),t._v(" "),a("span",[t._v(t._s(t._f("trans")("question.bank.paper.selectedItems",{select:this.selectedRowKeys.length})))]),t._v(" "),a("a-button",{attrs:{type:"danger",ghost:"",size:"small",disabled:0===this.selectedRowKeys.length},on:{click:t.batchDelete}},[t._v(t._s(t._f("trans")("question.bank.paper.batch.delete")))])],1),t._v(" "),a("a-pagination",{attrs:{"show-quick-jumper":"","show-size-changer":"","page-size-options":t.pageSizeOptions,"show-total":function(e){return t.getTableTotal(e)},total:t.pagination.total},on:{showSizeChange:t.handlePaginationChange,change:t.handlePaginationChange},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)],1)}),[],!1,null,null,null);e.default=U.exports},22:function(t,e,a){t.exports=a(627)},46:function(t,e,a){var n=a(109);t.exports=function(t,e,a){return e in t?n(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},489:function(t,e,a){t.exports=a(749)},491:function(t,e,a){"use strict";var n={props:{type:null}},r=a(32),s=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return"random"===t.type?a("div",{staticClass:"paper-type paper-type-random"},[t._v(t._s(t._f("trans")("question.bank.paper.random")))]):"regular"===t.type?a("div",{staticClass:"paper-type paper-type-regular"},[t._v("\n  "+t._s(t._f("trans")("question.bank.paper.regular"))+"\n")]):"aiPersonality"===t.type?a("div",{staticClass:"paper-type paper-type-ai"},[t._v("\n  "+t._s(t._f("trans")("question.bank.paper.aiPersonality"))+"\n")]):t._e()}),[],!1,null,null,null);e.a=s.exports},5:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},51:function(t,e,a){t.exports=a(751)},532:function(t,e,a){var n=a(128),r=a(90),s=a(353);t.exports=function(t,e){var a=(r.Object||{})[t]||Object[t],i={};i[t]=e(a),n(n.S+n.F*s((function(){a(1)})),"Object",i)}},6:function(t,e,a){var n=a(109);function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),n(t,r.key,r)}}t.exports=function(t,e,a){return e&&r(t.prototype,e),a&&r(t,a),t}},749:function(t,e,a){a(750),t.exports=a(90).Reflect.deleteProperty},750:function(t,e,a){var n=a(128),r=a(399).f,s=a(177);n(n.S,"Reflect",{deleteProperty:function(t,e){var a=r(s(t),e);return!(a&&!a.configurable)&&delete t[e]}})},751:function(t,e,a){a(752),t.exports=a(90).Object.keys},752:function(t,e,a){var n=a(400),r=a(378);a(532)("keys",(function(){return function(t){return r(n(t))}}))},753:function(t,e,a){a(754);var n=a(90).Object;t.exports=function(t,e){return n.defineProperties(t,e)}},754:function(t,e,a){var n=a(128);n(n.S+n.F*!a(221),"Object",{defineProperties:a(621)})},755:function(t,e,a){a(756),t.exports=a(90).Object.getOwnPropertyDescriptors},756:function(t,e,a){var n=a(128),r=a(757),s=a(251),i=a(399),o=a(623);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,a,n=s(t),c=i.f,p=r(n),u={},l=0;p.length>l;)void 0!==(a=c(n,e=p[l++]))&&o(u,e,a);return u}})},757:function(t,e,a){var n=a(533),r=a(490),s=a(177),i=a(160).Reflect;t.exports=i&&i.ownKeys||function(t){var e=n.f(s(t)),a=r.f;return a?e.concat(a(t)):e}},758:function(t,e,a){a(759);var n=a(90).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},759:function(t,e,a){var n=a(251),r=a(399).f;a(532)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(n(t),e)}}))},760:function(t,e,a){a(622),t.exports=a(90).Object.getOwnPropertySymbols},761:function(t,e,a){a(762),t.exports=a(90).Array.isArray},762:function(t,e,a){var n=a(128);n(n.S,"Array",{isArray:a(629)})},77:function(t,e,a){t.exports=a(758)},78:function(t,e,a){t.exports=a(761)},81:function(t,e,a){t.exports=a(755)},82:function(t,e,a){t.exports=a(760)}}]);