!function(t){function e(e){for(var r,o,s=e[0],u=e[1],c=e[2],l=0,f=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(d&&d(e);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var u=n[s];0!==i[u]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={378:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static-dist/";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=u;a.push([1595,0]),n()}({1595:function(t,e,n){"use strict";n.r(e);var r=n(4),i=n.n(r),a=n(5),o=n.n(a),s=n(133),u=(n(117),n(9)),c=n(106),d=n(167);new(function(){function t(){i()(this,t),this.$form=$("#mobile-bind-form"),this.$smsCode=this.$form.find(".js-sms-send"),this.drag=null,this.initDrag(),this.dragEvent(),this.initValidator(),this.initMobileCodeSendBtn(),this.initExportBtnEvent()}return o()(t,[{key:"initExportBtnEvent",value:function(){var t=this;$(".js-export-btn").on("click",(function(e){e.preventDefault(),e.stopPropagation(),t.$form.valid()&&console.log("验证成功，执行导出逻辑...")}))}},{key:"dragEvent",value:function(){var t=this;this.drag&&this.drag.on("success",(function(e){t.$smsCode.removeClass("disabled").attr("disabled",!1)}))}},{key:"initDrag",value:function(){this.drag=$("#drag-btn").length?new c.a($("#drag-btn"),$(".js-jigsaw"),{limitType:"web_register"}):null}},{key:"initValidator",value:function(){this.validator=this.$form.validate({currentDom:".js-export-btn",ajax:!0,rules:{sms_code:{required:!0,unsigned_integer:!0,es_remote:{type:"get"}}},messages:{sms_code:{required:Translator.trans("auth.mobile_captcha_required_error_hint")}},submitSuccess:function(t){Object(u.a)("success",Translator.trans(t.message))},submitError:function(t){Object(u.a)("danger",Translator.trans(t.responseJSON.message))}})}},{key:"initMobileCodeSendBtn",value:function(){var t=this;this.$smsCode.on("click",(function(){t.$smsCode.attr("disabled",!0);var e=(new d.a).getCoordinate(event,$("meta[name=csrf-token]").attr("content"));new s.a({element:".js-sms-send",url:t.$smsCode.data("url"),smsType:"sms_secondary_verification",captcha:!0,captchaValidated:!0,captchaNum:"dragCaptchaToken",encryptedPoint:e,preSmsSend:function(){return!0},error:function(e){t.drag.initDragCaptcha()},additionalAction:function(e){return"captchaRequired"==e&&(t.$smsCode.attr("disabled",!0),$(".js-drag-jigsaw").removeClass("hidden"),t.drag&&t.drag.initDragCaptcha(),!0)}})}))}}]),t}())},38:function(t,e){t.exports=jQuery}});