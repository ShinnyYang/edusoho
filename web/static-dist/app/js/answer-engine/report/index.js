/*! For license information please see index.js.LICENSE.txt */
!function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],f=0,h=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);h.length;)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={122:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/static-dist/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([1469,0]),n()}({1469:function(t,e,n){"use strict";n.r(e);var r=n(29),o=n.n(r),a=n(13),i=n.n(a),s=n(39),c=n.n(s),u=n(18),l=n.n(u),f=n(15),h=n.n(f),d=n(22),p=n.n(d),v=n(23),m=n.n(v),w=n(36),y=n.n(w),g=n(27),b=n.n(g),_=n(47),x=n.n(_),E=n(11),k=n.n(E),S=n(85);function R(){R=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=p.a||function(t,e,n){t[e]=n.value},s="function"==typeof h.a?h.a:{},u=s.iterator||"@@iterator",f=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function v(t,e,n){return p()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{v({},"")}catch(t){v=function(t,e,n){return t[e]=n}}function w(t,e,n,r){var o=e&&e.prototype instanceof E?e:E,i=l()(o.prototype),s=new I(r||[]);return a(i,"_invoke",{value:T(t,n,s)}),i}function y(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=w;var g="suspendedStart",b="executing",_="completed",x={};function E(){}function k(){}function S(){}var $={};v($,u,(function(){return this}));var L=c.a,A=L&&L(L(H([])));A&&A!==n&&r.call(A,u)&&($=A);var j=S.prototype=E.prototype=l()($);function q(t){["next","throw","return"].forEach((function(e){v(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,a,s,c){var u=y(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==i()(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}})}function T(e,n,r){var o=g;return function(a,i){if(o===b)throw Error("Generator is already running");if(o===_){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=O(s,r);if(c){if(c===x)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=b;var u=y(e,n,r);if("normal"===u.type){if(o=r.done?_:"suspendedYield",u.arg===x)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=_,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var a=y(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,x;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function H(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i()(e)+" is not iterable")}return k.prototype=S,a(j,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:k,configurable:!0}),k.displayName=v(S,d,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return o.a?o()(t,S):(t.__proto__=S,v(t,d,"GeneratorFunction")),t.prototype=l()(j),t},e.awrap=function(t){return{__await:t}},q(C.prototype),v(C.prototype,f,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,a){void 0===a&&(a=m.a);var i=new C(w(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},q(j),v(j,d,"Generator"),v(j,u,(function(){return this})),v(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=H,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,x):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),x},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),x}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:H(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),x}},e}var L={data:function(){var t;return t={collect:1==$("[name='collect']").val(),answerShow:$("[name=answer_show]").val(),showCKEditorData:{publicPath:$("[name=ckeditor_path]").val(),filebrowserImageUploadUrl:$("[name=ckeditor_image_upload_url]").val(),filebrowserImageDownloadUrl:$("[name=ckeditor_image_download_url]").val(),language:"zh_CN"===document.documentElement.lang?"zh-cn":document.documentElement.lang,jqueryPath:$("[name=jquery_path]").val()},courseSetStatus:"",showAttachment:$("[name=show_attachment]").val(),cdnHost:$("[name=cdn_host]").val(),fileId:0,showDoAgainBtn:void 0===$("[name=show_do_again_btn]").val()?1:k()($("[name=show_do_again_btn]").val()),showReturnBtn:void 0===$("[name=submit_return_url]").val()?0:$("[name=submit_return_url]").val().length,isDownload:"1"===JSON.parse($("[name=question_bank_attachment_setting]").val()).enable,assessmentResponses:{}},x()(t,"isDownload","1"===JSON.parse($("[name=question_bank_attachment_setting]").val()).enable),x()(t,"exercise",{}),t},provide:function(){return{modeOrigin:"do"}},created:function(){var t=location.pathname.match(/\/([^\/]+)\/([^\/]+)/),e=t[1],n=t[2];"course"==e&&this.getCourse(n),"item_bank_exercise"==e&&this.getExercise(n);var r=this;$.ajax({url:"/api/answer_record/"+$("[name='answer_record_id']").val(),type:"GET",async:!1,headers:{Accept:"application/vnd.edusoho.v2+json"},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content")),t.setRequestHeader("X-Requested-With","XMLHttpRequest")}}).done((function(t){r.metaActivity=t.metaActivity,r.assessment=t.assessment,r.answerReport=t.answer_report,r.answerRecord=t.answer_record,r.answerScene=t.answer_scene,r.assessmentResponses=t.assessment_response})),$.ajax({url:"/api/assessments/"+r.assessment.id+"/question_favorites",type:"GET",async:!1,headers:{Accept:"application/vnd.edusoho.v2+json"},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content")),t.setRequestHeader("X-Requested-With","XMLHttpRequest")}}).done((function(t){r.questionFavorites=t}))},methods:{getExercise:function(t){var e=this;return b()(R().mark((function n(){var r;return R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.o.getExercise(t);case 2:r=n.sent,e.exercise=r;case 4:case"end":return n.stop()}}),n)})))()},getCourse:function(t){var e=this;return b()(R().mark((function n(){return R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.g.getSingleCourse(t).then((function(t){e.courseSetStatus=t.canLearn}));case 2:case"end":return n.stop()}}),n)})))()},doAgainEvent:function(t){location.href=$("[name=restart_url]").val()},cancelFavoriteEvent:function(t){$.ajax({url:"/api/me/question_favorite/1",headers:{Accept:"application/vnd.edusoho.v2+json"},contentType:"application/json;charset=utf-8",type:"DELETE",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))},data:y()(t)}).done((function(t){}))},gotoReturnUrl:function(){parent.location.href=$("[name=submit_return_url]").val()},returnUrlGoto:function(){parent.location.href=$("[name=submit_return_url]").val()},favoriteEvent:function(t){$.ajax({url:"/api/me/question_favorite",headers:{Accept:"application/vnd.edusoho.v2+json"},contentType:"application/json;charset=utf-8",type:"POST",beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))},data:y()(t)}).done((function(t){}))},deleteAttachment:function(t,e){e&&(this.fileId=t)},previewAttachment:function(t){this.fileId=t},downloadAttachment:function(t){this.fileId=t},previewAttachmentCallback:function(){var t=this,e=this;return new m.a((function(n){$.ajax({url:$("[name=preview-attachment-url]").val(),type:"post",data:{id:t.fileId},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done((function(t){console.log(app),console.log(t),t.data.sdkBaseUri=app.cloudSdkBaseUri,t.data.disableDataUpload=app.cloudDisableLogReport,t.data.disableSentry=app.cloudDisableLogReport,n(t),e.fileId=0}))}))},downloadAttachmentCallback:function(){var t=this,e=this;return new m.a((function(n){$.ajax({url:$("[name=download-attachment-url]").val(),type:"post",data:{id:t.fileId},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done((function(t){n(t),e.fileId=0}))}))},deleteAttachmentCallback:function(){var t=this,e=this;return new m.a((function(n){$.ajax({url:$("[name=delete-attachment-url]").val(),type:"post",data:{id:t.fileId},beforeSend:function(t){t.setRequestHeader("X-CSRF-Token",$("meta[name=csrf-token]").attr("content"))}}).done((function(t){n(t),e.fileId=0}))}))}}},A=n(38),j=Object(A.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ibs-vue",attrs:{id:"app"}},[n("item-report",{attrs:{answerShow:t.answerShow,metaActivity:t.metaActivity,answerReport:t.answerReport,assessment:t.assessment,answerRecord:t.answerRecord,isDownload:t.isDownload,answerScene:t.answerScene,questionFavorites:t.questionFavorites,showCKEditorData:t.showCKEditorData,showAttachment:t.showAttachment,showDoAgainBtn:t.showDoAgainBtn,cdnHost:t.cdnHost,collect:t.collect,assessmentResponses:t.assessmentResponses,exercise:t.exercise,courseSetStatus:t.courseSetStatus,previewAttachmentCallback:t.previewAttachmentCallback,downloadAttachmentCallback:t.downloadAttachmentCallback},on:{previewAttachment:t.previewAttachment,downloadAttachment:t.downloadAttachment,doAgainEvent:t.doAgainEvent,cancelFavoriteEvent:t.cancelFavoriteEvent,favoriteEvent:t.favoriteEvent,submitReturn:t.returnUrlGoto}},[t.showReturnBtn?n("template",{slot:"returnBtn"},[n("div",{staticClass:"ibs-text-center ibs-mt16"},[n("a-button",{attrs:{type:"primary",shape:"round"},on:{click:t.gotoReturnUrl}},[t._v(t._s("返回错题本"))])],1)]):t._e()],2)],1)}),[],!1,null,null,null).exports,q=n(31);if(jQuery.support.cors=!0,Object(q.g)()&&$("body, html").css({height:"100%",overflow:"auto"}),Vue.config.productionTip=!1,"en"==app.lang){var C=local.default;itemBank.default.install(Vue,{locale:C})}new Vue({render:function(t){return t(j)}}).$mount("#app")}});