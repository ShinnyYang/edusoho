/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var e,t={26538:(e,t,n)=>{var r=n(49082),a=n(15996),o=n(5427),i=n(53750),l=n(58594),u=n(44983),c=n(41425),s=n(82712),f=n(53111),d=n(32109),v=n(96539),h=n(48913),p=n(38635);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(){g=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new O(r||[]);return a(i,"_invoke",{value:V(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",v="suspendedYield",h="executing",p="completed",m={};function b(){}function w(){}function k(){}var x={};c(x,i,(function(){return this}));var j=Object.getPrototypeOf,_=j&&j(j(T([])));_&&_!==n&&r.call(_,i)&&(x=_);var q=k.prototype=b.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,l){var u=f(e[a],e,o);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==y(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function V(t,n,r){var a=d;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var u=$(l,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var c=f(t,n,r);if("normal"===c.type){if(a=r.done?p:v,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=p,r.method="throw",r.arg=c.arg)}}}function $(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,$(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(y(t)+" is not iterable")}return w.prototype=k,a(q,"constructor",{value:k,configurable:!0}),a(k,"constructor",{value:w,configurable:!0}),w.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(q),e},t.awrap=function(e){return{__await:e}},N(E.prototype),c(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(q),c(q,u,"Generator"),c(q,i,(function(){return this})),c(q,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function m(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,a)}var b={class:"flex flex-col gap-18 mb-36"},w={class:"flex items-center justify-between"},k=(0,c.createElementVNode)("div",{class:"text-[16px] text-[#37393D] font-medium"},"题库名称",-1),x={class:"flex gap-10"},j=["href"],_={class:"flex justify-between"},q={class:"flex gap-10"},N={class:"flex gap-10"},E=["value"],V=["value"],C=["value"],L=["value"];const O={__name:"Index",setup:function(e){var t=(0,c.ref)(),n=(0,c.ref)("default"),r=(0,c.ref)("default"),a=(0,c.ref)(),o=(0,c.ref)([]),i=$(".js-export-value").val(),l=new v.A($(".js-question-html")),u=$("#modal"),y=$(".js-list-header-import").val(),O=$(".js-question-container"),T=$(".js-question-html").data("url"),B=$(".js-question-html"),S=$(".js-category-content"),A=[{label:"单选题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/single_choice/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"多选题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/choice/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"不定项选择题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/uncertain_choice/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"问答题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/essay/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"判断题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/determine/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"填空题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/fill/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")},{label:"材料题",value:"/question_bank/".concat($(".js-questionBank-id").val(),"/question/material/create?goto=/question_bank/").concat($(".js-questionBank-id").val(),"/questions&categoryId=")}],I=[{label:"全部难度",value:"default"},{label:"简单",value:"simple"},{label:"一般",value:"normal"},{label:"困难",value:"difficulty"}],P=[{label:"全部题型",value:"default"},{label:"单选题",value:"single_choice"},{label:"多选题",value:"choice"},{label:"不定项选择题",value:"uncertain_choice"},{label:"问答题",value:"essay"},{label:"判断题",value:"determine"},{label:"填空题",value:"fill"},{label:"材料题",value:"material"}];function G(){return F.apply(this,arguments)}function F(){var e;return e=g().mark((function e(){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==$("[name=question_count]").val()&&s.Ay.warning("该分类下暂无题目"),n=s.Ay.loading("正在查重...",0),e.prev=2,e.next=5,f.A.questionBank.getRepeatQuestion($("[name=questionBankId]").val(),$("[name=category_id]").val());case 5:r=e.sent,n(),r.length>0?(0,d.gQ)("/question_bank/".concat($(".js-questionBank-id").val(),"/check_duplicative_questions?categoryId=").concat(t.value?t.value:"")):s.Ay.warning("无重复题目"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),n(),s.Ay.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})),F=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,l,"next",e)}function l(e){m(o,r,a,i,l,"throw",e)}i(void 0)}))},F.apply(this,arguments)}function D(){var e="default"===n.value?"":n.value,t="default"===r.value?"":r.value,o=$(".js-category-choose").val(),u=document.createElement("a");u.href=i+"?category_id="+o+"&ids="+l.toJson()+"&difficulty="+e+"&type="+t+"&keyword="+a.value,u.click()}function M(){u.load(y),u.modal("show")}var U=(0,c.ref)(!1);function Y(){U.value=!0}function Q(e){o.value=e}function J(){n.value="default",r.value="default",a.value=null,o.value=[],R();var e={category_id:$(".js-category-choose").val(),difficulty:"default"===n.value?"":n.value,type:"default"===r.value?"":r.value,keyword:a.value,tagIds:o.value,perpage:$(".js-current-perpage-count").children("option:selected").val(),page:O.find(".js-page").val()};$.ajax({type:"GET",url:T,data:e}).done((function(e){(0,c.nextTick)((function(){B.html(e),l.updateTable()}))})).fail((function(){}))}function R(){O.find(".js-page").val(1)}function z(e,i){e||R(),t.value=$(".js-category-choose").val();var u={difficulty:"default"===n.value?"":n.value,type:"default"===r.value?"":r.value,keyword:a.value,tagIds:o.value,perpage:i||$(".js-current-perpage-count").children("option:selected").val(),page:O.find(".js-page").val()};$.ajax({type:"GET",url:T,data:u}).done((function(e){(0,c.nextTick)((function(){B.html(e),l.updateTable()}))})).fail((function(){}))}return(0,c.onMounted)((function(){O.on("click",".pagination li",(function(e){!function(e){var t=$(e.currentTarget);O.find(".js-page").val(t.data("page")),z(!0),e.preventDefault()}(e)})),O.on("change",".js-current-perpage-count",(function(e){z()})),O.on("click",".js-category-search",(function(e){!function(e){var t=$(e.currentTarget);S.find(".js-active-set.active").removeClass("active"),t.addClass("active"),$(".js-category-choose").val(t.data("id")),z(!1,10)}(e)})),O.on("click",".js-all-category-search",(function(e){!function(e){var t=$(e.currentTarget);S.find(".js-active-set.active").removeClass("active"),t.addClass("active"),$(".js-category-choose").val(""),z(!1,10)}(e)}))})),function(e,i){var l=(0,c.resolveComponent)("a-button"),u=(0,c.resolveComponent)("a-menu-item"),s=(0,c.resolveComponent)("a-menu"),f=(0,c.resolveComponent)("a-dropdown"),d=(0,c.resolveComponent)("a-select-option"),v=(0,c.resolveComponent)("a-select"),y=(0,c.resolveComponent)("a-input");return(0,c.openBlock)(),(0,c.createBlock)(h.A,null,{default:(0,c.withCtx)((function(){return[(0,c.createElementVNode)("div",b,[(0,c.createElementVNode)("div",w,[k,(0,c.createElementVNode)("div",x,[(0,c.createVNode)(l,{onClick:G},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("试题查重")]})),_:1}),(0,c.createVNode)(l,{onClick:D},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("导出题目")]})),_:1}),(0,c.createVNode)(f,null,{overlay:(0,c.withCtx)((function(){return[(0,c.createVNode)(s,null,{default:(0,c.withCtx)((function(){return[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(A,(function(e,n){return(0,c.createVNode)(u,{key:n},{default:(0,c.withCtx)((function(){return[(0,c.createElementVNode)("a",{href:e.value+t.value},(0,c.toDisplayString)(e.label),9,j)]})),_:2},1024)})),64))]})),_:1})]})),default:(0,c.withCtx)((function(){return[(0,c.createVNode)(l,null,{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("添加题目")]})),_:1})]})),_:1}),(0,c.createVNode)(l,{onClick:M},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("导入题目")]})),_:1})])]),(0,c.createElementVNode)("div",_,[(0,c.createElementVNode)("div",q,[(0,c.createVNode)(v,{value:n.value,"onUpdate:value":i[0]||(i[0]=function(e){return n.value=e}),class:"w-140"},{default:(0,c.withCtx)((function(){return[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(I,(function(e,t){return(0,c.createVNode)(d,{value:e.value,key:t},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)((0,c.toDisplayString)(e.label),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["value"]),(0,c.createVNode)(v,{value:r.value,"onUpdate:value":i[1]||(i[1]=function(e){return r.value=e}),class:"w-140"},{default:(0,c.withCtx)((function(){return[((0,c.openBlock)(),(0,c.createElementBlock)(c.Fragment,null,(0,c.renderList)(P,(function(e,t){return(0,c.createVNode)(d,{value:e.value,key:t},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)((0,c.toDisplayString)(e.label),1)]})),_:2},1032,["value"])})),64))]})),_:1},8,["value"]),(0,c.createVNode)(y,{value:a.value,"onUpdate:value":i[2]||(i[2]=function(e){return a.value=e}),class:"w-240",placeholder:"请输入关键字"},null,8,["value"]),(0,c.createVNode)(l,{type:"primary",ghost:"",onClick:Y},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)((0,c.toDisplayString)("筛选标签".concat(o.value.length>0?" (".concat(o.value.length,") "):"")),1)]})),_:1})]),(0,c.createElementVNode)("div",N,[(0,c.createVNode)(l,{onClick:J},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("重置")]})),_:1}),(0,c.createVNode)(l,{type:"primary",onClick:z},{default:(0,c.withCtx)((function(){return[(0,c.createTextVNode)("搜索")]})),_:1})])])]),(0,c.createElementVNode)("input",{type:"hidden",class:"js-list-header-difficulty",value:n.value},null,8,E),(0,c.createElementVNode)("input",{type:"hidden",class:"js-list-header-type",value:r.value},null,8,V),(0,c.createElementVNode)("input",{type:"hidden",class:"js-list-header-keyword",value:a.value},null,8,C),(0,c.createElementVNode)("input",{type:"hidden",class:"js-list-header-tagIds",value:o.value},null,8,L),(0,c.createVNode)(p.A,{modelValue:U.value,"onUpdate:modelValue":i[3]||(i[3]=function(e){return U.value=e}),params:{mode:"filter",tagIds:o.value},onOk:Q},null,8,["modelValue","params"])]})),_:1})}}},T=O;n(13209);var B=(0,c.createApp)(T);B.use(u.A),B.use(l.Ay),B.use(i.Ay),B.use(o.Ay),B.use(a.Ay),B.use(r.A),(0,d.j1)(B),(0,d.Ye)("/static-dist/vue3/js/question-bank/list-header/index.css?".concat(window.app.version)),B.mount("#vue3-app")}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var i=1/0;for(s=0;s<e.length;s++){for(var[n,a,o]=e[s],l=!0,u=0;u<n.length;u++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(l=!1,o<i&&(i=o));if(l){e.splice(s--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=49,(()=>{var e={49:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[i,l,u]=n,c=0;if(i.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(u)var s=u(r)}for(t&&t(n);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},n=self.webpackChunkvue3=self.webpackChunkvue3||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[362],(()=>r(26538)));a=r.O(a)})();