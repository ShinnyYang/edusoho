/*! For license information please see index.js.LICENSE.txt */
(()=>{var e,t={63511:(e,t,n)=>{e.exports=n.p+"vue3/img/course-manage/base-setting/drainage-style.png"},91666:()=>{},67646:(e,t,n)=>{"use strict";var r=n(49082),a=n(53750),i=n(58594),o=n(97339),l=n(89833),c=n(46097),u=n(13384),s=n(40983),d=n(22555),f=n(58168),p=n(41425),m=n(58777),v=n(71250),g=n(32522),h=n(9712),y=n(27178),b=n(74495),x=n(43594),w=n(51927),N=n(37771);const S=(0,p.defineComponent)({compatConfig:{MODE:3},name:"AListItemMeta",props:{avatar:y.A.any,description:y.A.any,prefixCls:String,title:y.A.any},displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:Object,setup(e,t){let{slots:n}=t;const{prefixCls:r}=(0,N.A)("list",e);return()=>{var t,a,i,o,l,c;const u=`${r.value}-item-meta`,s=null!==(t=e.title)&&void 0!==t?t:null===(a=n.title)||void 0===a?void 0:a.call(n),d=null!==(i=e.description)&&void 0!==i?i:null===(o=n.description)||void 0===o?void 0:o.call(n),f=null!==(l=e.avatar)&&void 0!==l?l:null===(c=n.avatar)||void 0===c?void 0:c.call(n),m=(0,p.createVNode)("div",{class:`${r.value}-item-meta-content`},[s&&(0,p.createVNode)("h4",{class:`${r.value}-item-meta-title`},[s]),d&&(0,p.createVNode)("div",{class:`${r.value}-item-meta-description`},[d])]);return(0,p.createVNode)("div",{class:u},[f&&(0,p.createVNode)("div",{class:`${r.value}-item-meta-avatar`},[f]),(s||d)&&m])}}}),C=Symbol("ListContextKey");const V=(0,p.defineComponent)({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:S,props:{prefixCls:String,extra:y.A.any,actions:y.A.array,grid:Object,colStyle:{type:Object,default:void 0}},slots:Object,setup(e,t){let{slots:n,attrs:r}=t;const{itemLayout:a,grid:i}=(0,p.inject)(C,{grid:(0,p.ref)(),itemLayout:(0,p.ref)()}),{prefixCls:o}=(0,N.A)("list",e),l=()=>{var t,r;const i=null!==(t=e.extra)&&void 0!==t?t:null===(r=n.extra)||void 0===r?void 0:r.call(n);return"vertical"===a.value?!!i:!(()=>{var e;const t=(null===(e=n.default)||void 0===e?void 0:e.call(n))||[];let r;return t.forEach((e=>{(0,b.K6)(e)&&!(0,b.sG)(e)&&(r=!0)})),r&&t.length>1})()};return()=>{var t,c,u,s,f;const{class:v}=r,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(r,["class"]),h=o.value,y=null!==(t=e.extra)&&void 0!==t?t:null===(c=n.extra)||void 0===c?void 0:c.call(n),N=null===(u=n.default)||void 0===u?void 0:u.call(n);let S=null!==(s=e.actions)&&void 0!==s?s:(0,b.MI)(null===(f=n.actions)||void 0===f?void 0:f.call(n));S=S&&!Array.isArray(S)?[S]:S;const C=S&&S.length>0&&(0,p.createVNode)("ul",{class:`${h}-item-action`,key:"actions"},[S.map(((e,t)=>(0,p.createVNode)("li",{key:`${h}-item-action-${t}`},[e,t!==S.length-1&&(0,p.createVNode)("em",{class:`${h}-item-action-split`},null)])))]),V=i.value?"div":"li",k=(0,p.createVNode)(V,(0,d.A)((0,d.A)({},g),{},{class:(0,m.A)(`${h}-item`,{[`${h}-item-no-flex`]:!l()},v)}),{default:()=>["vertical"===a.value&&y?[(0,p.createVNode)("div",{class:`${h}-item-main`,key:"content"},[N,C]),(0,p.createVNode)("div",{class:`${h}-item-extra`,key:"extra"},[y])]:[N,C,(0,w.Ob)(y,{key:"extra"})]]});return i.value?(0,p.createVNode)(x.A,{flex:1,style:e.colStyle},{default:()=>[k]}):k}}});var k=n(51636),E=n(30869),D=n(69314),T=n(73363),L=n(53770),P=n(91931),_=n(45764),O=n(67573);const B=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:a,padding:i,listItemPaddingSM:o,marginLG:l,borderRadiusLG:c}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:c,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${a}px ${l}px`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:`${i}px ${r}px`}}}},A=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:a,marginSM:i,margin:o}=e;return{[`@media screen and (max-width:${r})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:a}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${n})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${o}px`}}}}}},j=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:a,paddingSM:i,marginLG:o,padding:l,listItemPadding:c,colorPrimary:u,listItemPaddingSM:s,listItemPaddingLG:d,paddingXS:p,margin:m,colorText:v,colorTextDescription:g,motionDurationSlow:h,lineWidth:y}=e;return{[`${t}`]:(0,f.A)((0,f.A)({},(0,O.dF)(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:i},[`${t}-pagination`]:{marginBlockStart:o,textAlign:"end",[`${n}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:a,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:c,color:v,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:l},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:v},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:v,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:v,transition:`all ${h}`,"&:hover":{color:u}}},[`${t}-item-meta-description`]:{color:g,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${p}px`,color:g,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:y,height:Math.ceil(e.fontSize*e.lineHeight)-2*e.marginXXS,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${l}px 0`,color:g,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:l,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:m,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:o},[`${t}-item-meta`]:{marginBlockEnd:l,[`${t}-item-meta-title`]:{marginBlockEnd:i,color:v,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${l}px`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:d},[`${t}-sm ${t}-item`]:{padding:s},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},I=(0,P.A)("List",(e=>{const t=(0,_.h1)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[j(t),B(t),A(t)]}),{contentWidth:220}),M=(0,p.defineComponent)({compatConfig:{MODE:3},name:"AList",inheritAttrs:!1,Item:V,props:(0,k.A)({bordered:(0,E.HE)(),dataSource:(0,E.MY)(),extra:(0,E.vX)(),grid:(0,E.ge)(),itemLayout:String,loading:(0,E.tK)([Boolean,Object]),loadMore:(0,E.vX)(),pagination:(0,E.tK)([Boolean,Object]),prefixCls:String,rowKey:(0,E.tK)([String,Number,Function]),renderItem:(0,E.Fg)(),size:String,split:(0,E.HE)(),header:(0,E.vX)(),footer:(0,E.vX)(),locale:(0,E.ge)()},{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:Object,setup(e,t){let{slots:n,attrs:r}=t;var a,i;(0,p.provide)(C,{grid:(0,p.toRef)(e,"grid"),itemLayout:(0,p.toRef)(e,"itemLayout")});const o={current:1,total:0},{prefixCls:l,direction:c,renderEmpty:u}=(0,N.A)("list",e),[s,y]=I(l),x=(0,p.computed)((()=>e.pagination&&"object"==typeof e.pagination?e.pagination:{})),w=(0,p.ref)(null!==(a=x.value.defaultCurrent)&&void 0!==a?a:1),S=(0,p.ref)(null!==(i=x.value.defaultPageSize)&&void 0!==i?i:10);(0,p.watch)(x,(()=>{"current"in x.value&&(w.value=x.value.current),"pageSize"in x.value&&(S.value=x.value.pageSize)}));const V=[],k=e=>(t,n)=>{w.value=t,S.value=n,x.value[e]&&x.value[e](t,n)},E=k("onChange"),P=k("onShowSizeChange"),$=(0,p.computed)((()=>"boolean"==typeof e.loading?{spinning:e.loading}:e.loading)),_=(0,p.computed)((()=>$.value&&$.value.spinning)),O=(0,p.computed)((()=>{let t="";switch(e.size){case"large":t="lg";break;case"small":t="sm"}return t})),B=(0,p.computed)((()=>({[`${l.value}`]:!0,[`${l.value}-vertical`]:"vertical"===e.itemLayout,[`${l.value}-${O.value}`]:O.value,[`${l.value}-split`]:e.split,[`${l.value}-bordered`]:e.bordered,[`${l.value}-loading`]:_.value,[`${l.value}-grid`]:!!e.grid,[`${l.value}-rtl`]:"rtl"===c.value}))),A=(0,p.computed)((()=>{const t=(0,f.A)((0,f.A)((0,f.A)({},o),{total:e.dataSource.length,current:w.value,pageSize:S.value}),e.pagination||{}),n=Math.ceil(t.total/t.pageSize);return t.current>n&&(t.current=n),t})),j=(0,p.computed)((()=>{let t=[...e.dataSource];return e.pagination&&e.dataSource.length>(A.value.current-1)*A.value.pageSize&&(t=[...e.dataSource].splice((A.value.current-1)*A.value.pageSize,A.value.pageSize)),t})),M=(0,D.A)(),F=(0,L.A)((()=>{for(let e=0;e<T.y.length;e+=1){const t=T.y[e];if(M.value[t])return t}})),U=(0,p.computed)((()=>{if(!e.grid)return;const t=F.value&&e.grid[F.value]?e.grid[F.value]:e.grid.column;return t?{width:100/t+"%",maxWidth:100/t+"%"}:void 0}));return()=>{var t,a,i,o,c,x,w,N;const S=null!==(t=e.loadMore)&&void 0!==t?t:null===(a=n.loadMore)||void 0===a?void 0:a.call(n),C=null!==(i=e.footer)&&void 0!==i?i:null===(o=n.footer)||void 0===o?void 0:o.call(n),k=null!==(c=e.header)&&void 0!==c?c:null===(x=n.header)||void 0===x?void 0:x.call(n),D=(0,b.MI)(null===(w=n.default)||void 0===w?void 0:w.call(n)),T=!!(S||e.pagination||C),L=(0,m.A)((0,f.A)((0,f.A)({},B.value),{[`${l.value}-something-after-last-item`]:T}),r.class,y.value),O=e.pagination?(0,p.createVNode)("div",{class:`${l.value}-pagination`},[(0,p.createVNode)(g.Ay,(0,d.A)((0,d.A)({},A.value),{},{onChange:E,onShowSizeChange:P}),null)]):null;let I=_.value&&(0,p.createVNode)("div",{style:{minHeight:"53px"}},null);if(j.value.length>0){V.length=0;const t=j.value.map(((t,r)=>((t,r)=>{var a;const i=null!==(a=e.renderItem)&&void 0!==a?a:n.renderItem;if(!i)return null;let o;const l=typeof e.rowKey;return o="function"===l?e.rowKey(t):"string"===l||"number"===l?t[e.rowKey]:t.key,o||(o=`list-item-${r}`),V[r]=o,i({item:t,index:r})})(t,r))),r=t.map(((e,t)=>(0,p.createVNode)("div",{key:V[t],style:U.value},[e])));I=e.grid?(0,p.createVNode)(h.A,{gutter:e.grid.gutter},{default:()=>[r]}):(0,p.createVNode)("ul",{class:`${l.value}-items`},[t])}else D.length||_.value||(I=(0,p.createVNode)("div",{class:`${l.value}-empty-text`},[(null===(N=e.locale)||void 0===N?void 0:N.emptyText)||u("List")]));const M=A.value.position||"bottom";return s((0,p.createVNode)("div",(0,d.A)((0,d.A)({},r),{},{class:L}),[("top"===M||"both"===M)&&O,k&&(0,p.createVNode)("div",{class:`${l.value}-header`},[k]),(0,p.createVNode)(v.A,$.value,{default:()=>[I,D]}),C&&(0,p.createVNode)("div",{class:`${l.value}-footer`},[C]),S||("bottom"===M||"both"===M)&&O]))}}});M.install=function(e){return e.component(M.name,M),e.component(M.Item.name,M.Item),e.component(M.Item.Meta.name,M.Item.Meta),e};const F=M;var U=n(48908),z=n(2680),R=n(20636),G=n(34097),H=n(5427),W=n(15996),Y=n(43677),q=n(44983),X=n(82712),K=n(53111),J=n(75510),Q=n(25453),Z=n(32109),ee=(0,n(49550).hU)({legacy:!1,locale:app.lang,globalInjection:!0,messages:{zh_CN:{btn:{save:"保存",reselect:"重新选择",cancel:"取消",saveTheImage:"保存图片",viewDetails:"查看详情",preview:"预览",uploading:"上传"},validate:{cannotContainAngleBrackets:"标题不能包含尖括号",maxByteLimit:"输入内容的长度不能超过 {maxByte} 字节",minByteLimit:"输入内容的长度不能少于 {minByte} 字节",courseTitleLengthLimit:"字符长度必须小于等于200，一个中文字算2个字符",imgTypeLimit:"请上传jpg,gif,png格式的图片",imgSizeLimit:"图片大小不能超过2MB",inputPlanName:"请输入计划名称",inputCourseTitle:"请输入课程标题",courseSubtitleLimit:"最多支持50个字符",nonNegativeInteger:"请输入非负整数，其中秒数只能在0-59之间",enterPrice:"请输入价格",validPrice:"请输入大于0的有效价格，最多两位小数，整数位不超过8位！",enterLimit:"请输入限制加入人数",integer:"请输入非负整数",enterDeadline:"请输入截至日期",enterValidityPeriod:"请输入有效期天数",years:"请输入不大于 7300（20年）的正整数",enterStartDate:"请输入开始日期",enterEndingDate:"请输入结束日期",enterQRCode:"二维码不能为空"},label:{nothing:"无",NonSerialCourse:"非连载课程",updating:"更新中",completed:"已完结",planName:"计划名字",subheadingOfThePlan:"计划副标题",courseTitle:"课程标题",courseSubtitle:"课程副标题",tag:"标签",category:"分类",organization:"组织机构",serializeMode:"连载状态",coverPicture:"封面图片",courseIntroduction:"课程简介",notAvailableForPreview:"不支持试看",minuteTrialViewing:"{min}分钟试看",freestyle:"自由式",unlockingType:"解锁式",open:"开启",close:"关闭",studyMode:"学习模式",viewingDurationLimit:"视频观看时长限制",totalDuration:"倍总时长",taskCompletionRules:"任务完成规则",unlimited:"无限制",conditions:"由任务完成条件决定",freeTasks:"设置免费学习任务",onlySupported:"仅支持",videoPreview:"视频试看",audioLearning:"音频听课（试用）",learning:"随到随学",fixedCycle:"固定周期",longTerm:"长期有效",price:"价格",rmb:"元",displayPrice:"显示价格",notDisplayPrice:"不显示价格",canBeAdded:"可加入",doNotAdd:"不可加入",limitNumber:"限制加入人数",electronicContract:"电子合同",compulsorySigning:"强制签署",joiningDeadline:"加入截止日期",noTimeLimit:"不限时间",custom:"自定义",validityPeriod:"学习有效期",deadline:"按截止日期",validDays:"按有效天数",startDate:"开始日期",endingDate:"结束日期",membersFree:"会员免费兑换",provideServices:"承诺提供服务",catalogueDisplay:"商品页目录展示",drainageSetting:"引流设置",QRCodeSettings:"二维码设置",attractingAttentionCopywriting:"引流文案",referralPage:"引流页样式"},title:{basicInformation:"基础信息",cropThePicture:"裁剪图片",baseRule:"基础规则",marketingSettings:"营销设置"},placeholder:{pleaseSelect:"请选择",provideContent:"请输入内容"},tip:{tag:"用于按标签搜索课程、相关课程的提取等，由网校管理员后台统一管理",uploadPictures:"上传图片",coverPicture:"请上传jpg, gif, png格式的图片, 建议图片尺寸为 480×270px。建议图片大小不超过2MB。",courseIntroduction:"为正常使用IFrame，请在【管理后台】-【系统】-【站点设置】-【安全】-【IFrame白名单】中进行设置",freestyle:"学习过程自由安排",unlockingType:"根据既定顺序逐个解锁学习",studyMode:"计划发布后学习模式无法修改",viewingDurationLimit:"例：课程视频总时长为100分钟，设置为5倍，则学员总共可观看500分钟，超出时长将提示不能学习。0表示无限制。对于手动上传的回放视频，可限制其观看时长。但对于直接录制、跳转到第三方直播平台回放的视频，无法限制。",conditions:"必须达到完成条件，任务才算完成",videoPreview:"常用于收费视频内容的前几分钟免费试看",afterActivation:"开启后，学员在学习时，可按需切换为音频听课，提高完成率。",audioStatus:"当前转音频完成情况",notAPP:"视频含弹题时，在APP端不支持转音频播放",canBeAdded:"关闭后，前台显示为“限制课程”，学员自己无法加入，需要由老师手动添加学员。常用于封闭型教学。",numberOfParticipants:"加入直播课程人数限制，0为不限制人数",supportPeople:"网校可支持最多{liveCapacity}人同时参加直播，您可以设置一个更大的数值，但届时有可能会导致满额后其他学员无法进入直播。",electronicContract:"启用后，学员开始学习前需完成电子合同签署",compulsorySigning:"开启强制签署后，学员完成合同签署后才能学习，未签署的学员每次进入学习页面时弹窗提示签署合同。",dropLearning:"随到随学",fixedCycle:"固定周期",validityPeriod:"有效期从学员加入的当天开始算起，截至到期当天晚上的23:59",fixedDate:"有固定的学习开始日期和结束日期",expirationDate:"过期后无法继续学习，系统会在到期前10天提醒学员。",deadline:"在此日期前，学员可进行学习。",expiryDays:"从加入当天起，在几天内可进行学习。",endDate:"教学计划一旦发布，有效期类型不能修改；课程或教学计划下架后，可以修改日期，新的学习有效期仅对修改后加入的学员生效",drainageSetting:"将已购用户引流至私域流量池",completionPage:"加入/支付完成页"},tag:{free:"免费"}},en:{btn:{save:"Save",reselect:"Reselect",cancel:"Cancel",saveTheImage:"Save the image",viewDetails:"View details",preview:"Preview",uploading:"Uploading"},validate:{cannotContainAngleBrackets:"Title cannot contain angle brackets",maxByteLimit:"Length of input content cannot exceed {maxByte} characters.",minByteLimit:"The length of the input content must be no less than {minByte} bytes.",courseTitleLengthLimit:"The character length must be less than or equal to 200. One Chinese character is counted as 2 characters.",imgTypeLimit:"Please upload pictures in JPG, GIF or PNG formats.",imgSizeLimit:"The size of the image cannot exceed 2MB.",inputPlanName:"Please enter the name of the plan.",inputCourseTitle:"Please enter the course title.",courseSubtitleLimit:"Maximum support for 50 characters.",nonNegativeInteger:"Please enter a non-negative integer. The number of seconds should be within the range of 0 to 59.",enterPrice:"Please enter the price.",validPrice:"Please enter a valid price greater than 0, with no more than two decimal places, and the integer part should not exceed 8 digits!",enterLimit:"Please enter the limit for the number of participants.",integer:"Please enter a non-negative integer.",enterDeadline:"Please enter the deadline.",enterValidityPeriod:"Please enter the number of days for the validity period.",years:"Please enter a positive integer not greater than 7300 (for a period of 20 years).",enterStartDate:"Please enter the start date.",enterEndingDate:"Please enter the end date.",enterQRCode:"The QR code cannot be left blank."},label:{nothing:"Nothing",NonSerialCourse:"Non-serial course",updating:"Updating",completed:"Completed",planName:"Plan name",subheadingOfThePlan:"Subheading of the plan",courseTitle:"Course title",courseSubtitle:"Course subtitle",tag:"Tag",category:"Category",organization:"Organization",serializeMode:"Serialize mode",coverPicture:"Cover picture",courseIntroduction:"Course introduction",notAvailableForPreview:"Not available for preview",minuteTrialViewing:"{min}-minute trial viewing",freestyle:"Freestyle",unlockingType:"Unlocking type",open:"Open",close:"Close",studyMode:"Study mode",viewingDurationLimit:"Video viewing duration limit",totalDuration:"Total duration",taskCompletionRules:"Task completion rules",unlimited:"Unlimited",conditions:"Dependent on the conditions for task completion",freeTasks:"Set up free learning tasks",onlySupported:"only supported",videoPreview:"Video preview",audioLearning:"Audio Learning (Trial)",learning:"Drop-in learning",fixedCycle:"Fixed cycle",longTerm:"Long-term effective",price:"Price",rmb:"RMB",displayPrice:"Display price",notDisplayPrice:"Do not display the price",canBeAdded:"Can be added",doNotAdd:"Do not add",limitNumber:"Limit the number of participants",electronicContract:"Electronic contract",compulsorySigning:"Compulsory signing",joiningDeadline:"Joining deadline",noTimeLimit:"No time limit",custom:"Custom",validityPeriod:"Learning validity period",deadline:"By the deadline",validDays:"Based on the number of valid days",startDate:"Start date",endingDate:"Ending date",membersFree:"Members can redeem for free",provideServices:"Promise to provide services",catalogueDisplay:"Product page catalogue display",drainageSetting:"Drainage setting",QRCodeSettings:"QR code settings",attractingAttentionCopywriting:"Attracting attention copywriting",referralPage:"Style of the referral page"},title:{basicInformation:"Basic information",cropThePicture:"Crop the picture",baseRule:"Base rule",marketingSettings:"Marketing settings"},placeholder:{pleaseSelect:"Please select",provideContent:"Please provide the content"},tip:{tag:"It is used for searching courses by tags, extracting related courses, etc. It is uniformly managed by the online school administrator's backend",uploadPictures:"Upload pictures",coverPicture:"Please upload pictures in JPG, GIF or PNG formats. It is recommended that the picture size be 480×270 pixels. The recommended size limit for the pictures is no more than 2MB.",courseIntroduction:"To use IFrame normally, please make the settings in the 【Management Backend】 - 【System】 - 【Site Settings】 - 【Security】 - 【IFrame Whitelist】 section.",freestyle:"The learning process is freely arranged.",unlockingType:"Unlock the learning one by one in the prescribed order.",studyMode:"The learning mode cannot be modified after the plan is released.",viewingDurationLimit:"The total duration of the course videos is 100 minutes. If set to 5 times, the learners can watch a total of 500 minutes. Any duration exceeding this will result in a message indicating that learning is not possible. 0 indicates no limit.For manually uploaded replay videos, the viewing duration can be restricted. However, for videos directly recorded or replayed from a third-party live streaming platform, the duration cannot be restricted.",conditions:"The task can only be considered completed when the completion conditions are met.",videoPreview:"It is commonly used for charging for video content, with a free preview available for the first few minutes.",afterActivation:"After activation, during the learning process, students can switch to listening to audio as needed to improve their completion rate.",audioStatus:"Current status of audio conversion completion",notAPP:"When the video contains questions, the audio playback function is not available on the APP.",canBeAdded:'After being closed, it shows as "Restricted Courses" on the front desk. Students cannot join by themselves; it requires the teacher to manually add the students. This is often used in closed-type teaching.',numberOfParticipants:"Set the limit for the number of participants in the live course. 0 indicates no limit on the number of participants.",supportPeople:"The online school can support up to {liveCapacity} people to participate in the live broadcast simultaneously. You can set a larger number, but doing so may result in other students being unable to join the live broadcast after the quota is full.",electronicContract:"After activation, before the trainees start their study, they need to complete the signing of the electronic contract.",compulsorySigning:"After enabling mandatory signing, students can only start learning after completing the contract signing. For those who have not signed the contract, a pop-up window will prompt them to sign the contract each time they enter the learning page.",dropLearning:"Drop-in learning",fixedCycle:"Fixed cycle",validityPeriod:"The validity period starts from the day the student joins and ends at 23:59 on the day it expires.",fixedDate:"There is a fixed start date and end date for the learning.",expirationDate:"After the expiration date, you will no longer be able to continue your study. The system will notify the learners 10 days before the expiration.",deadline:"Before this date, the trainees can continue their studies.",expiryDays:"From the day of joining, you can start learning within a few days.",endDate:"Once a teaching plan is released, its validity type cannot be changed; after a course or teaching plan is removed, the date can be modified. The new learning validity only takes effect for the students who are added after the modification.",drainageSetting:"Attract the users who have made purchases to the private domain traffic pool.",completionPage:"Completion Page for Joining/Payment"},tag:{free:"Free"}}}}),te=ee.global.t;const ne=ee;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),l=new L(r||[]);return a(o,"_invoke",{value:k(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",g={};function h(){}function y(){}function b(){}var x={};u(x,o,(function(){return this}));var w=Object.getPrototypeOf,N=w&&w(w(P([])));N&&N!==n&&r.call(N,o)&&(x=N);var S=b.prototype=h.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function n(a,i,o,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==re(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function k(t,n,r){var a=f;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===v){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var c=E(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(re(t)+" is not iterable")}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(V.prototype),u(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new V(s(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),u(S,c,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function ie(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ie(i,r,a,o,l,"next",e)}function l(e){ie(i,r,a,o,l,"throw",e)}o(void 0)}))}}var le={class:"flex flex-col w-full"},ce={key:0,class:"flex flex-col relative"},ue={class:"absolute -left-32 w-full px-32 font-medium py-10 text-14 text-stone-900 bg-[#f5f5f5]",style:{width:"calc(100% + 64px)"}},se={key:1,class:"relative"},de={class:"absolute -left-32 w-full px-32 font-medium py-10 text-14 text-stone-900 bg-[#f5f5f5]",style:{width:"calc(100% + 64px)"}},fe={class:"text-[#adadad] text-14 mt-8"},pe=["src"],me={key:1,class:"flex flex-col items-center relative"},ve={class:"flex flex-col items-center"},ge={class:"mt-8"},he={class:"text-[#a1a1a1]"},ye=(0,p.createElementVNode)("textarea",{id:"course-introduction"},null,-1),be={class:"text-[#a1a1a1] font-normal text-14 leading-28"},xe={class:"flex justify-between"};const we={__name:"BaseInfo",props:{manage:{type:Object,default:{}}},setup:function(e,t){var n=t.expose,r=e,a=(0,p.ref)(),i=(0,p.ref)(),o=function(){var e=oe(ae().mark((function e(){var t;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.category.getCategory("course");case 2:t=e.sent,a.value=g(t),a.value.unshift({value:"0",label:te("label.nothing")});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=oe(ae().mark((function e(){var t;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.tag.getTags("");case 2:t=e.sent,i.value=t.map((function(e){return{label:e.name,value:e.name}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=(0,p.ref)(null),u=(0,p.reactive)({title:r.manage.course.title,subtitle:r.manage.course.subtitle}),s=function(e,t){return new Promise((function(e,n){/^[^<>]*$/.test(t)||n(new Error(te("validate.cannotContainAngleBrackets"))),e()}))},d=function(e){return Number.isInteger(e)&&e>0},f=function(e,t){return new Promise((function(n,r){if(!t||!e.maxSize&&!e.minSize)return n();for(var a=0,i=0;i<t.length;i++){var o=t.charAt(i);/^[\u0000-\u00ff]$/.test(o)?a++:a+=2}e.maxSize&&d(e.maxSize)&&a>e.maxSize?r(new Error(te("validate.maxByteLimit",{maxByte:e.maxSize}))):e.minSize&&d(e.minSize)&&a<e.minSize?r(new Error(te("validate.minByteLimit",{minByte:e.minSize}))):n()}))},m=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);t+=r>=1&&r<=127?1:r>2047?3:2}return t},v=function(){var e=oe(ae().mark((function e(t,n){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){m(n)<=200?e():t(new Error(te("validate.courseTitleLengthLimit")))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(e){return e.map((function(e){var t={value:e.id,label:e.name};return e.children&&e.children.length>0&&(t.children=g(e.children)),t}))}var h=(0,p.ref)(),y=function(){var e=oe(ae().mark((function e(){var t;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.org.search();case 2:t=e.sent,h.value=b(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function b(e){var t={},n=[];return e.forEach((function(e){t[e.id]={label:e.name,value:e.orgCode,children:[]}})),e.forEach((function(e){var r=t[e.id];"0"===e.parentId?n.push(r):t[e.parentId]&&t[e.parentId].children.push(r)})),n}var x=(0,p.ref)(!1),w=(0,p.ref)(),N=(0,p.ref)(""),S=(0,p.ref)();function C(e){var t="image/png"===e.file.type||"image/gif"===e.file.type||"image/jpg"===e.file.type||"image/jpeg"===e.file.type;t||X.Ay.error(te("validate.imgTypeLimit"));var n=e.file.size/1024/1024<2;if(n||X.Ay.error(te("validate.imgSizeLimit")),t&&n){var r=new FileReader;r.onload=function(){var t=oe(ae().mark((function t(n){var r;return ae().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N.value=n.target.result,x.value=!0,t.next=4,fetch(n.target.result);case 4:return r=t.sent,t.next=7,r.blob();case 7:t.t0=t.sent,t.t1=e.file.originFileObj.name,S.value={blob:t.t0,name:t.t1};case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.readAsDataURL(e.file.originFileObj)}}var V=(0,p.ref)(),k=function(){var e=V.value.$el.querySelector('input[type="file"]');e&&e.click(),x.value=!1},E=function(){x.value=!1},D=(0,p.ref)(),T=function(){var e=oe(ae().mark((function e(){var t,n,r,a,i,o,l;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",S.value.blob,S.value.name),t.append("group","course"),e.next=5,K.A.file.upload(t);case 5:return n=e.sent,r=w.value.cropper,a=r.getImageData(),i=r.getData(),o=r.getCroppedCanvas(),D.value=o.toDataURL("image/png"),x.value=!1,(l=new URLSearchParams).append("imgs[large][]",480),l.append("imgs[large][]",270),l.append("imgs[middle][]",304),l.append("imgs[middle][]",171),l.append("imgs[small][]",96),l.append("imgs[small][]",54),l.append("x",Math.round(i.x)),l.append("y",Math.round(i.y)),l.append("x2",Math.round(i.x)+Math.round(i.width)),l.append("y2",Math.round(i.y)+Math.round(i.height)),l.append("w",Math.round(i.width)),l.append("h",Math.round(i.height)),l.append("width",Math.round(a.naturalWidth)),l.append("height",Math.round(a.naturalHeight)),l.append("group","course"),l.append("post",!1),l.append("fileId",n.id),e.next=32,K.A.crop.crop(l);case 32:u.covers=e.sent;case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=[{label:te("label.NonSerialCourse"),value:"none"},{label:te("label.updating"),value:"serialized"},{label:te("label.completed"),value:"finished"}],P=null;return n({validateForm:function(){return r.manage.isUnMultiCourseSet&&(u.summary=P.getData()),c.value.validate().then((function(){return u})).catch((function(e){}))}}),(0,p.onMounted)((function(){r.manage.isUnMultiCourseSet&&(Object.assign(u,{title:(0,Z.oF)(r.manage.courseSet.title),subtitle:r.manage.courseSet.subtitle?(0,Z.oF)(r.manage.courseSet.subtitle):"",tags:r.manage.tags,categoryId:r.manage.course.categoryId,orgCode:r.manage.courseSet.orgCode,serializeMode:r.manage.course.serializeMode,covers:"",summary:r.manage.courseSet.summary}),D.value=r.manage.imageSrc,(P=CKEDITOR.replace("course-introduction",{toolbar:[{items:["FontSize","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{items:["Bold","Italic","Underline","TextColor","-","RemoveFormat","PasteText","-","NumberedList","BulletedList","Indent","Outdent","-","Link","Unlink","uploadpictures","CodeSnippet","Iframe","-","Source","kityformula","-","Maximize"]}],extraPlugins:"questionblank,smiley,table,font,kityformula,codesnippet,uploadpictures,shortUrl,image2,colorbutton,colordialog,justify,find,filebrowser,pasteimage,katex,iframe",filebrowserImageUploadUrl:r.manage.imageUploadUrl})).setData(u.summary),o(),y(),l())})),function(e,t){var n=(0,p.resolveComponent)("a-input"),o=(0,p.resolveComponent)("a-form-item"),l=(0,p.resolveComponent)("a-textarea"),d=(0,p.resolveComponent)("a-form"),m=(0,p.resolveComponent)("a-select"),g=(0,p.resolveComponent)("a-tree-select"),y=(0,p.resolveComponent)("a-radio-group"),b=(0,p.resolveComponent)("a-upload"),S=(0,p.resolveComponent)("a-button"),P=(0,p.resolveComponent)("a-modal");return(0,p.openBlock)(),(0,p.createElementBlock)("div",le,[r.manage.isUnMultiCourseSet?((0,p.openBlock)(),(0,p.createElementBlock)("div",se,[(0,p.createElementVNode)("div",de,(0,p.toDisplayString)((0,p.unref)(te)("title.basicInformation")),1),(0,p.createVNode)(d,{ref_key:"formRef",ref:c,class:"mt-66",model:u,"label-col":{span:4},"wrapper-col":{span:16}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.courseTitle"),name:"title",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.inputCourseTitle")},{validator:v},{validator:s}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(n,{value:u.title,"onUpdate:value":t[2]||(t[2]=function(e){return u.title=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1},8,["label","rules"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.courseSubtitle"),name:"subtitle",validateTrigger:["blur"],rules:[{max:50,message:(0,p.unref)(te)("validate.courseSubtitleLimit")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:u.subtitle,"onUpdate:value":t[3]||(t[3]=function(e){return u.subtitle=e}),rows:3},null,8,["value"])]})),_:1},8,["label","rules"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.tag")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(m,{value:u.tags,"onUpdate:value":t[4]||(t[4]=function(e){return u.tags=e}),mode:"multiple",placeholder:(0,p.unref)(te)("placeholder.pleaseSelect"),options:i.value,"allow-clear":""},null,8,["value","placeholder","options"]),(0,p.createElementVNode)("div",fe,(0,p.toDisplayString)((0,p.unref)(te)("tip.tag")),1)]})),_:1},8,["label"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.category")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(g,{value:u.categoryId,"onUpdate:value":t[5]||(t[5]=function(e){return u.categoryId=e}),"tree-data":a.value,"allow-clear":"","tree-default-expand-all":"","show-search":!0,treeNodeFilterProp:"label",style:{width:"250px"}},null,8,["value","tree-data"])]})),_:1},8,["label"]),1===r.manage.enableOrg?((0,p.openBlock)(),(0,p.createBlock)(o,{key:0,label:(0,p.unref)(te)("label.organization")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(g,{value:u.orgCode,"onUpdate:value":t[6]||(t[6]=function(e){return u.orgCode=e}),"tree-data":h.value,"allow-clear":"","tree-default-expand-all":"","show-search":!0,treeNodeFilterProp:"label",style:{width:"250px"}},null,8,["value","tree-data"])]})),_:1},8,["label"])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.serializeMode")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(y,{value:u.serializeMode,"onUpdate:value":t[7]||(t[7]=function(e){return u.serializeMode=e}),options:L},null,8,["value"])]})),_:1},8,["label"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.coverPicture")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(b,{ref_key:"upload",ref:V,accept:"image/png, image/gif, image/jpg, image/jpeg","file-list":[],maxCount:1,customRequest:function(){},"list-type":"picture-card",onChange:C},{default:(0,p.withCtx)((function(){return[D.value?((0,p.openBlock)(),(0,p.createElementBlock)("img",{key:0,src:D.value,style:{width:"100%"},alt:""},null,8,pe)):((0,p.openBlock)(),(0,p.createElementBlock)("div",me,[(0,p.createElementVNode)("div",ve,[(0,p.createVNode)((0,p.unref)(J.A)),(0,p.createElementVNode)("div",ge,(0,p.toDisplayString)((0,p.unref)(te)("tip.uploadPictures")),1)])]))]})),_:1},512),(0,p.createElementVNode)("div",he,(0,p.toDisplayString)((0,p.unref)(te)("tip.coverPicture")),1)]})),_:1},8,["label"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.courseIntroduction")},{default:(0,p.withCtx)((function(){return[ye,(0,p.createElementVNode)("div",be,(0,p.toDisplayString)((0,p.unref)(te)("tip.courseIntroduction")),1)]})),_:1},8,["label"])]})),_:1},8,["model"])])):((0,p.openBlock)(),(0,p.createElementBlock)("div",ce,[(0,p.createElementVNode)("div",ue,(0,p.toDisplayString)((0,p.unref)(te)("title.basicInformation")),1),(0,p.createVNode)(d,{ref_key:"formRef",ref:c,class:"mt-66",model:u,"label-col":{span:6},"wrapper-col":{span:16}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.planName"),name:"title",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.inputPlanName")},{validator:f,maxSize:100,minSize:2},{validator:s}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(n,{value:u.title,"onUpdate:value":t[0]||(t[0]=function(e){return u.title=e}),valueModifiers:{trim:!0}},null,8,["value"])]})),_:1},8,["label","rules"]),(0,p.createVNode)(o,{label:(0,p.unref)(te)("label.subheadingOfThePlan"),name:"subtitle",validateTrigger:["blur"],rules:[{validator:f,maxSize:100}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:u.subtitle,"onUpdate:value":t[1]||(t[1]=function(e){return u.subtitle=e}),valueModifiers:{trim:!0},rows:3},null,8,["value"])]})),_:1},8,["label","rules"])]})),_:1},8,["model"])])),(0,p.createVNode)(P,{"mask-closable":!1,width:"auto",zIndex:1050,centered:!0,open:x.value,"onUpdate:open":t[8]||(t[8]=function(e){return x.value=e}),onCancel:t[9]||(t[9]=function(e){return x.value=!1})},{title:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("title.cropThePicture")),1)]})),footer:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",xe,[(0,p.createVNode)(S,{onClick:k},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("btn.reselect")),1)]})),_:1}),(0,p.createElementVNode)("div",null,[(0,p.createVNode)(S,{onClick:E},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("btn.cancel")),1)]})),_:1}),(0,p.createVNode)(S,{type:"primary",onClick:T},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("btn.saveTheImage")),1)]})),_:1})])])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(Q.A,{ref_key:"cropperInstance",ref:w,src:N.value,aspectRatio:16/9},null,8,["src"])]})),_:1},8,["open"])])}}},Ne=we;var Se=n(73699);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ce(t)?t:String(t)}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={class:"flex flex-col w-full relative"},De={class:"absolute -left-32 w-full px-32 font-medium py-10 text-14 text-stone-900 bg-[#f5f5f5]",style:{width:"calc(100% + 64px)"}},Te={class:"flex items-center"},Le={class:"text-14"},Pe={class:"font-medium"},$e={class:"text-14"},_e={class:"font-medium"},Oe={class:"flex h-32 items-center"},Be={class:"text-[#a1a1a1] text-14 mt-8"},Ae={class:"flex items-center space-x-8"},je={class:"text-[#a1a1a1] font-normal text-14 whitespace-nowrap"},Ie={class:"text-14 font-normal w-300"},Me={class:"text-14 font-normal"},Fe={key:1},Ue={class:"flex flex-col"},ze={class:"flex justify-between w-full"},Re={class:"text-14 font-normal"},Ge={class:"text-[#a1a1a1] text-14 flex items-center"},He={class:"text-14"},We={key:0,class:"es-icon es-icon-tip admin-update__icon color-danger",slot:"reference"},Ye={class:"flex items-center"},qe={class:"text-14"},Xe={class:"text-14 text-[#a1a1a1] mt-8"},Ke={class:"text-14 text-[#a1a1a1] mt-8"},Je=["href"],Qe={class:"text-14 text-[#a1a1a1] mt-8"};const Ze={__name:"BaseRule",props:{manage:{type:Object,default:{}}},setup:function(e,t){var n=t.expose,r=e,a=Array.from({length:11},(function(e,t){return{value:String(t),label:0===t?te("label.notAvailableForPreview"):te("label.minuteTrialViewing",{min:t})}})),i=[{label:te("label.freestyle"),value:"freeMode"},{label:te("label.unlockingType"),value:"lockMode"}],o=[{label:te("label.open"),value:"1"},{label:te("label.close"),value:"0"}],l=(0,p.ref)(null),c=(0,p.reactive)({learnMode:r.manage.course.learnMode,watchLimit:r.manage.course.watchLimit,enableFinish:r.manage.course.enableFinish,tryLookLength:r.manage.course.tryLookLength,enableAudio:r.manage.course.enableAudio,freeTaskIds:Object.keys(r.manage.freeTasks)}),u=(0,p.ref)(r.manage.canFreeTasks.map((function(e){return ke(ke({},e),{},{isSelected:!1})})));return n({validateForm:function(){return l.value.validate().then((function(){return c})).catch((function(e){}))}}),function(e,t){var n=(0,p.resolveComponent)("a-popover"),s=(0,p.resolveComponent)("a-radio-group"),d=(0,p.resolveComponent)("a-form-item"),f=(0,p.resolveComponent)("a-input"),m=(0,p.resolveComponent)("a-radio"),v=(0,p.resolveComponent)("a-tooltip"),g=(0,p.resolveComponent)("a-checkbox"),h=(0,p.resolveComponent)("a-tag"),y=(0,p.resolveComponent)("a-list-item"),b=(0,p.resolveComponent)("a-list"),x=(0,p.resolveComponent)("a-checkbox-group"),w=(0,p.resolveComponent)("a-select-option"),N=(0,p.resolveComponent)("a-select"),S=(0,p.resolveComponent)("a-form");return(0,p.openBlock)(),(0,p.createElementBlock)("div",Ee,[(0,p.createElementVNode)("div",De,(0,p.toDisplayString)((0,p.unref)(te)("title.baseRule")),1),(0,p.createVNode)(S,{ref_key:"formRef",ref:l,class:"mt-66",model:c,"label-col":{span:6},"wrapper-col":{span:16}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(d,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Te,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.studyMode")),1),(0,p.createVNode)(n,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Le,[(0,p.createElementVNode)("span",Pe,(0,p.toDisplayString)((0,p.unref)(te)("label.freestyle"))+"：",1),(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tip.freestyle")),1)]),(0,p.createElementVNode)("div",$e,[(0,p.createElementVNode)("span",_e,(0,p.toDisplayString)((0,p.unref)(te)("label.unlockingType"))+"：",1),(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tip.unlockingType")),1)])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Oe,[(0,p.createVNode)(s,{value:c.learnMode,"onUpdate:value":t[0]||(t[0]=function(e){return c.learnMode=e}),options:i,disabled:"draft"!==r.manage.course.status||"self"!==r.manage.course.platform},null,8,["value","disabled"])]),(0,p.createElementVNode)("div",Be,(0,p.toDisplayString)((0,p.unref)(te)("tip.studyMode")),1)]})),_:1}),r.manage.lessonWatchLimit?((0,p.openBlock)(),(0,p.createBlock)(d,{key:0,label:(0,p.unref)(te)("label.viewingDurationLimit"),name:"watchLimit",required:!0,validateTrigger:["blur"],rules:[{pattern:/^(?:[0-9]|[1-5][0-9])$/,message:(0,p.unref)(te)("validate.nonNegativeInteger")}]},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ae,[(0,p.createVNode)(f,{value:c.watchLimit,"onUpdate:value":t[1]||(t[1]=function(e){return c.watchLimit=e}),style:{width:"150px"}},null,8,["value"]),(0,p.createElementVNode)("div",je,(0,p.toDisplayString)((0,p.unref)(te)("label.totalDuration")),1),(0,p.createVNode)(n,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ie,(0,p.toDisplayString)((0,p.unref)(te)("tip.viewingDurationLimit")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14"})]})),_:1})])]})),_:1},8,["label","rules"])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(d,{label:(0,p.unref)(te)("label.taskCompletionRules")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(s,{value:c.enableFinish,"onUpdate:value":t[2]||(t[2]=function(e){return c.enableFinish=e}),disabled:"supplier"===r.manage.course.platform},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(m,{value:"1"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.unlimited")),1)]})),_:1}),(0,p.createVNode)(m,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.conditions")),1),(0,p.createElementVNode)("span",null,[(0,p.createVNode)(n,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Me,(0,p.toDisplayString)((0,p.unref)(te)("tip.conditions")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 ml-4"})]})),_:1})])]})),_:1})]})),_:1},8,["value","disabled"])]})),_:1},8,["label"]),"live"!==r.manage.courseSet?((0,p.openBlock)(),(0,p.createElementBlock)("div",Fe,[(0,p.createVNode)(d,{label:(0,p.unref)(te)("label.freeTasks")},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ue,[(0,p.createVNode)(x,{value:c.freeTaskIds,"onUpdate:value":t[3]||(t[3]=function(e){return c.freeTaskIds=e}),style:{width:"100%"}},{default:(0,p.withCtx)((function(){return[u.value.length?((0,p.openBlock)(),(0,p.createBlock)(b,{key:0,size:"small",bordered:"",style:{width:"100%"},class:"max-h-196 overflow-y-auto mb-8"},{default:(0,p.withCtx)((function(){return[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(u.value,(function(e){return(0,p.openBlock)(),(0,p.createBlock)(y,{key:e.id},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",ze,[(0,p.createVNode)(g,{checked:e.isSelected,"onUpdate:checked":function(t){return e.isSelected=t},value:e.id,style:{width:"100%"}},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",null,[(0,p.createVNode)(v,{placement:"top"},{title:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Re,(0,p.toDisplayString)(r.manage.activityMetas[e.type].name)+(0,p.toDisplayString)(r.manage.taskName),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("i",{class:(0,p.normalizeClass)(["text-[#999] mr-4",r.manage.activityMetas[e.type].icon])},null,2)]})),_:2},1024),(0,p.createElementVNode)("span",null,(0,p.toDisplayString)(r.manage.taskName)+" "+(0,p.toDisplayString)(e.number)+" : "+(0,p.toDisplayString)(e.title),1)])]})),_:2},1032,["checked","onUpdate:checked","value"]),c.freeTaskIds.includes(e.id)?((0,p.openBlock)(),(0,p.createBlock)(h,{key:0,color:"#f46300"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tag.free")),1)]})),_:1})):(0,p.createCommentVNode)("",!0)])]})),_:2},1024)})),128))]})),_:1})):(0,p.createCommentVNode)("",!0)]})),_:1},8,["value"]),(0,p.createElementVNode)("div",Ge,[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tag.free"))+(0,p.toDisplayString)(r.manage.taskName)+(0,p.toDisplayString)((0,p.unref)(te)("label.onlySupported"))+(0,p.toDisplayString)(r.manage.canFreeActivityTypes)+" ",1),(0,p.createVNode)(n,{placement:"right"},{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",He,(0,p.toDisplayString)(r.manage.freeTaskChangelog),1)]})),default:(0,p.withCtx)((function(){return[r.manage.freeTaskChangelog?((0,p.openBlock)(),(0,p.createElementBlock)("i",We)):(0,p.createCommentVNode)("",!0)]})),_:1})])])]})),_:1},8,["label"]),"local"!==r.manage.uploadMode?((0,p.openBlock)(),(0,p.createBlock)(d,{key:0},{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ye,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.videoPreview")),1),(0,p.createVNode)(n,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",qe,(0,p.toDisplayString)((0,p.unref)(te)("tip.videoPreview")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(N,{style:{width:"250px"},value:c.tryLookLength,"onUpdate:value":t[4]||(t[4]=function(e){return c.tryLookLength=e})},{default:(0,p.withCtx)((function(){return[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)((0,p.unref)(a),(function(e){return(0,p.openBlock)(),(0,p.createBlock)(w,{key:e.value,value:e.value},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})):(0,p.createCommentVNode)("",!0)])):(0,p.createCommentVNode)("",!0),"needOpen"!==r.manage.audioServiceStatus&&"normal"===r.manage.course.type?((0,p.openBlock)(),(0,p.createBlock)(d,{key:2,label:(0,p.unref)(te)("label.audioLearning")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(s,{class:"base-rule-radio mt-6",value:c.enableAudio,"onUpdate:value":t[5]||(t[5]=function(e){return c.enableAudio=e}),options:o,disabled:"supplier"===r.manage.course.platform},null,8,["value","disabled"]),(0,p.createElementVNode)("div",Xe,"1."+(0,p.toDisplayString)((0,p.unref)(te)("tip.afterActivation")),1),(0,p.createElementVNode)("div",Ke,[(0,p.createTextVNode)("2."+(0,p.toDisplayString)((0,p.unref)(te)("tip.audioStatus"))+" ："+(0,p.toDisplayString)(r.manage.videoConvertCompletion),1),(0,p.createElementVNode)("a",{class:"text-[--primary-color] text-14 ml-8 font-medium",href:r.manage.courseSetManageFilesUrl,target:"__blank"},(0,p.toDisplayString)((0,p.unref)(te)("btn.viewDetails")),9,Je)]),(0,p.createElementVNode)("div",Qe,"3."+(0,p.toDisplayString)((0,p.unref)(te)("tip.notAPP")),1)]})),_:1},8,["label"])):(0,p.createCommentVNode)("",!0)]})),_:1},8,["model"])])}}};var et=n(48913),tt=n(63511),nt=n.n(tt),rt=n(14208),at=n(63894),it=n(41481),ot=n(74353),lt=n.n(ot);function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(){ut=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),l=new L(r||[]);return a(o,"_invoke",{value:k(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",g={};function h(){}function y(){}function b(){}var x={};u(x,o,(function(){return this}));var w=Object.getPrototypeOf,N=w&&w(w(P([])));N&&N!==n&&r.call(N,o)&&(x=N);var S=b.prototype=h.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function n(a,i,o,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ct(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function k(t,n,r){var a=f;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===v){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var c=E(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ct(t)+" is not iterable")}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(V.prototype),u(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new V(s(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),u(S,c,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function st(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){st(i,r,a,o,l,"next",e)}function l(e){st(i,r,a,o,l,"throw",e)}o(void 0)}))}}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ct(t)?t:String(t)}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt={class:"flex flex-col w-full relative"},vt={class:"absolute -left-32 w-full px-32 font-medium py-10 text-14 text-stone-900 bg-[#f5f5f5]",style:{width:"calc(100% + 64px)"}},gt={class:"flex items-center gap-24"},ht={class:"flex items-center"},yt={class:"text-14"},bt={class:"text-[#a1a1a1] text-14"},xt={key:0,class:"text-[#F56C6C] text-14"},wt={class:"flex items-center"},Nt={class:"text-14"},St={class:"h-32 flex items-center mb-6"},Ct={key:0},Vt={class:"flex"},kt={class:"w-150 truncate text-left"},Et={class:"flex justify-between"},Dt=["onClick"],Tt=["onClick"],Lt={key:1},Pt={class:"flex items-center"},$t={class:"text-14 w-350"},_t={class:"flex"},Ot={class:"flex items-center"},Bt={class:"flex flex-col text-14"},At={class:"mb-10"},jt={class:"font-medium"},It={class:"mb-10"},Mt={class:"font-medium"},Ft={class:"flex flex-col"},Ut={class:"h-32 flex items-center"},zt={key:0,class:"mt-16 max-w-600 bg-[#f5f5f5] px-24 pt-24 flex flex-col"},Rt={key:0},Gt={class:"flex items-center mt-16"},Ht={class:"text-14 opacity-65 ml-10"},Wt={key:1,class:"flex"},Yt={class:"flex items-center mt-16"},qt={class:"text-14 opacity-65 ml-10"},Xt={key:2,class:"flex"},Kt={class:"text-14 mt-6 mr-4"},Jt={class:"text-14 mt-6 mr-4 ml-8"},Qt={class:"text-[#adadad] text-14 mt-8"},Zt={class:"text-14"},en={class:"flex items-center"},tn={class:"text-14"},nn={key:3},rn=["src"],an={key:1},on={class:"ant-upload-text"},ln={class:"text-[#a1a1a1] text-14"},cn={class:"flex"},un={class:"opacity-65 text-14"},sn=(0,p.createElementVNode)("img",{src:nt(),alt:"drainage",style:{height:"500px"}},null,-1),dn={class:"text-[--primary-color] font-medium text-14 ml-4 cursor-pointer"},fn={class:"flex justify-between items-center px-24 py-16 border-solid border border-[#F0F0F0] border-t-0 border-x-0"},pn={class:"text-16 text-[#1E2226] font-medium"},mn={class:"w-full flex flex-col space-y-32 p-32"},vn={class:"flex items-end justify-between gap-4"},gn={class:"flex-none whitespace-nowrap opacity-0"},hn={class:"grow text-center text-22 font-medium"},yn={class:"flex-none whitespace-nowrap text-gray-500"},bn=["innerHTML"],xn={class:"flex space-x-64"},wn={class:"flex-1 flex flex-col items-start justify-between space-y-22"},Nn={class:"text-18 font-medium"},Sn={class:"w-full flex flex-col space-y-22"},Cn=["src"],Vn={class:"flex items-center"},kn={class:"text-gray-500"},En={class:"grow border-solid border-0 border-b border-gray-300 font-medium"},Dn={class:"flex-1 flex flex-col items-start justify-between"},Tn={class:"text-18 font-medium"},Ln={class:"w-full flex flex-col space-y-22"},Pn={key:0,class:"flex items-center"},$n={class:"text-gray-500"},_n=(0,p.createElementVNode)("div",{class:"grow border-solid border-0 border-b border-gray-300 font-medium h-23"},null,-1),On={class:"flex items-center"},Bn={class:"text-gray-500"},An=(0,p.createElementVNode)("div",{class:"grow border-solid border-0 border-b border-gray-300 font-medium h-23"},null,-1),jn={key:1,class:"flex items-center"},In={class:"text-gray-500"},Mn=(0,p.createElementVNode)("div",{class:"grow border-solid border-0 border-b border-gray-300 font-medium h-23"},null,-1),Fn={key:2,class:"flex items-center"},Un={class:"text-gray-500"},zn=(0,p.createElementVNode)("div",{class:"grow border-solid border-0 border-b border-gray-300 font-medium h-23"},null,-1),Rn={class:"flex items-center"},Gn={class:"text-gray-500"},Hn={class:"grow border-solid border-0 border-b border-gray-300 font-medium"},Wn={class:"flex justify-center"};const Yn={__name:"MarketSetting",props:{manage:{type:Object,default:{}}},setup:function(e,t){var n=t.expose,r=e,a=(0,p.ref)(null),i=(0,p.reactive)({originPrice:r.manage.course.originPrice,buyable:r.manage.course.buyable,maxStudentNumL:r.manage.course.maxStudentNum,enableBuyExpiryTime:r.manage.course.buyExpiryTime>0?"1":"0",buyExpiryTime:"0"==r.manage.course.buyExpiryTime?null:lt()(1e3*Number(r.manage.course.buyExpiryTime)),taskDisplay:r.manage.course.taskDisplay,drainageEnabled:r.manage.course.drainageEnabled,deadline:0==r.manage.course.expiryEndDate?null:lt()(r.manage.course.expiryEndDate),deadlineType:r.manage.course.deadlineType?r.manage.course.deadlineType:"days",expiryDays:r.manage.course.expiryDays>0?r.manage.course.expiryDays:null,expiryMode:r.manage.course.expiryMode,expiryStartDate:0==r.manage.course.expiryStartDate?null:lt()(r.manage.course.expiryStartDate),expiryEndDate:0==r.manage.course.expiryEndDate?null:lt()(r.manage.course.expiryEndDate),contractEnable:0!==r.manage.course.contractId?1:0,contractForceSign:r.manage.course.contractForceSign,contractId:r.manage.course.contractId,services:r.manage.course.services,drainageImage:r.manage.course.drainageImage,drainageText:r.manage.course.drainageText,hidePrice:r.manage.course.hidePrice});r.manage.vipInstalled&&r.manage.vipEnabled&&Object.assign(i,{vipLevelId:r.manage.course.vipLevelId});var o=(0,p.ref)(!!r.manage.course.status&&"published"===r.manage.course.status),l=(0,p.ref)(!!r.manage.courseSet.status&&"published"===r.manage.courseSet.status),c=(0,p.ref)(!!r.manage.course.status&&"closed"===r.manage.course.status),u=(0,p.ref)(!!r.manage.courseSet.status&&"closed"===r.manage.courseSet.status),s=(0,p.ref)(o.value&&l.value||c.value||u.value),d=function(e){return e&&e<(new Date).setHours(0,0,0,0)},f=function(e){return""!==i.expiryEndDate&&null!=i.expiryEndDate&&e>i.expiryEndDate||e<=Date.now()-864e5},m=function(e){return null!==i.expiryStartDate?e<i.expiryStartDate:e<=Date.now()-864e5},v=(0,p.ref)(r.manage.serviceTags.map((function(e){return pt(pt({},e),{},{active:1===e.active||i.services.indexOf(e.code)>=0})}))),g=(0,p.ref)(!1),h=(0,p.ref)(),y=function(){var e=dt(ut().mark((function e(t){var n,r;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.value=!0,(n="image/jpeg"===t.file.type||"image/gif"===t.file.type||"image/png"===t.file.type)||(X.Ay.error(te("validate.imgTypeLimit")),g.value=!1),!n){e.next=13;break}return(r=new FormData).append("file",t.file.originFileObj),r.append("group","system"),e.next=9,K.A.file.upload(r);case 9:h.value=e.sent,g.value=!1,i.drainageImage=h.value.uri,a.value.validateFields(["drainageImage"]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=(0,p.computed)({get:function(){return 1===i.contractEnable},set:function(e){i.contractEnable=e?1:0}}),x=(0,p.computed)({get:function(){return 1===i.contractForceSign},set:function(e){i.contractForceSign=e?1:0}}),w=(0,p.ref)(),N=(0,p.ref)(r.manage.course.contractName),S=(0,p.ref)(!1),C=(0,p.ref)(),V=(0,p.ref)(!1),k=function(){var e=dt(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.contract.getSimpleContracts();case 2:if(w.value=e.sent,0!==w.value.length){e.next=5;break}return e.abrupt("return");case 5:0===i.contractId&&(i.contractId=w.value[0].id,N.value=w.value[0].name);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k();var E=function(){var e=dt(ut().mark((function e(t){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.contract.previewContract(t,r.manage.course.id);case 2:C.value=e.sent,V.value=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=[{label:te("label.learning"),value:"days"},{label:te("label.fixedCycle"),value:"date"},{label:te("label.longTerm"),value:"forever"}],T=(0,p.ref)();function L(e){return P.apply(this,arguments)}function P(){return(P=dt(ut().mark((function e(t){var n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.A.liveCapacity.get(t);case 2:n=e.sent,T.value=n.capacity;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,p.onMounted)(dt(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(r.manage.liveCapacityUrl);case 2:case"end":return e.stop()}}),e)})))),n({validateForm:function(){return a.value.validate().then((function(){return i})).catch((function(e){}))}}),function(e,t){var n=(0,p.resolveComponent)("a-input"),o=(0,p.resolveComponent)("a-radio"),l=(0,p.resolveComponent)("a-radio-group"),c=(0,p.resolveComponent)("a-form-item-rest"),u=(0,p.resolveComponent)("a-form-item"),h=(0,p.resolveComponent)("a-popover"),k=(0,p.resolveComponent)("a-switch"),L=(0,p.resolveComponent)("a-button"),P=(0,p.resolveComponent)("a-menu-item"),$=(0,p.resolveComponent)("a-menu"),_=(0,p.resolveComponent)("a-dropdown"),O=(0,p.resolveComponent)("a-date-picker"),B=(0,p.resolveComponent)("a-select-option"),A=(0,p.resolveComponent)("a-select"),j=(0,p.resolveComponent)("a-checkable-tag"),I=(0,p.resolveComponent)("a-upload"),M=(0,p.resolveComponent)("a-form"),F=(0,p.resolveComponent)("a-modal");return(0,p.openBlock)(),(0,p.createElementBlock)("div",mt,[(0,p.createElementVNode)("div",vt,(0,p.toDisplayString)((0,p.unref)(te)("title.marketingSettings")),1),(0,p.createVNode)(M,{ref_key:"formRef",ref:a,class:"mt-66",model:i,"label-col":{span:6},"wrapper-col":{span:16}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.price"),name:"originPrice",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterPrice")},{pattern:/^(\d{1,8}(\.\d{1,2})?)?$/,message:(0,p.unref)(te)("validate.validPrice")}]},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",gt,[(0,p.createVNode)(n,{value:i.originPrice,"onUpdate:value":t[0]||(t[0]=function(e){return i.originPrice=e}),disabled:"supplier"===r.manage.course.platform&&!r.manage.canModifyCoursePrice,suffix:(0,p.unref)(te)("label.rmb"),style:{width:"150px"}},null,8,["value","disabled","suffix"]),(0,p.createVNode)(c,null,{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:i.hidePrice,"onUpdate:value":t[1]||(t[1]=function(e){return i.hidePrice=e})},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.displayPrice")),1)]})),_:1}),(0,p.createVNode)(o,{value:"1"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.notDisplayPrice")),1)]})),_:1})]})),_:1},8,["value"])]})),_:1})])]})),_:1},8,["label","rules"]),(0,p.createVNode)(u,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",ht,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.canBeAdded")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",yt,(0,p.toDisplayString)((0,p.unref)(te)("tip.canBeAdded")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:i.buyable,"onUpdate:value":t[2]||(t[2]=function(e){return i.buyable=e})},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:"1"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.canBeAdded")),1)]})),_:1}),(0,p.createVNode)(o,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.doNotAdd")),1)]})),_:1})]})),_:1},8,["value"])]})),_:1}),"live"===r.manage.courseSet.type?((0,p.openBlock)(),(0,p.createBlock)(u,{key:0,name:"maxStudentNumL",label:(0,p.unref)(te)("label.limitNumber"),validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterLimit")},{pattern:/^[0-9]\d*$/,message:(0,p.unref)(te)("validate.integer")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(n,{value:i.maxStudentNumL,"onUpdate:value":t[3]||(t[3]=function(e){return i.maxStudentNumL=e}),class:"mb-8",style:{width:"150px"}},null,8,["value"]),(0,p.createElementVNode)("div",bt,(0,p.toDisplayString)((0,p.unref)(te)("tip.numberOfParticipants")),1),null!==T.value&&parseInt(i.maxStudentNumL)>parseInt(T.value)?((0,p.openBlock)(),(0,p.createElementBlock)("div",xt,(0,p.toDisplayString)((0,p.unref)(te)("tip.supportPeople",{liveCapacity:T.value})),1)):(0,p.createCommentVNode)("",!0)]})),_:1},8,["label","rules"])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(u,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",wt,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.electronicContract")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Nt,(0,p.toDisplayString)((0,p.unref)(te)("tip.electronicContract")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",St,[(0,p.createVNode)(k,{checked:b.value,"onUpdate:checked":t[4]||(t[4]=function(e){return b.value=e})},null,8,["checked"])]),b.value?((0,p.openBlock)(),(0,p.createElementBlock)("div",Ct,[(0,p.createVNode)(_,{trigger:["click"],placement:"bottom",value:S.value,"onUpdate:value":t[5]||(t[5]=function(e){return S.value=e})},{overlay:(0,p.withCtx)((function(){return[(0,p.createVNode)($,{class:"h-350 overflow-y-scroll"},{default:(0,p.withCtx)((function(){return[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(w.value,(function(e){return(0,p.openBlock)(),(0,p.createBlock)(P,{key:e.id},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Et,[(0,p.createElementVNode)("div",{class:"w-150 truncate text-left",onClick:function(t){return n=e.id,r=e.name,i.contractId=n,N.value=r,void(S.value=!1);var n,r}},(0,p.toDisplayString)(e.name),9,Dt),(0,p.createElementVNode)("div",{class:"text-[#46c37b]",onClick:function(t){return E(e.id)}},(0,p.toDisplayString)((0,p.unref)(te)("btn.preview")),9,Tt)])]})),_:2},1024)})),128))]})),_:1})]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(L,null,{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Vt,[(0,p.createElementVNode)("div",kt,(0,p.toDisplayString)(N.value),1),(0,p.createVNode)((0,p.unref)(rt.A),{class:"ml-16 text-[#d9d9d9] text-12"})])]})),_:1})]})),_:1},8,["value"])])):(0,p.createCommentVNode)("",!0)]})),_:1}),b.value?((0,p.openBlock)(),(0,p.createElementBlock)("div",Lt,[(0,p.createVNode)(u,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Pt,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.compulsorySigning")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",$t,(0,p.toDisplayString)((0,p.unref)(te)("tip.compulsorySigning")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(k,{checked:x.value,"onUpdate:checked":t[6]||(t[6]=function(e){return x.value=e})},null,8,["checked"])]})),_:1})])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.joiningDeadline"),required:!0},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",_t,[(0,p.createVNode)(l,{value:i.enableBuyExpiryTime,"onUpdate:value":t[7]||(t[7]=function(e){return i.enableBuyExpiryTime=e}),class:(0,p.normalizeClass)([{"mb-24":"1"===i.enableBuyExpiryTime},"flex items-center"])},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.noTimeLimit")),1)]})),_:1}),(0,p.createVNode)(o,{value:"1"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.custom")),1)]})),_:1})]})),_:1},8,["value","class"]),"1"===i.enableBuyExpiryTime?((0,p.openBlock)(),(0,p.createBlock)(u,{key:0,name:"buyExpiryTime",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterDeadline")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(O,{value:i.buyExpiryTime,"onUpdate:value":t[8]||(t[8]=function(e){return i.buyExpiryTime=e}),"disabled-date":d,style:{width:"150px"}},null,8,["value"])]})),_:1},8,["rules"])):(0,p.createCommentVNode)("",!0)])]})),_:1},8,["label"]),(0,p.createVNode)(u,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ot,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.validityPeriod")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Bt,[(0,p.createElementVNode)("div",At,[(0,p.createElementVNode)("span",jt,(0,p.toDisplayString)((0,p.unref)(te)("tip.dropLearning"))+"：",1),(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tip.validityPeriod")),1)]),(0,p.createElementVNode)("div",It,[(0,p.createElementVNode)("span",Mt,(0,p.toDisplayString)((0,p.unref)(te)("tip.fixedCycle"))+"：",1),(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("tip.fixedDate")),1)]),(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("tip.expirationDate")),1)])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Ft,[(0,p.createElementVNode)("div",Ut,[(0,p.createVNode)(c,null,{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:i.expiryMode,"onUpdate:value":t[9]||(t[9]=function(e){return i.expiryMode=e})},{default:(0,p.withCtx)((function(){return[((0,p.openBlock)(),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(D,(function(e){return(0,p.createVNode)(o,{key:e.value,value:e.value,disabled:"draft"!==r.manage.course.status||"self"!==r.manage.course.platform},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)(e.label),1)]})),_:2},1032,["value","disabled"])})),64))]})),_:1},8,["value"])]})),_:1})]),"forever"!==i.expiryMode?((0,p.openBlock)(),(0,p.createElementBlock)("div",zt,[(0,p.createVNode)(c,null,{default:(0,p.withCtx)((function(){return["days"===i.expiryMode?((0,p.openBlock)(),(0,p.createBlock)(l,{key:0,disabled:"draft"!==r.manage.course.status||"self"!==r.manage.course.platform,value:i.deadlineType,"onUpdate:value":t[10]||(t[10]=function(e){return i.deadlineType=e})},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:"end_date"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.deadline")),1)]})),_:1}),(0,p.createVNode)(o,{value:"days"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.validDays")),1)]})),_:1})]})),_:1},8,["disabled","value"])):(0,p.createCommentVNode)("",!0)]})),_:1}),"days"===i.expiryMode&&"end_date"===i.deadlineType?((0,p.openBlock)(),(0,p.createElementBlock)("div",Rt,[(0,p.createVNode)(u,{name:"deadline",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterDeadline")}]},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Gt,[(0,p.createVNode)(O,{value:i.deadline,"onUpdate:value":t[11]||(t[11]=function(e){return i.deadline=e}),disabled:"self"!==r.manage.course.platform,style:{width:"150px"},"disabled-date":d},null,8,["value","disabled"]),(0,p.createElementVNode)("div",Ht,(0,p.toDisplayString)((0,p.unref)(te)("tip.deadline")),1)])]})),_:1},8,["rules"])])):(0,p.createCommentVNode)("",!0),"days"===i.expiryMode&&"days"===i.deadlineType?((0,p.openBlock)(),(0,p.createElementBlock)("div",Wt,[(0,p.createVNode)(u,{name:"expiryDays",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterValidityPeriod")},{pattern:/^([1-9]|[1-9]\d{1,2}|[1-6]\d{3}|7[0-2]\d{2}|7300)$/,message:(0,p.unref)(te)("validate.years")}]},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Yt,[(0,p.createVNode)(n,{value:i.expiryDays,"onUpdate:value":t[12]||(t[12]=function(e){return i.expiryDays=e}),disabled:s.value||"self"!==r.manage.course.platform,style:{width:"150px"}},null,8,["value","disabled"]),(0,p.createElementVNode)("div",qt,(0,p.toDisplayString)((0,p.unref)(te)("tip.expiryDays")),1)])]})),_:1},8,["rules"])])):(0,p.createCommentVNode)("",!0),"date"===i.expiryMode?((0,p.openBlock)(),(0,p.createElementBlock)("div",Xt,[(0,p.createElementVNode)("div",Kt,(0,p.toDisplayString)((0,p.unref)(te)("label.startDate")),1),(0,p.createVNode)(u,{name:"expiryStartDate",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterStartDate")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(O,{value:i.expiryStartDate,"onUpdate:value":t[13]||(t[13]=function(e){return i.expiryStartDate=e}),disabled:s.value||"self"!==r.manage.course.platform,"disabled-date":f,style:{width:"150px"}},null,8,["value","disabled"])]})),_:1},8,["rules"]),(0,p.createElementVNode)("div",Jt,(0,p.toDisplayString)((0,p.unref)(te)("label.endingDate")),1),(0,p.createVNode)(u,{name:"expiryEndDate",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterEndingDate")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(O,{value:i.expiryEndDate,"onUpdate:value":t[14]||(t[14]=function(e){return i.expiryEndDate=e}),disabled:s.value||"self"!==r.manage.course.platform,"disabled-date":m,style:{width:"150px"}},null,8,["value","disabled"])]})),_:1},8,["rules"])])):(0,p.createCommentVNode)("",!0)])):(0,p.createCommentVNode)("",!0),(0,p.createElementVNode)("div",Qt,(0,p.toDisplayString)((0,p.unref)(te)("tip.endDate")),1)])]})),_:1}),r.manage.vipInstalled&&r.manage.vipEnabled?((0,p.openBlock)(),(0,p.createBlock)(u,{key:2,label:(0,p.unref)(te)("label.membersFree")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(A,{value:i.vipLevelId,"onUpdate:value":t[15]||(t[15]=function(e){return i.vipLevelId=e}),style:{width:"200px"}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(B,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.nothing")),1)]})),_:1}),r.manage.vipLevels.length>0?((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,{key:0},(0,p.renderList)(r.manage.vipLevels,(function(e){return(0,p.openBlock)(),(0,p.createBlock)(B,{key:e.id,value:e.id},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)(e.name),1)]})),_:2},1032,["value"])})),128)):(0,p.createCommentVNode)("",!0)]})),_:1},8,["value"])]})),_:1},8,["label"])):(0,p.createCommentVNode)("",!0),(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.provideServices")},{default:(0,p.withCtx)((function(){return[((0,p.openBlock)(!0),(0,p.createElementBlock)(p.Fragment,null,(0,p.renderList)(v.value,(function(e,t){return(0,p.openBlock)(),(0,p.createBlock)(j,{key:e,checked:e.active,"onUpdate:checked":function(t){return e.active=t},onChange:function(n){return function(e,t,n){!0===n?(v.value[t].active=!0,i.services.push(e.code)):(v.value[t].active=!1,i.services.splice(i.services.indexOf(e.code),1))}(e,t,n)}},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)(e.summary),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Zt,(0,p.toDisplayString)(e.fullName),1)]})),_:2},1024)]})),_:2},1032,["checked","onUpdate:checked","onChange"])})),128))]})),_:1},8,["label"]),(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.catalogueDisplay")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:i.taskDisplay,"onUpdate:value":t[16]||(t[16]=function(e){return i.taskDisplay=e})},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:"1"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.open")),1)]})),_:1}),(0,p.createVNode)(o,{value:"0"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.close")),1)]})),_:1})]})),_:1},8,["value"])]})),_:1},8,["label"]),(0,p.createVNode)(u,null,{label:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",en,[(0,p.createElementVNode)("div",null,(0,p.toDisplayString)((0,p.unref)(te)("label.drainageSetting")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",tn,(0,p.toDisplayString)((0,p.unref)(te)("tip.drainageSetting")),1)]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)((0,p.unref)(Se.A),{class:"text-14 leading-14 mx-4"})]})),_:1})])]})),default:(0,p.withCtx)((function(){return[(0,p.createVNode)(l,{value:i.drainageEnabled,"onUpdate:value":t[17]||(t[17]=function(e){return i.drainageEnabled=e})},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(o,{value:1},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.open")),1)]})),_:1}),(0,p.createVNode)(o,{value:0},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("label.close")),1)]})),_:1})]})),_:1},8,["value"])]})),_:1}),1===i.drainageEnabled?((0,p.openBlock)(),(0,p.createElementBlock)("div",nn,[(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.QRCodeSettings"),name:"drainageImage",validateTrigger:["blur"],rules:[{required:!0,message:(0,p.unref)(te)("validate.enterQRCode")}]},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(I,{ref:"upload",class:"drainage-uploader",accept:"image/jpeg, image/gif, image/png","file-list":[],maxCount:1,"list-type":"picture-card",onChange:y},{default:(0,p.withCtx)((function(){return[i.drainageImage?((0,p.openBlock)(),(0,p.createElementBlock)("img",{key:0,src:i.drainageImage,alt:"",style:{"max-width":"100%","max-height":"100%"},class:"rounded-4"},null,8,rn)):((0,p.openBlock)(),(0,p.createElementBlock)("div",an,[g.value?((0,p.openBlock)(),(0,p.createBlock)((0,p.unref)(at.A),{key:0})):((0,p.openBlock)(),(0,p.createBlock)((0,p.unref)(J.A),{key:1})),(0,p.createElementVNode)("div",on,(0,p.toDisplayString)((0,p.unref)(te)("btn.uploading")),1)]))]})),_:1},512),(0,p.createElementVNode)("div",ln,(0,p.toDisplayString)((0,p.unref)(te)("validate.imgTypeLimit")),1)]})),_:1},8,["label","rules"]),(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.attractingAttentionCopywriting")},{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(n,{value:i.drainageText,"onUpdate:value":t[18]||(t[18]=function(e){return i.drainageText=e}),placeholder:(0,p.unref)(te)("placeholder.provideContent"),"show-count":"",maxlength:20},null,8,["value","placeholder"])]})),_:1},8,["label"]),(0,p.createVNode)(u,{label:(0,p.unref)(te)("label.referralPage")},{default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",cn,[(0,p.createElementVNode)("div",un,(0,p.toDisplayString)((0,p.unref)(te)("tip.completionPage")),1),(0,p.createVNode)(h,null,{content:(0,p.withCtx)((function(){return[sn]})),default:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",dn,(0,p.toDisplayString)((0,p.unref)(te)("btn.viewDetails")),1)]})),_:1})])]})),_:1},8,["label"])])):(0,p.createCommentVNode)("",!0)]})),_:1},8,["model"]),(0,p.createVNode)(F,{width:900,open:V.value,"onUpdate:open":t[21]||(t[21]=function(e){return V.value=e}),closable:!1,zIndex:1050,centered:!0,bodyStyle:{height:"563px",overflow:"auto"},wrapClassName:"market-setting-contract-detail-modal"},{title:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",fn,[(0,p.createElementVNode)("div",pn,(0,p.toDisplayString)("".concat(C.value.goodsName,"-").concat((0,p.unref)(te)("modal.contractSigning"))),1),(0,p.createVNode)(L,{icon:(0,p.h)((0,p.unref)(it.A)),type:"text",size:"small",onClick:t[19]||(t[19]=function(e){return V.value=!1})},null,8,["icon"])])]})),footer:(0,p.withCtx)((function(){return[(0,p.createElementVNode)("div",Wn,[(0,p.createVNode)(L,{onClick:t[20]||(t[20]=function(e){return V.value=!1})},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("btn.close")),1)]})),_:1})])]})),default:(0,p.withCtx)((function(){var e,t,n;return[(0,p.createElementVNode)("div",mn,[(0,p.createElementVNode)("div",vn,[(0,p.createElementVNode)("span",gn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.contractNumber"),": ").concat(C.value.code)),1),(0,p.createElementVNode)("span",hn,(0,p.toDisplayString)(C.value.name),1),(0,p.createElementVNode)("span",yn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.contractNumber"),": ").concat(C.value.code)),1)]),(0,p.createElementVNode)("div",{innerHTML:C.value.content,class:"text-gray-500 contract-content"},null,8,bn),(0,p.createElementVNode)("div",xn,[(0,p.createElementVNode)("div",wn,[(0,p.createElementVNode)("span",Nn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.partyA"),"：")),1),(0,p.createElementVNode)("div",Sn,[(0,p.createElementVNode)("img",{src:C.value.seal,alt:"",class:"w-150 h-150"},null,8,Cn),(0,p.createElementVNode)("div",Vn,[(0,p.createElementVNode)("span",kn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.signingDate"),"：")),1),(0,p.createElementVNode)("div",En,(0,p.toDisplayString)(C.value.signDate),1)])])]),(0,p.createElementVNode)("div",Dn,[(0,p.createElementVNode)("span",Tn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.partyB"),"：")),1),(0,p.createElementVNode)("div",Ln,[null!==(e=C.value.sign)&&void 0!==e&&e.handSignature?((0,p.openBlock)(),(0,p.createElementBlock)("div",Pn,[(0,p.createElementVNode)("span",$n,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.handSignature"),"：")),1),_n])):(0,p.createCommentVNode)("",!0),(0,p.createElementVNode)("div",On,[(0,p.createElementVNode)("span",Bn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.partyBName"),"：")),1),An]),null!==(t=C.value.sign)&&void 0!==t&&t.IDNumber?((0,p.openBlock)(),(0,p.createElementBlock)("div",jn,[(0,p.createElementVNode)("span",In,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.iDNumber"),"：")),1),Mn])):(0,p.createCommentVNode)("",!0),null!==(n=C.value.sign)&&void 0!==n&&n.phoneNumber?((0,p.openBlock)(),(0,p.createElementBlock)("div",Fn,[(0,p.createElementVNode)("span",Un,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.contactInformation"),"：")),1),zn])):(0,p.createCommentVNode)("",!0),(0,p.createElementVNode)("div",Rn,[(0,p.createElementVNode)("span",Gn,(0,p.toDisplayString)("".concat((0,p.unref)(te)("modal.signingDate"),"：")),1),(0,p.createElementVNode)("div",Hn,(0,p.toDisplayString)(C.value.signDate),1)])])])])])]})),_:1},8,["open"])])}}};n(91666);const qn=Yn;function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Kn(){Kn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),l=new L(r||[]);return a(o,"_invoke",{value:k(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",m="executing",v="completed",g={};function h(){}function y(){}function b(){}var x={};u(x,o,(function(){return this}));var w=Object.getPrototypeOf,N=w&&w(w(P([])));N&&N!==n&&r.call(N,o)&&(x=N);var S=b.prototype=h.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function n(a,i,o,l){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Xn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(s).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function k(t,n,r){var a=f;return function(i,o){if(a===m)throw new Error("Generator is already running");if(a===v){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var c=E(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=m;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:p,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Xn(t)+" is not iterable")}return y.prototype=b,a(S,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(V.prototype),u(V.prototype,l,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new V(s(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(S),u(S,c,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){var r,a,i;r=e,a=t,i=n[t],a=function(e){var t=function(e,t){if("object"!=Xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xn(t)?t:String(t)}(a),a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const er={__name:"Index",props:{isUnMultiCourseSet:{type:[String,Number]},course:Object,courseManageUrl:String,tags:Array,imageSrc:String,imageSaveUrl:String,imageUploadUrl:String,enableOrg:Number,courseSet:Object,lessonWatchLimit:Number,uploadMode:String,audioServiceStatus:String,videoConvertCompletion:Number,courseSetManageFilesUrl:String,freeTasks:Object,canFreeTasks:Object,taskName:String,activityMetas:Object,canFreeActivityTypes:String,freeTaskChangelog:String,canModifyCoursePrice:Number,liveCapacityUrl:String,serviceTags:Object,vipInstalled:Number,vipEnabled:Number,vipLevels:Object},setup:function(e){var t=e,n=(0,p.ref)(null),r=(0,p.ref)(null),a=(0,p.ref)(null),i=function(){var e,i=(e=Kn().mark((function e(){var i,o,l,c,u,s,d;return Kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.value.validateForm();case 2:return i=e.sent,e.next=5,r.value.validateForm();case 5:return o=e.sent,e.next=8,a.value.validateForm();case 8:if(l=e.sent,!(i&&o&&l)){e.next=26;break}return c={},i.covers&&i.covers.forEach((function(e,t){c["covers[".concat(t,"][type]")]=e.type,c["covers[".concat(t,"][id]")]=e.id,c["covers[".concat(t,"][url]")]=e.url,c["covers[".concat(t,"][uri]")]=e.uri})),u={},o.freeTaskIds&&o.freeTaskIds.forEach((function(e,t){u["freeTaskIds[".concat(t,"]")]=e})),s={},l.services.length>0&&l.services.forEach((function(e,t){s["services[".concat(t,"]")]=e})),delete(d=Qn(Qn(Qn(Qn(Qn(Qn(Qn({_csrf_token:$("meta[name=csrf-token]").attr("content")},c),u),s),i),o),l),{},{buyExpiryTime:new Date(l.buyExpiryTime).getTime(),deadline:l.deadline?l.deadline.format("YYYY-MM-DD"):null,expiryStartDate:lt()(l.expiryStartDate).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]"),expiryEndDate:lt()(l.expiryEndDate).format("YYYY-MM-DDTHH:mm:ss.SSS[Z]")})).covers,delete d.freeTaskIds,delete d.services,e.next=22,K.A.courseSets.updateCourseSet(t.courseSet.id,t.course.id,d);case 22:X.Ay.success("保存成功"),setTimeout((function(){return location.reload()}),1e3),e.next=27;break;case 26:return e.abrupt("return",0);case 27:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Zn(i,r,a,o,l,"next",e)}function l(e){Zn(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();return function(e,o){var l=(0,p.resolveComponent)("a-button");return(0,p.openBlock)(),(0,p.createBlock)(et.A,null,{default:(0,p.withCtx)((function(){return[(0,p.createVNode)(Ne,{ref_key:"baseInfoRef",ref:n,manage:t},null,8,["manage"]),(0,p.createVNode)(Ze,{ref_key:"baseRuleRef",ref:r,manage:t},null,8,["manage"]),(0,p.createVNode)(qn,{ref_key:"marketSettingRef",ref:a,manage:t},null,8,["manage"]),(0,p.createVNode)(l,{type:"primary",onClick:i,class:"ml-200"},{default:(0,p.withCtx)((function(){return[(0,p.createTextVNode)((0,p.toDisplayString)((0,p.unref)(te)("btn.save")),1)]})),_:1})]})),_:1})}}};n(13209);var tr=(0,p.createApp)(er,{course:$("#vue3-basic-setting").data("course"),courseSet:$("#vue3-basic-setting").data("courseSet"),isUnMultiCourseSet:$("#vue3-basic-setting").data("isUnMultiCourseSet"),lessonWatchLimit:$("#vue3-basic-setting").data("lessonWatchLimit"),hasRoleAdmin:$("#vue3-basic-setting").data("hasRoleAdmin"),wechatSetting:$("#vue3-basic-setting").data("wechatSetting"),hasWechatNotificationManageRole:$("#vue3-basic-setting").data("hasWechatNotificationManageRole"),hasMulCourses:$("#vue3-basic-setting").data("hasMulCourses"),wechatManageUrl:$("#vue3-basic-setting").data("wechatManageUrl"),liveCapacityUrl:$("#vue3-basic-setting").data("liveCapacityUrl"),contentCourseRuleUrl:$("#vue3-basic-setting").data("contentCourseRuleUrl"),canFreeTasks:$("#vue3-basic-setting").data("canFreeTasks"),freeTasks:$("#vue3-basic-setting").data("freeTasks"),taskName:$("#vue3-basic-setting").data("taskName"),activityMetas:$("#vue3-basic-setting").data("activityMetas"),courseRemindSendDays:$("#vue3-basic-setting").data("courseRemindSendDays"),uploadMode:$("#vue3-basic-setting").data("uploadMode"),serviceTags:$("#vue3-basic-setting").data("serviceTags"),audioServiceStatus:$("#vue3-basic-setting").data("audioServiceStatus"),videoConvertCompletion:$("#vue3-basic-setting").data("videoConvertCompletion"),courseSetManageFilesUrl:$("#vue3-basic-setting").data("courseSetManageFilesUrl"),courseProduct:$("#vue3-basic-setting").data("courseProduct"),notifies:$("#vue3-basic-setting").data("notifies"),canModifyCoursePrice:$("#vue3-basic-setting").data("canModifyCoursePrice"),buyBeforeApproval:$("#vue3-basic-setting").data("buyBeforeApproval"),canFreeActivityTypes:$("#vue3-basic-setting").data("canFreeActivityTypes"),freeTaskChangelog:$("#vue3-basic-setting").data("freeTaskChangelog"),courseManageUrl:$("#vue3-basic-setting").data("courseManageUrl"),tags:$("#vue3-basic-setting").data("tags"),imageSaveUrl:$("#vue3-basic-setting").data("imageSaveUrl"),imageSrc:$("#vue3-basic-setting").data("imageSrc"),imageUploadUrl:$("#vue3-basic-setting").data("imageUploadUrl"),vipInstalled:$("#vue3-basic-setting").data("vipInstalled"),vipEnabled:$("#vue3-basic-setting").data("vipEnabled"),vipLevels:$("#vue3-basic-setting").data("vipLevels"),enableOrg:$("#vue3-basic-setting").data("enableOrg")});tr.use(ne),tr.use(q.A),tr.use(Y.Ay),tr.use(W.Ay),tr.use(H.Ay),tr.use(G.Ay),tr.use(R.Ay),tr.use(z.A),tr.use(U.Ay),tr.use(F),tr.use(s.A),tr.use(u.Ay),tr.use(c.Ay),tr.use(l.A),tr.use(o.Ay),tr.use(i.Ay),tr.use(a.Ay),tr.use(r.A),(0,Z.j1)(tr),(0,Z.Ye)("/static-dist/vue3/js/course-manage/base-setting/index.css?".concat(window.app.version)),tr.mount("#vue3-basic-setting")}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,a,i)=>{if(!n){var o=1/0;for(s=0;s<e.length;s++){for(var[n,a,i]=e[s],l=!0,c=0;c<n.length;c++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,i<o&&(o=i));if(l){e.splice(s--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=76,r.p="/static-dist/",(()=>{var e={76:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[o,l,c]=n,u=0;if(o.some((t=>0!==e[t]))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var s=c(r)}for(t&&t(n);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunkvue3=self.webpackChunkvue3||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[362],(()=>r(67646)));a=r.O(a)})();