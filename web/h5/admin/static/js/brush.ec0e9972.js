(window.webpackJsonp=window.webpackJsonp||[]).push([["brush"],{1169:function(e,t,s){var r=s("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"1c4c":function(e,t,s){"use strict";var r=s("9b43"),n=s("5ca1"),o=s("4bf8"),i=s("1fa8"),a=s("33a4"),c=s("9def"),u=s("f1ae"),d=s("27ee");n(n.S+n.F*!s("5cc5")((function(e){Array.from(e)})),"Array",{from:function(e){var t,s,n,h,l=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,w=void 0!==m,g=0,v=d(l);if(w&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==v||f==Array&&a(v))for(s=new f(t=c(l.length));t>g;g++)u(s,g,w?m(l[g],g):l[g]);else for(h=v.call(l),s=new f;!(n=h.next()).done;g++)u(s,g,w?i(h,m,[n.value,g],!0):n.value);return s.length=g,s}})},"36bd":function(e,t,s){"use strict";var r=s("4bf8"),n=s("77f1"),o=s("9def");e.exports=function(e){for(var t=r(this),s=o(t.length),i=arguments.length,a=n(i>1?arguments[1]:void 0,s),c=i>2?arguments[2]:void 0,u=void 0===c?s:n(c,s);u>a;)t[a++]=e;return t}},"37c8":function(e,t,s){t.f=s("2b4c")},"3a72":function(e,t,s){var r=s("7726"),n=s("8378"),o=s("2d00"),i=s("37c8"),a=s("86cc").f;e.exports=function(e){var t=n.Symbol||(n.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:i.f(e)})}},"3b28":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("c5f6");var r=s("bd86"),n=s("3ce7"),o=s("2f62"),i=s("faa5"),a=s("a556");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(r.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={components:{},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},height:0,exerciseModes:""}},computed:u(u({},Object(o.e)("ItemBank",{ItemBankExercise:function(e){return e.ItemBankExercise}})),{},{usedTime:function(){return this.answerRecord.used_time/60},isReadOver:function(){return"reviewing"===this.answerRecord.status},needScore:function(){return!!Number(this.answerScene.need_score)}}),watch:{},created:function(){this.getData()},methods:{getheight:function(){var e=document.body.clientHeight-46;return document.body.scrollHeight-46>e?document.body.scrollHeight:e},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};n.a.answerRecord({query:t}).then((function(t){e.exerciseModes=t.answer_record.exercise_mode,e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.$store.commit(i.x,e.$route.query.title),e.isLoading=!1,e.$nextTick((function(){e.height=e.getheight()}))})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))},doReview:function(){var e={title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,assessmentId:this.$route.query.assessmentId,moduleId:this.$route.query.moduleId,categoryId:this.$route.query.categoryId},t=this.$route.params.answerRecordId;this.$router.push({path:"/brushReview/".concat(t),query:e})},doAgain:function(){var e;if("closed"!=(null===(e=this.ItemBankExercise)||void 0===e?void 0:e.status))if("assessment"===this.$route.query.type){var t=this.$route.query.type,s={mode:"start",title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,moduleId:this.$route.query.moduleId};"chapter"===t?s.categoryId=this.$route.query.categoryId:s.assessmentId=this.$route.query.assessmentId,this.$router.replace({path:"/brushDo",query:s})}else{var r={title:this.$route.query.title,moduleId:this.$route.query.moduleId,categoryId:this.$route.query.categoryId,exerciseId:this.$route.query.exerciseId};this.$router.push({path:"/brushIntro",query:r})}else Object(a.a)("exercise")},doAnalysis:function(){var e={title:this.$route.query.title,type:this.$route.query.type},t=this.$route.params.answerRecordId;this.$router.push({path:"/brushReport/".concat(t),query:e})}}},h=s("a6c2"),l=Object(h.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item-bank-result brush-exercise-report",style:{height:e.height+"px"}},[e.isLoading?s("e-loading"):e._e(),e.isReadOver&&"0"===e.exerciseModes?s("div",{staticClass:"notify"},[e._v("\n    ※请参考题目解析，对主观题自行估分批阅。\n  ")]):e._e(),s("div",{staticClass:"item-bank-result_content"},[e.isReadOver&&"0"===e.exerciseModes?s("div",{staticClass:"exercise-report-status"},[s("img",{attrs:{src:"static/images/report-review.png"}}),s("p",{staticClass:"result-text result-status_fail mt20"},[e._v("正在批阅中")])]):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}],staticClass:"result-score"},[e._v("\n      分数：\n      "),e.isReadOver&&"0"===e.exerciseModes?s("span",{staticClass:"result-status_fail"},[e._v("?")]):s("span",[e._v(e._s(e.answerReport.score)+"分")])]),s("div",{staticClass:"result-content"},[s("div",{staticClass:"result-content-item result-section-title"},[s("span",[e._v("题型")]),s("span",[e._v("答对题")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}]},[e._v("总分")])]),e._l(e.answerReport.section_reports,(function(t,r){return s("div",{key:r,staticClass:"result-content-item"},[s("span",[e._v(e._s(t.section_name))]),s("span",[s("i",{staticClass:"color-primary"},[e._v(e._s(t.right_question_num))]),e._v("\n          / "+e._s(t.question_count)+"\n        ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}],staticClass:"color-primary"},[t.reviewing_question_num>0&&e.isReadOver?s("i",{staticClass:"result-status_fail"},[e._v("?\n          ")]):s("i",[e._v(e._s(t.score))])])])}))],2),s("div",{staticClass:"result-footer"},[e.isReadOver&&"0"===e.exerciseModes?s("div",{staticClass:"result-footer__btn",on:{click:e.doReview}},[e._v("\n        开始批阅\n      ")]):[s("div",{staticClass:"result-footer__btn result-footer__btn-border",on:{click:e.doAgain}},[e._v("\n          再次答题\n        ")]),s("div",{staticClass:"result-footer__btn",on:{click:e.doAnalysis}},[e._v("查看解析")])]],2)])],1)}),[],!1,null,null,null);t.default=l.exports},4917:function(e,t,s){"use strict";var r=s("cb7c"),n=s("9def"),o=s("0390"),i=s("5f1b");s("214f")("match",1,(function(e,t,s,a){return[function(s){var r=e(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,r):new RegExp(s)[t](String(r))},function(e){var t=a(s,e,this);if(t.done)return t.value;var c=r(e),u=String(this);if(!c.global)return i(c,u);var d=c.unicode;c.lastIndex=0;for(var h,l=[],f=0;null!==(h=i(c,u));){var p=String(h[0]);l[f]=p,""===p&&(c.lastIndex=o(u,n(c.lastIndex),d)),f++}return 0===f?null:l}]}))},"6c7b":function(e,t,s){var r=s("5ca1");r(r.P,"Array",{fill:s("36bd")}),s("9c6c")("fill")},"7bbc":function(e,t,s){var r=s("6821"),n=s("9093").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?function(e){try{return n(e)}catch(e){return i.slice()}}(e):n(r(e))}},"8a81":function(e,t,s){"use strict";var r=s("7726"),n=s("69a8"),o=s("9e1e"),i=s("5ca1"),a=s("2aba"),c=s("67ab").KEY,u=s("79e5"),d=s("5537"),h=s("7f20"),l=s("ca5a"),f=s("2b4c"),p=s("37c8"),m=s("3a72"),w=s("d4c0"),g=s("1169"),v=s("cb7c"),y=s("d3f4"),b=s("4bf8"),_=s("6821"),x=s("6a99"),I=s("4630"),k=s("2aeb"),R=s("7bbc"),S=s("11e9"),O=s("2621"),$=s("86cc"),q=s("0d58"),j=S.f,D=$.f,C=R.f,P=r.Symbol,E=r.JSON,M=E&&E.stringify,L=f("_hidden"),A=f("toPrimitive"),N={}.propertyIsEnumerable,T=d("symbol-registry"),H=d("symbols"),B=d("op-symbols"),V=Object.prototype,F="function"==typeof P&&!!O.f,U=r.QObject,Z=!U||!U.prototype||!U.prototype.findChild,J=o&&u((function(){return 7!=k(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,s){var r=j(V,t);r&&delete V[t],D(e,t,s),r&&e!==V&&D(V,t,r)}:D,Q=function(e){var t=H[e]=k(P.prototype);return t._k=e,t},z=F&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},W=function(e,t,s){return e===V&&W(B,t,s),v(e),t=x(t,!0),v(s),n(H,t)?(s.enumerable?(n(e,L)&&e[L][t]&&(e[L][t]=!1),s=k(s,{enumerable:I(0,!1)})):(n(e,L)||D(e,L,I(1,{})),e[L][t]=!0),J(e,t,s)):D(e,t,s)},G=function(e,t){v(e);for(var s,r=w(t=_(t)),n=0,o=r.length;o>n;)W(e,s=r[n++],t[s]);return e},K=function(e){var t=N.call(this,e=x(e,!0));return!(this===V&&n(H,e)&&!n(B,e))&&(!(t||!n(this,e)||!n(H,e)||n(this,L)&&this[L][e])||t)},Y=function(e,t){if(e=_(e),t=x(t,!0),e!==V||!n(H,t)||n(B,t)){var s=j(e,t);return!s||!n(H,t)||n(e,L)&&e[L][t]||(s.enumerable=!0),s}},X=function(e){for(var t,s=C(_(e)),r=[],o=0;s.length>o;)n(H,t=s[o++])||t==L||t==c||r.push(t);return r},ee=function(e){for(var t,s=e===V,r=C(s?B:_(e)),o=[],i=0;r.length>i;)!n(H,t=r[i++])||s&&!n(V,t)||o.push(H[t]);return o};F||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=l(arguments.length>0?arguments[0]:void 0),t=function(s){this===V&&t.call(B,s),n(this,L)&&n(this[L],e)&&(this[L][e]=!1),J(this,e,I(1,s))};return o&&Z&&J(V,e,{configurable:!0,set:t}),Q(e)}).prototype,"toString",(function(){return this._k})),S.f=Y,$.f=W,s("9093").f=R.f=X,s("52a7").f=K,O.f=ee,o&&!s("2d00")&&a(V,"propertyIsEnumerable",K,!0),p.f=function(e){return Q(f(e))}),i(i.G+i.W+i.F*!F,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),se=0;te.length>se;)f(te[se++]);for(var re=q(f.store),ne=0;re.length>ne;)m(re[ne++]);i(i.S+i.F*!F,"Symbol",{for:function(e){return n(T,e+="")?T[e]:T[e]=P(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in T)if(T[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),i(i.S+i.F*!F,"Object",{create:function(e,t){return void 0===t?k(e):G(k(e),t)},defineProperty:W,defineProperties:G,getOwnPropertyDescriptor:Y,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var oe=u((function(){O.f(1)}));i(i.S+i.F*oe,"Object",{getOwnPropertySymbols:function(e){return O.f(b(e))}}),E&&i(i.S+i.F*(!F||u((function(){var e=P();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,s,r=[e],n=1;arguments.length>n;)r.push(arguments[n++]);if(s=t=r[1],(y(t)||void 0!==e)&&!z(e))return g(t)||(t=function(e,t){if("function"==typeof s&&(t=s.call(this,e,t)),!z(t))return t}),r[1]=t,M.apply(E,r)}}),P.prototype[A]||s("32e9")(P.prototype,A,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"8d5b":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("e7e5");var r=s("d399"),n=(s("c5f6"),s("bd86")),o=s("3ce7"),i=s("2f62"),a=s("faa5"),c=s("fb44"),u=s("361b"),d=s("a8b4"),h=0,l=0,f=0,p=0,m={name:"item-review",mixins:[s("def6").a],components:{ibsItem:c.a,card:u.a,ibsFooter:d.a},props:{mode:{type:String,default:"review"},assessmentResponse:{type:Object,default:function(){}},answerScene:{type:Object,default:function(){}},answerRecord:{type:Object,default:function(){}},answerReport:{type:Object,default:function(){}},assessment:{type:Object,default:function(){}}},data:function(){return{section_responses:[],height:0,cardShow:!1,currentItemIndex:0,sourceMap:{},sections:[],question_reports:[],items:[],current:0,renderItmes:[],answerAttachments:{}}},provide:function(){return{itemEngine:this}},inject:["brushDo"],computed:{needScore:function(){return!!Number(this.answerScene.need_score)}},created:function(){this.$on("changeStatus",this.changeStatus),this.$on("changeScore",this.changeScore),this.resetDefaultData()},mounted:function(){this.setSwiperHeight(),this.getSectionResponses()},methods:{resetDefaultData:function(){h=0,l=0,f=0,p=0},slideTo:function(e){var t=this,s="item".concat(e.itemId);this.current=Math.max(this.sourceMap["item_".concat(e.itemId)].reviewIndex,0),this.changeRenderItems(this.current),this.fastSlide(),this.$nextTick((function(){var r=t.$refs[s][0].$refs["childSwiper".concat(e.itemId)],n=Math.max(t.sourceMap["question_".concat(e.questionId)].reviewIndex);r.$swiper.slideTo(n,0,!1)}))},getSectionResponses:function(){this.section_responses=this.answerReport.section_reports,this.formateSections()},getResponseAttachments:function(){var e=this;this.assessmentResponse.section_responses&&this.assessmentResponse.section_responses.forEach((function(t){t.item_responses.forEach((function(t){t.question_responses.forEach((function(t){e.answerAttachments[t.question_id]=t.attachments}))}))}))},formateSections:function(){var e=this;this.getResponseAttachments(),this.assessment.sections.forEach((function(t,s){var r=e.answerReport.section_reports[s].reviewing_question_num;Number(r)>0&&e.formateItems(t.items,s)})),this.changeRenderItems(0)},formateItems:function(e,t){var s=this;e.forEach((function(e,r){s.answerReport.section_reports[t].item_reports[r].reviewing_question_num>0&&(e.sectionIndex=t,e.itemIndex=r,s.items.push(e),s.formateQuestions(e,e.questions,t,r))}))},formateQuestions:function(e,t,s,r){var n=this,o=0;t.forEach((function(t,i){"rich_text"===t.answer_mode?(o+=1,n.assessment.sections[s].items[r].questions[i].reviewShow=!0,n.setReviewList(s,r,i),h!==e.id&&(h=e.id,l=0,e.reviewIndex||(e.reviewIndex=f,f++)),t.reviewIndex||(t.reviewIndex=l,l++),t.richTextIndex=p,t.attachments=t.attachments.concat(n.answerAttachments[t.id]||[]),p++,n.setSourceMap(e,t,s,r,i)):n.assessment.sections[s].items[r].questions[i].reviewShow=!1})),o>0&&(this.assessment.sections[s].richTextNum=o,this.assessment.sections[s].items[r].richTextNum=o)},setReviewList:function(e,t,s){var r=this.answerReport.section_reports[e].item_reports[t].question_reports[s].id;this.question_reports.push({id:r,score:null,comment:null,status:null})},setSourceMap:function(e,t,s,r,n){e.sectionIndex=s,e.itemIndex=r,t.sectionIndex=s,t.itemIndex=r,t.questionIndex=n;var o=this.answerReport.section_reports[s].item_reports[r];e.reviewNum=o.reviewing_question_num,this.sourceMap["item_".concat(e.id)]=e,this.sourceMap["question_".concat(t.id)]=t},showcard:function(){this.cardShow=!0},getUserAnwer:function(e,t){return this.answerReport.section_reports[e].item_reports[t]},getUserReport:function(e,t){return this.answerReport.section_reports[e].item_reports[t]},changeStatus:function(e){var t=this.sourceMap["question_".concat(e.questionId)].richTextIndex;this.question_reports[t].status=e.status},changeScore:function(e){var t=this.sourceMap["question_".concat(e.questionId)].richTextIndex;this.question_reports[t].score=e.score},submitReview:function(){var e=this;if(this.question_reports.every((function(t){return e.needScore?t.score||0===t.score:t.status}))){var t={report_id:this.answerReport.id,question_reports:this.question_reports};this.$emit("getReviewData",t)}else this.$toast({message:"还有题目未批阅",getContainer:function(){return document.querySelector("#ibs-item-bank")}})}}},w=s("a6c2");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var v={components:{itemReview:Object(w.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-item-bank",attrs:{id:"ibs-item-bank"}},[this.question_reports.length>0?[s("swiper",{ref:"mySwiper",attrs:{height:e.height,loop:!1,speed:500},on:{slideNextTransitionEnd:e.slideNextTransitionEnd,slidePrevTransitionEnd:e.slidePrevTransitionEnd}},[e._l(e.renderItmes,(function(t){return[s("swiper-slide",{key:"paper"+t.id,ref:"paper"+t.id,refInFor:!0,staticClass:"ibs-paper-item",style:{height:e.height+"px"}},[s("ibs-item",{ref:"item"+t.id,refInFor:!0,attrs:{item:t,mode:e.mode,itemUserAnswer:e.getUserAnwer(t.sectionIndex,t.itemIndex),needScore:e.needScore,question_reports:e.question_reports,all:Number(e.assessment.question_count),keys:[t.sectionIndex,t.itemIndex],itemUserReport:e.getUserReport(t.sectionIndex,t.itemIndex),showAnalysis:!0,showReport:!0,showResult:!1,showReview:!0,current:e.current,itemLength:e.items.length,exerciseInfo:e.answerRecord},on:{itemSlideNext:e.itemSlideNext,itemSlidePrev:e.itemSlidePrev,changeStatus:e.changeStatus}})],1)]}))],2),s("card",{attrs:{mode:e.mode,sections:e.assessment.sections,section_responses:e.section_responses,answer_report:e.answerReport,question_reports:e.question_reports,needScore:e.needScore},on:{slideTo:e.slideTo},model:{value:e.cardShow,callback:function(t){e.cardShow=t},expression:"cardShow"}}),s("ibs-footer",{attrs:{mode:e.mode},on:{showcard:e.showcard,submitReview:e.submitReview}})]:e._e()],2)}),[],!1,null,null,null).exports},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},assessmentResponse:{},exerciseModes:"",status:""}},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(i.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){this.getData()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},methods:{getResourceToken:function(e){return o.a.getItemDetail({params:{globalId:e}})},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};o.a.answerRecord({query:t}).then((function(t){e.exerciseModes=t.answer_record.exercise_mode,e.status=t.answer_record.status,e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.assessmentResponse=t.assessment_response,e.$store.commit(a.x,e.$route.query.title),e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))},getReviewData:function(e){var t=this;r.a.loading({message:"提交中...",forbidClick:!0});var s={exerciseId:this.$route.query.exerciseId};o.a.pushItemBankReviewReport({query:s,data:e}).then((function(e){r.a.clear(),t.goResult(e)})).catch((function(e){r.a.clear(),t.$toast(e.message)}))},goResult:function(e){this.$router.go(-1)}}},y=Object(w.a)(v,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-bank-review ibs-wap-vue"},[this.isLoading?t("e-loading"):t("item-review",{attrs:{answerRecord:this.answerRecord,answerReport:this.answerReport,assessment:this.assessment,answerScene:this.answerScene,assessmentResponse:this.assessmentResponse},on:{getReviewData:this.getReviewData}})],1)}),[],!1,null,null,null);t.default=y.exports},a8b4:function(e,t,s){"use strict";var r='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">\n                  <path d="M20 3H5C4.17157 3 3.5 3.67157 3.5 4.5V19.5C3.5 20.3284 4.17157 21 5 21H20C20.8284 21 21.5 20.3284 21.5 19.5V4.5C21.5 3.67157 20.8284 3 20 3Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M11 6.5H7V10.5H11V6.5Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M18 6.5H14V10.5H18V6.5Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M11 13.5H7V17.5H11V13.5Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M18 13.5H14V17.5H18V13.5Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                </svg>',n='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">\n              <path d="M12.5 22H5.50003C4.94775 22 4.50003 21.5523 4.50003 21V3C4.50003 2.44772 4.94775 2 5.50003 2H19.5C20.0523 2 20.5 2.44772 20.5 3V12" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M18.25 22V15.5" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M16 17.25L16.75 16.5L18.25 15L19.75 16.5L20.5 17.25" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M8.49997 8H16.5" stroke="#37393D" stroke-width="1.5" stroke-linecap="round"/>\n              <path d="M8.5 12H12.5" stroke="#37393D" stroke-width="1.5" stroke-linecap="round"/>\n          </svg>',o='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">\n              <path d="M19.25 2H5.25C4.69771 2 4.25 2.44771 4.25 3V21C4.25 21.5523 4.69771 22 5.25 22H19.25C19.8023 22 20.25 21.5523 20.25 21V3C20.25 2.44771 19.8023 2 19.25 2Z" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M8.75 15H15.75" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M8.75 18H12.25" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M10.25 10.5L14.25 6.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M14.25 10.5L10.25 6.5" stroke="#333333" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n          </svg>',i=[{name:"答题卡",iconName:r,type:"card"},{name:"保存答案",iconName:'<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">\n                  <path d="M3.5 4.5C3.5 3.67158 4.17158 3 5 3H17.6407L21.5 6.60325V19.5C21.5 20.3285 20.8285 21 20 21H5C4.17158 21 3.5 20.3285 3.5 19.5V4.5Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M12.5042 3L12.5 6.6923C12.5 6.86225 12.2761 7 12 7H8C7.72385 7 7.5 6.86225 7.5 6.6923V3H12.5042Z" stroke="#37393D" stroke-width="1.5" stroke-linejoin="round"/>\n                  <path d="M5 3H17.6407" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                  <path d="M7.5 13H17.5" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                  <path d="M7.5 17H12.5042" stroke="#37393D" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              </svg>',type:"process"},{name:"立即提交",iconName:n,type:"submit"}],a=[{name:"答题卡",iconName:r,type:"card"},{name:"立即提交",iconName:n,type:"submit"}],c=[{name:"答题卡",iconName:r,type:"card"},{name:"错题",iconName:o,activeIconName:o,type:"wrong"}],u=[{name:"答题卡",iconName:r,type:"card"},{name:"立即提交",iconName:n,type:"review"}],d={name:"ibs-footer",data:function(){return{}},computed:{footerItem:function(){return"do"===this.mode?this.showSaveProcessBtn?i:a:"review"===this.mode?u:(this.mode,c)}},props:{mode:{type:String,default:"do"},wrongMode:{type:Boolean,default:!1},showSaveProcessBtn:{type:Boolean,default:!0}},methods:{check:function(e){switch(e){case"card":this.$emit("showcard");break;case"process":this.$emit("submitPaper",!1);break;case"submit":this.$emit("submitPaper",!0);break;case"wrong":this.$emit("lookWrong");break;case"analysis":this.$emit("lookAnalysis");break;case"review":this.$emit("submitReview")}}}},h=s("a6c2"),l=Object(h.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fixed z-10 bottom-0 left-0 text-[#333] leading-32 drop-shadow-lg flex w-full bg-white",staticStyle:{"box-shadow":"0 -2px 4px 0 rgba(0, 0, 0, 0.1)"}},e._l(e.footerItem,(function(t,r){return s("div",{key:r,staticClass:"flex-1 flex flex-col items-center",on:{click:function(s){return e.check(t.type)}}},[s("div",{staticClass:"h-fit mt-8 mb-4",domProps:{innerHTML:e._s(t.iconName)}}),s("span",{staticClass:"text-12 font-normal mb-8",staticStyle:{color:"#5E6166"}},[e._v(e._s(t.name))])])})),0)}),[],!1,null,null,null);t.a=l.exports},ac4d:function(e,t,s){s("3a72")("asyncIterator")},c94b:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("e7e5");var r=s("d399"),n=(s("e17f"),s("2241")),o=s("bd86"),i=s("3ce7"),a=s("2f62"),c=s("faa5");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var d={assessment:{api:"getAssessmentExerciseRecord"},chapter:{api:"getChapterExerciseRecord"}},h={mixins:[{methods:{isAuthorized:function(e){11===e.code?this.$router.replace({name:"login",query:{redirect:this.$router.currentRoute.fullPath}},(function(){window.location.reload()})):this.$toast(e.message)}}}],components:{itemEngine:s("51aa").a},data:function(){return{exerciseId:"",isLoading:!0,assessment:{},answerScene:{},answerRecord:{},assessmentResponse:{},canLeave:!1,resources:[{id:"1"},{id:"2"}],exerciseModes:this.$route.query.exerciseMode,status:"",reviewedCount:0,recordId:"",backUrl:"",type:"lessonTask",exerciseInfo:[]}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(o.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(a.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){"start"!==this.$route.query.mode||localStorage.getItem("exerciseId_"+this.$route.query.exerciseId)?this.getContinue():this.getStart()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},mounted:function(){this.exerciseId=this.$route.query.exerciseId},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",this.canLeave||e.query.isLeave?s():this.$refs.itemEngine.submitPaper(!0)},methods:{getContinue:function(){var e=this;this.isLoading=!0;var t={answer_record_id:this.$route.query.answer_record_id?this.$route.query.answer_record_id:localStorage.getItem("exerciseId_"+this.$route.query.exerciseId)};i.a.continueAnswer({data:t}).then((function(t){e.recordId=t.answer_record.id,e.reviewedCount=t.reviewedCount,e.exerciseModes=t.answer_record.exercise_mode,e.status=t.answer_record.status,e.assignData(t),e.isLoading=!1,e.exerciseInfo=t.submittedQuestions})).catch((function(t){e.handleError(t)}))},getResourceToken:function(e){return i.a.getItemDetail({params:{globalId:e}})},getStart:function(){var e=this;this.isLoading=!0;var t=this.$route.query.type,s={exerciseId:this.$route.query.exerciseId},r={moduleId:this.$route.query.moduleId,exerciseMode:this.exerciseModes};"assessment"===t?r.assessmentId=this.$route.query.assessmentId:r.categoryId=this.$route.query.categoryId,i.a[d[t].api]({query:s,data:r}).then((function(t){e.recordId=t.answer_record.id,e.exerciseModes=t.answer_record.exercise_mode,e.status=t.answer_record.status,e.isLoading=!1,e.assignData(t),localStorage.setItem("exerciseId_"+e.$route.query.exerciseId,t.answer_record.id)})).catch((function(t){e.handleError(t)}))},handleError:function(e){var t=this;this.canLeave=!0,this.isLoading=!1,4004003===e.code?n.a.alert({title:"试卷已关闭",confirmButtonText:"确定",confirmButtonColor:"#00BE63"}).then((function(){var e={targetId:t.$route.query.exerciseId,moduleId:t.$route.query.moduleId,type:"item_bank_exercise"};t.$router.push({path:"/item_bank_exercise/".concat(t.$route.query.exerciseId),query:e})})):this.isAuthorized(e)},assignData:function(e){this.$store.commit(c.x,this.$route.query.title),this.assessment=e.assessment,this.answerScene=e.answer_scene,this.answerRecord=e.answer_record,this.assessmentResponse=e.assessment_response},saveAnswerData:function(e){var t=this;r.a.loading({message:"保存中...",forbidClick:!0}),e.admission_ticket=this.answerRecord.admission_ticket,i.a.saveAnswer({data:e}).then((function(e){r.a.clear(),t.canLeave=!0;var s=t.$route.query.exerciseId;t.$router.replace({path:"/item_bank_exercise/".concat(s,"?categoryId=").concat(t.$route.query.categoryId)})})).catch((function(e){r.a.clear(),50095211!=e.code?t.$toast(e.message):n.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},getAnswerData:function(e){var t=this;r.a.loading({message:"提交中...",forbidClick:!0}),i.a.submitAnswer({data:e}).then((function(e){r.a.clear(),t.canLeave=!0,t.goResult()})).catch((function(e){r.a.clear(),50095211!=e.code?t.$toast(e.message):n.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},timeSaveAnswerData:function(e){var t=this;e.admission_ticket=this.answerRecord.admission_ticket,i.a.saveAnswer({data:e}).then((function(e){})).catch((function(e){50095211!=e.code?t.$toast(e.message):n.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},goResult:function(){var e={title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,assessmentId:this.$route.query.assessmentId,moduleId:this.$route.query.moduleId,categoryId:this.$route.query.categoryId,backUrl:"/item_bank_exercise/".concat(this.$route.query.exerciseId,"?categoryId=").concat(this.$route.query.categoryId)},t=this.assessmentResponse.answer_record_id;this.$router.replace({path:"/brushResult/".concat(t),query:e})},exitPage:function(){this.canLeave=!0,this.$router.replace("/my/courses/learning?active=2")}},destroyed:function(){localStorage.removeItem("exerciseId_"+this.$route.query.exerciseId)}},l=s("a6c2"),f=Object(l.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoading?s("e-loading"):s("div",{staticClass:"ibs-wap-vue"},[s("item-engine",{ref:"itemEngine",attrs:{answerRecord:e.answerRecord,assessmentResponse:e.assessmentResponse,assessment:e.assessment,answerScene:e.answerScene,exerciseId:e.exerciseId,exerciseInfo:e.exerciseInfo},on:{saveAnswerData:e.saveAnswerData,getAnswerData:e.getAnswerData,timeSaveAnswerData:e.timeSaveAnswerData}})],1)],1)}),[],!1,null,null,null);t.default=f.exports},cf57:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("c5f6");var r=s("bd86"),n=s("3ce7"),o=s("2f62"),i=s("faa5");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var c={components:{itemReport:s("c75f").a},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},assessmentResponse:{},exerciseModes:"",status:""}},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(o.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){this.getData()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},methods:{getResourceToken:function(e){return n.a.getItemDetail({params:{globalId:e}})},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};n.a.answerRecord({query:t}).then((function(t){e.exerciseModes=t.answer_record.exercise_mode,e.status=t.answer_record.status,e.$store.commit(i.x,e.$route.query.title),e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.assessmentResponse=t.assessment_response,e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))}}},u=s("a6c2"),d=Object(u.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"brush-exercise-report"},[this.isLoading?t("e-loading"):[t("div",{staticClass:"ibs-wap-vue"},[t("item-report",{attrs:{answerRecord:this.answerRecord,answerReport:this.answerReport,assessment:this.assessment,answerScene:this.answerScene,assessmentResponse:this.assessmentResponse}})],1)]],2)}),[],!1,null,null,null);t.default=d.exports},d4c0:function(e,t,s){var r=s("0d58"),n=s("2621"),o=s("52a7");e.exports=function(e){var t=r(e),s=n.f;if(s)for(var i,a=s(e),c=o.f,u=0;a.length>u;)c.call(e,i=a[u++])&&t.push(i);return t}}}]);