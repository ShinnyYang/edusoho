(window.webpackJsonp=window.webpackJsonp||[]).push([["brush~wrong-question-book"],{"361b":function(e,t,s){"use strict";s("c5f6");var n=[{name:"已完成",className:"ibs-card-finish"},{name:"未完成",className:"ibs-card-nofinish"}],i=[{name:"已批阅",className:"ibs-card-none"},{name:"未批阅",className:"ibs-card-nofinish"}],a=[{name:"正确",className:"ibs-card-right"},{name:"错误",className:"ibs-card-wrong"},{name:"未作答",className:"ibs-card-nofinish"},{name:"待批阅",className:"ibs-card-none"}],r={name:"ibs-card",data:function(){return{}},props:{mode:{type:String,default:"do"},sections:{type:Array,default:function(){return[]}},section_responses:{type:Array,default:function(){return[]}},answer_report:{type:Object,default:function(){}},wrongMode:{type:Boolean,default:!1},question_reports:{type:Array,default:function(){return[]}},needScore:{type:Boolean,default:!1},value:Boolean},model:{prop:"value",event:"update"},computed:{cardShow:{get:function(){return this.value},set:function(e){this.$emit("update",e)}},statusItem:function(){switch(this.mode){case"do":return n;case"report":return a;case"review":return i;default:return""}}},methods:{slideToNumber:function(e,t,s,n,i){var a={sectionsIndex:e,itemIndex:Number(t),questionIndex:s,itemId:n};(this.wrongMode||"review"===this.mode)&&(a.questionId=i.id),this.$emit("slideTo",a),this.closeCard()},closeCard:function(){this.cardShow=!1},formatStatus:function(e,t,s){switch(this.mode){case"do":return this.getDoStatus(e,t,s);case"report":return this.getReportStatus(e,t,s);case"review":return this.getReviewStatus(e,t,s)}},getDoStatus:function(e,t,s){return this.section_responses[e].item_responses[t].question_responses[s].response.some((function(e){return""!=e}))?"ibs-cicle-active":""},getReportStatus:function(e,t,s){switch(this.answer_report.section_reports[e].item_reports[t].question_reports[s].status){case"right":return"ibs-cicle-right";case"reviewing":return"ibs-cicle-none";case"wrong":case"part_right":return"ibs-cicle-wrong";case"no_answer":return""}},getReviewStatus:function(e,t,s){var n=this.sections[e].items[t].questions[s].richTextIndex,i=this.question_reports[n];if(i)return(this.needScore?i.score||0===i.score:i.status)?"ibs-cicle-none":""},getShow:function(e,t,s,n,i){return"report"===this.mode&&this.wrongMode?"right"!==this.answer_report.section_reports[e].item_reports[t].question_reports[s].status:"review"!==this.mode||i.reviewShow},getSectionShow:function(e){return"review"!==this.mode||e.richTextNum&&e.richTextNum>0}}},o=s("0c7c"),c=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-popup",{attrs:{position:"bottom"},model:{value:e.cardShow,callback:function(t){e.cardShow=t},expression:"cardShow"}},[s("div",{staticClass:"ibs-card"},[s("div",{staticClass:"ibs-card-title"},[s("div",e._l(e.statusItem,(function(t,n){return s("span",{key:n,class:[t.className]},[e._v(e._s(t.name))])})),0),s("i",{staticClass:"wap-icon wap-icon-no",on:{click:e.closeCard}})]),s("div",{staticClass:"ibs-card-list"},[s("div",{staticClass:"ibs-card-item"},e._l(e.sections,(function(t,n){return s("div",{key:"section"+n},[e.getSectionShow(t)?[s("div",{staticClass:"ibs-card-item-title"},[e._v("\n              "+e._s(t.name)+"\n            ")]),s("div",{staticClass:"ibs-card-item-list"},[e._l(t.items,(function(t,i){return[e._l(t.questions,(function(a,r){return[e.getShow(n,i,r,t,a)?s("div",{key:a.id,class:["ibs-list-cicle",e.formatStatus(n,i,r,a)],on:{click:function(s){return e.slideToNumber(n,t.seq,r,t.id,a)}}},[e._v("\n                    "+e._s(a.seq)+"\n                  ")]):e._e()]}))]}))],2)]:e._e()],2)})),0)])])])}),[],!1,null,null,null);t.a=c.exports},"36bd":function(e,t,s){"use strict";var n=s("4bf8"),i=s("77f1"),a=s("9def");e.exports=function(e){for(var t=n(this),s=a(t.length),r=arguments.length,o=i(r>1?arguments[1]:void 0,s),c=r>2?arguments[2]:void 0,u=void 0===c?s:i(c,s);u>o;)t[o++]=e;return t}},4917:function(e,t,s){"use strict";var n=s("cb7c"),i=s("9def"),a=s("0390"),r=s("5f1b");s("214f")("match",1,(function(e,t,s,o){return[function(s){var n=e(this),i=void 0==s?void 0:s[t];return void 0!==i?i.call(s,n):new RegExp(s)[t](String(n))},function(e){var t=o(s,e,this);if(t.done)return t.value;var c=n(e),u=String(this);if(!c.global)return r(c,u);var l=c.unicode;c.lastIndex=0;for(var d,m=[],h=0;null!==(d=r(c,u));){var A=String(d[0]);m[h]=A,""===A&&(c.lastIndex=a(u,i(c.lastIndex),l)),h++}return 0===h?null:m}]}))},"51aa":function(e,t,s){"use strict";s("e7e5");var n=s("d399"),i=(s("6c7b"),s("e17f"),s("2241")),a=(s("ac6a"),s("c5f6"),s("fb44")),r=s("361b"),o={name:"ibs-count-down",data:function(){return{time:0,timeWarn:!1}},props:{limitedTime:{type:Number,default:0},usedTime:{type:Number,default:0},mode:{type:String,default:"do"},beginTime:{type:Number,default:0}},mounted:function(){this.timer()},beforeDestroy:function(){},computed:{isShow:function(){var e=1e3*this.beginTime+60*this.limitedTime*1e3-Date.parse(new Date)>0;return!(!this.limitedTime||"do"!==this.mode||!e)}},methods:{timer:function(){if(this.limitedTime){var e=Date.parse(new Date),t=1e3*this.beginTime+60*this.limitedTime*1e3-e;t<=0?this.reachTimerSubmit():this.time=t}},reachTimerSubmit:function(){this.$emit("reachTimeSubmitAnswerData")},change:function(e){e.minutes<1&&(this.timeWarn=!0)},finish:function(){this.reachTimerSubmit()}}},c=s("0c7c"),u=Object(c.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["ibs-count-down",this.timeWarn?"ibs-count-down-warn":""]},[this.isShow?t("van-count-down",{attrs:{time:this.time,format:"HH 时 mm 分 ss 秒"},on:{change:this.change,finish:this.finish}}):this._e()],1)}),[],!1,null,null,null).exports,l=s("a8b4"),d=(s("6b54"),{name:"item-engine",mixins:[s("def6").a],components:{ibsItem:a.a,card:r.a,countDown:u,ibsFooter:l.a},props:{mode:{type:String,default:"do"},assessmentResponse:{type:Object,default:function(){}},answerScene:{type:Object,default:function(){}},answerRecord:{type:Object,default:function(){}},answerReport:{type:Object,default:function(){}},assessment:{type:Object,default:function(){}},showSaveProcessBtn:{type:Boolean,default:!0}},data:function(){return{section_responses:[],height:0,cardShow:!1,count:0,intervalId:null,currentItemIndex:0,sourceMap:{},current:0,items:[],renderItmes:[],hasResponses:!1,continueDo:null}},beforeDestroy:function(){this.clearTime()},computed:{needScore:function(){return!!Number(this.answerScene.need_score)},doLookAnalysis:function(){return!!Number(this.answerScene.doing_look_analysis)}},mounted:function(){var e;e=1e3*Number(this.answerScene.start_time),Date.parse(new Date)<e?this.noStartTool():(this.setSwiperHeight(),this.getSectionResponses(),this.countTime(),this.$nextTick((function(){})))},methods:{slideTo:function(e){var t=this,s="item".concat(e.itemId);this.current=e.itemIndex-1,this.changeRenderItems(this.current),this.fastSlide(),this.$nextTick((function(){var n=t.$refs[s][0].$refs["childSwiper".concat(e.itemId)],i=Math.max(e.questionIndex,0);n.$swiper.slideTo(i,0,!1)}))},judgelNoAnswer:function(e){var t=0;return e.forEach((function(e){e.item_responses.forEach((function(e){e.question_responses.forEach((function(e){e.response.some((function(e){return""!=e}))||(t+=1)}))}))})),t},noStartTool:function(){var e,t,s,n,a,r,o,c;i.a.alert({title:"考试说明",message:"考试未开始，请在".concat((e=this.answerScene.start_time,t=new Date(1e3*e),s=t.getFullYear(),n=t.getMonth()+1,a=t.getDate(),r=t.getHours(),o=t.getMinutes(),c=t.getSeconds(),"".concat([s,n,a].map((function(e){return(e=e.toString())[1]?e:"0".concat(e)})).join("-")," ").concat([r,o,c].map((function(e){return(e=e.toString())[1]?e:"0".concat(e)})).join(":"))),"之后再来"),getContainer:"#ibs-item-bank"}).then((function(){}))},getSectionResponses:function(){"do"===this.mode&&this.assessmentResponse.section_responses.length>0&&(this.section_responses=this.assessmentResponse.section_responses,this.hasResponses=!0),this.formateSections()},formateSections:function(){var e=this;this.assessment.sections.forEach((function(t,s){e.hasResponses?e.formateItems(t.items,s):e.section_responses.push({section_id:t.id,item_responses:e.formateItems(t.items,s)})})),this.changeRenderItems(0),this.slideToContinue()},formateItems:function(e,t){var s=this,n=[];return e.forEach((function(e,i){e.sectionIndex=t,e.itemIndex=i,s.hasResponses?(s.items.push(e),s.formateQuestions(e,e.questions,t,i)):(s.items.push(e),n.push({item_id:e.id,question_responses:s.formateQuestions(e,e.questions,t,i)}))})),n},formateQuestions:function(e,t,s,n){var i=this,a=[];return t.forEach((function(t,r){if(i.hasResponses)i.getContinueDo(s,n,r,e);else{1==Number(t.isDelete)&&(t.response_points=[]);var o=t.response_points.length?t.response_points.length:0;a.push({question_id:t.id,response:i.initResponse(t.answer_mode,o)})}})),a},getContinueDo:function(e,t,s,n){var i=this.assessmentResponse.section_responses[e].item_responses[t].question_responses[s].response.some((function(e){return""!=e}));this.continueDo||i||(this.continueDo={sectionsIndex:e,itemIndex:Number(n.seq),questionIndex:s})},slideToContinue:function(){if(this.continueDo){var e=this.items[this.continueDo.itemIndex-1],t={sectionsIndex:this.continueDo.sectionsIndex,itemIndex:e.seq,questionIndex:this.continueDo.questionIndex,itemId:e.id};this.slideTo(t)}},setSourceMap:function(e,t,s,n,i){e.sectionIndex=s,e.ItemIndex=n,t.sectionIndex=s,t.ItemIndex=n,t.questionIndex=i,this.sourceMap["item_".concat(e.id)]=e,this.sourceMap["question_".concat(t.id)]=t},showcard:function(){this.cardShow=!0},initResponse:function(e,t){var s=[];return"text"===e?s=Array(t).fill(""):"single_choice"!==e&&"rich_text"!==e&&"true_false"!==e||(s=[""]),s},getUserAnwer:function(e,t){return this.section_responses[e].item_responses[t]},changeAnswer:function(e,t){this.section_responses[t[0]].item_responses[t[1]]=e},countTime:function(){var e=this;null==this.intervalId&&(this.intervalId=setInterval((function(){e.count+=1,e.count%180==0&&e.trigger()}),1e3))},submitPaper:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.judgelNoAnswer(this.section_responses),n=t?"提交":"保存进度",a=t?"题目已经做完，确认提交吗?":"题目已经做完，确认保存进度，下次继续吗?";return s&&(a="还有".concat(s,t?"题未做，确认提交吗？":"题未做，确认保存进度，下次继续吗？")),new Promise((function(s,r){i.a.confirm({title:n,cancelButtonText:"确认",confirmButtonText:"继续答题",message:a,getContainer:"#ibs-item-bank"}).then((function(){r()})).catch((function(){t?e.answerData():e.saveAnswerData(),s()}))}))},trigger:function(){var e=this.getResponse();e.used_time=this.count,this.$emit("timeSaveAnswerData",e),Object(n.a)({message:"已保存",getContainer:function(){return document.querySelector("#ibs-item-bank")}})},reachTimeSubmitAnswerData:function(){var e=this.getResponse();e.used_time=this.count+Number(this.answerRecord.used_time),this.$emit("reachTimeSubmitAnswerData",e),this.clearTime()},saveAnswerData:function(){var e=this.getResponse();e.used_time=this.count+Number(this.answerRecord.used_time),this.$emit("saveAnswerData",e),this.clearTime()},answerData:function(){var e=this.getResponse();e.used_time=this.count+Number(this.answerRecord.used_time),this.$emit("getAnswerData",e),this.clearTime()},clearTime:function(){clearInterval(this.intervalId),this.intervalId=null},getResponse:function(){var e={};return e.assessment_id=this.assessment.id,e.answer_record_id=this.answerRecord.id,e.section_responses=this.section_responses,e}}}),m=Object(c.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-item-bank",attrs:{id:"ibs-item-bank"}},[this.section_responses.length>0&&e.items.length>0?[s("swiper",{ref:"mySwiper",attrs:{height:e.height,loop:!1,speed:500},on:{slideNextTransitionEnd:e.slideNextTransitionEnd,slidePrevTransitionEnd:e.slidePrevTransitionEnd}},[e._l(e.renderItmes,(function(t){return[s("swiper-slide",{key:"paper"+t.id,ref:"paper"+t.id,refInFor:!0,staticClass:"ibs-paper-item",style:{height:e.height+"px"}},[s("ibs-item",{ref:"item"+t.id,refInFor:!0,attrs:{item:t,mode:e.mode,doLookAnalysis:e.doLookAnalysis,itemUserAnswer:e.getUserAnwer(t.sectionIndex,t.itemIndex),needScore:e.needScore,all:Number(e.assessment.question_count),keys:[t.sectionIndex,t.itemIndex],current:e.current,itemLength:e.items.length,showAnalysis:e.doLookAnalysis},on:{changeAnswer:e.changeAnswer,itemSlideNext:e.itemSlideNext,itemSlidePrev:e.itemSlidePrev}})],1)]}))],2),s("card",{attrs:{mode:e.mode,sections:e.assessment.sections,section_responses:e.section_responses},on:{slideTo:e.slideTo},model:{value:e.cardShow,callback:function(t){e.cardShow=t},expression:"cardShow"}}),s("ibs-footer",{attrs:{mode:e.mode,"show-save-process-btn":e.showSaveProcessBtn},on:{showcard:e.showcard,submitPaper:e.submitPaper}}),s("countDown",{attrs:{mode:e.mode,limitedTime:Number(e.answerScene.limited_time),usedTime:Number(e.answerRecord.used_time),beginTime:Number(e.answerRecord.begin_time)},on:{reachTimeSubmitAnswerData:e.reachTimeSubmitAnswerData}})]:e._e()],2)}),[],!1,null,null,null);t.a=m.exports},"6c7b":function(e,t,s){var n=s("5ca1");n(n.P,"Array",{fill:s("36bd")}),s("9c6c")("fill")},a8b4:function(e,t,s){"use strict";var n=[{name:"题卡",iconName:"wap-icon-Questioncard",type:"card"},{name:"保存进度",iconName:"wap-icon-jindu",type:"process"},{name:"提交",iconName:"wap-icon-submit",type:"submit"}],i=[{name:"题卡",iconName:"wap-icon-Questioncard",type:"card"},{name:"提交",iconName:"wap-icon-submit",type:"submit"}],a=[{name:"题卡",iconName:"wap-icon-Questioncard",type:"card"},{name:"错题",iconName:"wap-icon-cuoti1",activeIconName:"wap-icon-cuoti1-active",type:"wrong"}],r=[{name:"题卡",iconName:"wap-icon-Questioncard",type:"card"},{name:"提交",iconName:"wap-icon-tijiao",type:"review"}],o={name:"ibs-footer",data:function(){return{}},computed:{footerItem:function(){return"do"===this.mode?this.showSaveProcessBtn?n:i:"review"===this.mode?r:a}},props:{mode:{type:String,default:"do"},wrongMode:{type:Boolean,default:!1},showSaveProcessBtn:{type:Boolean,default:!0}},methods:{check:function(e){switch(e){case"card":this.$emit("showcard");break;case"process":this.$emit("submitPaper",!1);break;case"submit":this.$emit("submitPaper",!0);break;case"wrong":this.$emit("lookWrong");break;case"analysis":this.$emit("lookAnalysis");break;case"review":this.$emit("submitReview")}},getActive:function(e){if(this.wrongMode&&"wrong"===e)return"wap-icon-cuoti1-active"}}},c=s("0c7c"),u=Object(c.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-footer"},e._l(e.footerItem,(function(t,n){return s("div",{key:n,class:[e.getActive(t.type)],on:{click:function(s){return e.check(t.type)}}},[s("i",{class:["wap-icon",t.iconName]}),e._v("\n    "+e._s(t.name)+"\n  ")])})),0)}),[],!1,null,null,null);t.a=u.exports},c75f:function(e,t,s){"use strict";s("e7e5");var n=s("d399"),i=(s("ac6a"),s("c5f6"),s("fb44")),a=s("361b"),r=s("a8b4"),o=0,c=0,u=0,l={name:"item-report",mixins:[s("def6").a],components:{ibsItem:i.a,card:a.a,ibsFooter:r.a},props:{mode:{type:String,default:"report"},answerScene:{type:Object,default:function(){}},answerRecord:{type:Object,default:function(){}},answerReport:{type:Object,default:function(){}},assessment:{type:Object,default:function(){}},assessmentResponse:{type:Object,default:function(){}}},data:function(){return{section_responses:[],height:0,cardShow:!1,wrongMode:!1,currentItemIndex:0,sourceMap:{},hasWrong:!1,current:0,items:[],wrongItems:[],defaultItems:[],renderItmes:[],answerAttachments:{}}},computed:{needScore:function(){return!!Number(this.answerScene.need_score)}},mounted:function(){this.setSwiperHeight(),this.getSectionResponses()},methods:{getResponseAttachments:function(){var e=this;this.assessmentResponse.section_responses&&this.assessmentResponse.section_responses.forEach((function(t){t.item_responses.forEach((function(t){t.question_responses.forEach((function(t){e.answerAttachments[t.question_id]=t.attachments}))}))}))},resetDefaultData:function(){o=0,c=0,u=0},slideTo:function(e){var t=this,s="item".concat(e.itemId),n=Math.max(e.itemIndex-1,0),i=Math.max(e.questionIndex,0);this.wrongMode&&(n=Math.max(this.sourceMap["item_".concat(e.itemId)].wrongIndex,0),i=Math.max(this.sourceMap["question_".concat(e.questionId)].wrongIndex)),this.current=n,this.changeRenderItems(this.current),this.fastSlide(),this.$nextTick((function(){t.$refs[s][0].$refs["childSwiper".concat(e.itemId)].$swiper.slideTo(i,0,!1)}))},getSectionResponses:function(){this.section_responses=this.answerReport.section_reports,this.formateSections()},formateSections:function(){var e=this;this.getResponseAttachments(),this.assessment.sections.forEach((function(t,s){e.formateItems(t.items,s)})),this.items=this.defaultItems,this.changeRenderItems(0)},formateItems:function(e,t){var s=this;e.forEach((function(e,n){var i=s.answerReport.section_reports[t].item_reports[n].right_question_num,a=s.answerReport.section_reports[t].item_reports[n].question_count;e.sectionIndex=t,e.itemIndex=n,s.defaultItems.push(e),i<a&&s.wrongItems.push(e),s.formateQuestions(e,e.questions,t,n)}))},formateQuestions:function(e,t,s,n){var i=this;t.forEach((function(t,a){t.attachments=t.attachments.concat(i.answerAttachments[t.id]||[]),i.getQuestionWrongIndex(e,t,s,n,a)}))},getQuestionWrongIndex:function(e,t,s,n,i){"right"!==this.answerReport.section_reports[s].item_reports[n].question_reports[i].status&&(this.hasWrong=!0,o!==e.id&&(o=e.id,c=0,e.wrongIndex||(e.wrongIndex=u,u++)),t.wrongIndex||(t.wrongIndex=c,c++)),this.setSourceMap(e,t,s,n,i)},setSourceMap:function(e,t,s,n,i){e.sectionIndex=s,e.itemIndex=n,t.sectionIndex=s,t.ItemIndex=n,t.questionIndex=i;var a=this.answerReport.section_reports[s].item_reports[n];e.wrongNum=a.question_count-a.right_question_num,this.sourceMap["item_".concat(e.id)]=e,this.sourceMap["question_".concat(t.id)]=t},showcard:function(){this.cardShow=!0},getUserAnwer:function(e,t){return this.answerReport.section_reports[e].item_reports[t]},getUserReport:function(e,t){return this.answerReport.section_reports[e].item_reports[t]},changeswiper:function(){this.currentItemIndex=this.$refs.mySwiper.$swiper.activeIndex},getIsWrong:function(e,t){return!this.wrongMode||Number(this.answerReport.section_reports[e].item_reports[t].right_question_num)<Number(this.answerReport.section_reports[e].item_reports[t].question_count)},lookWrong:function(){var e=this;if(this.hasWrong)if(this.wrongMode=!this.wrongMode,this.wrongMode){var t=this.items[this.current],s=Number(t.id),i="item".concat(s),a=this.sourceMap["item_".concat(s)],r=Number(a.sectionIndex),o=Number(a.itemIndex),c=this.$refs[i][0].$refs["childSwiper".concat(s)],u=c.$swiper.activeIndex,l=this.assessment.sections[r].items[o].questions[u];this.items=this.wrongItems,a.wrongIndex?(this.current=a.wrongIndex,this.changeRenderItems(this.current),this.fastSlide(),l.wrongIndex&&this.$nextTick((function(){c.$swiper.slideTo(l.wrongIndex,0,!1)}))):(this.current=0,this.changeRenderItems(this.current),this.fastSlide())}else this.$nextTick((function(){e.items=e.defaultItems,e.current=0,e.changeRenderItems(e.current),e.fastSlide()}));else Object(n.a)({message:"没有错题",getContainer:"#ibs-item-bank"})}}},d=s("0c7c"),m=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-item-bank",attrs:{id:"ibs-item-bank"}},[this.section_responses.length>0?[s("swiper",{ref:"mySwiper",attrs:{height:e.height,loop:!1,speed:500},on:{slideNextTransitionEnd:e.slideNextTransitionEnd,slidePrevTransitionEnd:e.slidePrevTransitionEnd}},[e._l(e.renderItmes,(function(t){return[s("swiper-slide",{key:"paper"+t.id,ref:"paper"+t.id,refInFor:!0,staticClass:"ibs-paper-item",style:{height:e.height+"px"}},[s("ibs-item",{ref:"item"+t.id,refInFor:!0,attrs:{item:t,mode:e.mode,wrongMode:e.wrongMode,itemUserAnswer:e.getUserAnwer(t.sectionIndex,t.itemIndex),needScore:e.needScore,all:Number(e.assessment.question_count),keys:[t.sectionIndex,t.itemIndex],itemUserReport:e.getUserReport(t.sectionIndex,t.itemIndex),showAnalysis:!0,showReport:!0,current:e.current,itemLength:e.items.length},on:{itemSlideNext:e.itemSlideNext,itemSlidePrev:e.itemSlidePrev}})],1)]}))],2),s("card",{attrs:{mode:e.mode,sections:e.assessment.sections,section_responses:e.section_responses,answer_report:e.answerReport,wrongMode:e.wrongMode},on:{slideTo:e.slideTo},model:{value:e.cardShow,callback:function(t){e.cardShow=t},expression:"cardShow"}}),s("ibs-footer",{attrs:{mode:e.mode,wrongMode:e.wrongMode},on:{showcard:e.showcard,lookWrong:e.lookWrong}})]:e._e()],2)}),[],!1,null,null,null);t.a=m.exports},def6:function(e,t,s){"use strict";s("c5f6"),t.a={computed:{needScore:function(){return!!Number(this.answerScene.need_score)}},methods:{itemSlideNext:function(){this.$refs.mySwiper.$swiper.slideNext()},itemSlidePrev:function(){this.$refs.mySwiper.$swiper.slidePrev()},slideNextTransitionEnd:function(){this.current!==this.items.length-1&&(this.current+=1,this.changeRenderItems(this.current),this.fastSlide())},slidePrevTransitionEnd:function(){var e=this;if(0!==this.current){this.current-=1,this.changeRenderItems(this.current);var t=this.items[this.current],s="item".concat(t.id);this.$nextTick((function(){var n=e.$refs[s][0].$refs["childSwiper".concat(t.id)],i=Math.max(t.questions.length-1,0);n.$swiper.slideTo(i,0,!1)})),this.fastSlide()}},changeRenderItems:function(e){var t=[];this.items[e-1]&&t.push(this.items[e-1]),this.items[e]&&t.push(this.items[e]),this.items[e+1]&&t.push(this.items[e+1]),this.renderItmes=t},fastSlide:function(){var e=this;0===this.current?this.$nextTick((function(){e.$refs.mySwiper.$swiper.slideTo(0,0,!1)})):this.$nextTick((function(){e.$refs.mySwiper.$swiper.slideTo(1,0,!1)}))},setSwiperHeight:function(){var e=document.getElementById("ibs-item-bank").offsetTop,t=document.documentElement.clientHeight;this.height=t-e}}}},fb44:function(e,t,s){"use strict";s("ac6a"),s("c5f6");var n={props:{itemData:{type:Object,default:function(){return{}}}},computed:{disabled:function(){return"do"!==this.itemData.mode}}},i=(s("6762"),s("2fdb"),{methods:{reportAnswer:function(e,t,s,n){var i="";return"report"!==e?"":(s.includes(t)&&(i+="ibs-subject-option__order_wrong "),n.includes(t)&&(i+="ibs-subject-option__order_right"),i)}}}),a={name:"single-choice",mixins:[n,i],data:function(){return{answer:this.itemData.userAnwer[0]}},methods:{changeAnswer:function(e){"do"===this.itemData.mode&&this.$emit("changeAnswer",e,this.itemData.keys)}}},r=s("0c7c"),o=Object(r.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-subject"},[s("van-radio-group",{staticClass:"ibs-answer-paper",attrs:{disabled:e.disabled},on:{change:e.changeAnswer},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},e._l(e.itemData.question.response_points,(function(t,n){return s("van-radio",{key:n,staticClass:"ibs-subject-option",attrs:{name:t.radio.val},scopedSlots:e._u([{key:"icon",fn:function(n){return[s("span",{class:["ibs-subject-option__order",n,e.reportAnswer(e.itemData.mode,t.radio.val,e.itemData.userAnwer,e.itemData.question.answer)]},[e._v(e._s(t.radio.val))])]}}],null,!0)},[s("div",{staticClass:"ibs-subject-option__content",domProps:{innerHTML:e._s(t.radio.text)}})])})),1)],1)}),[],!1,null,null,null).exports,c={mixins:[i,n],data:function(){return{answer:this.itemData.userAnwer}},methods:{changeAnswer:function(e){"do"===this.itemData.mode&&this.$emit("changeAnswer",e,this.itemData.keys)}}},u=Object(r.a)(c,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-subject"},[s("van-checkbox-group",{staticClass:"ibs-answer-paper",on:{change:e.changeAnswer},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},e._l(e.itemData.question.response_points,(function(t,n){return s("van-checkbox",{key:n,staticClass:"ibs-subject-option",attrs:{name:t.checkbox.val,disabled:e.disabled}},[s("div",{staticClass:"ibs-subject-option__content",domProps:{innerHTML:e._s(t.checkbox.text)}}),s("span",{class:["ibs-subject-option__order","ibs-subject-option__order--square",e.reportAnswer(e.itemData.mode,t.checkbox.val,e.itemData.userAnwer,e.itemData.question.answer)],attrs:{slot:"icon"},slot:"icon"},[e._v(e._s(t.checkbox.val))])])})),1)],1)}),[],!1,null,null,null).exports,l={name:"judge",mixins:[n,i],data:function(){return{answer:this.itemData.userAnwer[0]}},methods:{changeAnswer:function(e){"do"===this.itemData.mode&&this.$emit("changeAnswer",e,this.itemData.keys)},getIcons:function(e){return"F"===e?"wap-icon-no":"T"===e?"wap-icon-yes":void 0}}},d=Object(r.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-subject"},[s("van-radio-group",{staticClass:"ibs-answer-paper",attrs:{disabled:e.disabled},on:{change:e.changeAnswer},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}},e._l(e.itemData.question.response_points,(function(t,n){return s("van-radio",{key:n,staticClass:"ibs-subject-option subject-option--determine",attrs:{name:t.radio.val}},[s("div",{staticClass:"ibs-subject-option__content"},[e._v(e._s(t.radio.text))]),s("i",{class:["wap-icon",e.getIcons(t.radio.val),"ibs-subject-option__order",e.reportAnswer(e.itemData.mode,t.radio.val,e.itemData.userAnwer,e.itemData.question.answer)],attrs:{slot:"icon"},slot:"icon"})])})),1)],1)}),[],!1,null,null,null).exports,m={name:"essay",mixins:[n],data:function(){return{answer:this.itemData.userAnwer[0]}},computed:{placeholder:{get:function(){return this.disabled?"未作答":"请填写你的答案......"}}},methods:{changeAnswer:function(e){var t,s,n,i,a,r=this;(t=function(){r.$emit("changeAnswer",e,r.itemData.keys)},s=500,n=!0,a=0,function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];if(n)i&&clearTimeout(i),i=setTimeout((function(){t.apply(void 0,r)}),s);else{var c=(new Date).getTime();if(c-a<s)return;a=c,t.apply(void 0,r)}})()}}},h=Object(r.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-subject ibs-essay"},[s("div",{staticClass:"ibs-answer-paper"},[s("van-field",{staticClass:"ibs-essay-input",attrs:{placeholder:e.placeholder,autosize:{maxHeight:200,minHeight:200},disabled:e.disabled,"label-width":"0px",type:"textarea"},on:{input:e.changeAnswer},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1)])}),[],!1,null,null,null).exports,A=(s("a481"),s("4917"),{name:"fill",mixins:[n],data:function(){return{answer:this.itemData.userAnwer}},computed:{placeholder:{get:function(){return this.disabled?"未作答":"请填写答案"}}},methods:{filterFillHtml:function(e){var t=/\[\[\]\]/g;if(!e.match(t))return e;var s=1;return e.replace(t,(function(){return'<span class="ibs-fill-bank">('.concat(s++,"）</span>")}))},changeAnswer:function(){this.$emit("changeAnswer",this.answer,this.itemData.keys)}}}),p=Object(r.a)(A,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-subject ibs-fill"},[s("div",{staticClass:"ibs-answer-paper"},e._l(e.itemData.question.answer,(function(t,n){return s("div",{key:n},[s("div",{staticClass:"ibs-fill-subject"},[e._v("填空题（"+e._s(n+1)+"）")]),s("van-field",{staticClass:"ibs-fill-input",attrs:{placeholder:e.placeholder,"label-width":"0px",type:"textarea",rows:"1",autosize:"",disabled:e.disabled},on:{input:e.changeAnswer},model:{value:e.answer[n],callback:function(t){e.$set(e.answer,n,t)},expression:"answer[index]"}})],1)})),0)])}),[],!1,null,null,null).exports,f={name:"ibs-slide-btn",components:{},props:{isLast:{type:Boolean,default:!1},isFrist:{type:Boolean,default:!1}},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{slidePrev:function(){this.$emit("slidePrev")},slideNext:function(){this.$emit("slideNext")}}},w=Object(r.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-slide-btn"},[s("div",{class:["left-slide__btn",e.isFrist?"slide-disabled":""],on:{click:function(t){return e.slidePrev()}}},[s("i",{staticClass:"wap-icon wap-icon-arrow-left"})]),s("div",{class:["right-slide__btn",e.isLast?"slide-disabled":""],on:{click:function(t){return e.slideNext()}}},[s("i",{staticClass:"wap-icon wap-icon-arrow-right"})])])}),[],!1,null,null,null).exports,g=function(e){switch(e){case"text":return"填空题";case"single_choice":return"单选题";case"choice":return"多选题";case"rich_text":return"问答题";case"uncertain_choice":return"不定项";case"true_false":return"判断题";default:return""}},v={name:"sectionTitle",props:{all:{type:Number,default:0},current:{type:Number,default:0},itemType:{type:String,default:""},questionsType:{type:String,default:""},score:{type:Number,default:0},showScore:{type:Boolean,default:!0}},computed:{subject:function(){return"".concat(g(this.questionsType))}}},b=Object(r.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-head-top"},[s("div",{staticClass:"ibs-head-left"},[e._v("\n    "+e._s(e.subject)+"\n    "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.showScore,expression:"showScore"}],staticClass:"ibs-left-color"},[e._v("["+e._s(e.score)+"分]")])]),s("div",{staticClass:"ibs-head-right"},[s("span",{staticClass:"ibs-right-color"},[e._v(e._s(e.current))]),e._v("/"+e._s(e.all)+"\n  ")])])}),[],!1,null,null,null).exports,y=(s("456d"),function(e){switch(e){case"T":return"对";case"F":return"错";default:return""}}),C=(s("96cf"),s("3b8d"));
/*! load-scripts v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */function I(...e){return Promise.all(e.map(e=>new Promise((t,s)=>{const n=document.head||document.body||document.documentElement;if(n.querySelector(`script[src*="${e}"]`))return void t(e);const i=document.createElement("script"),a=()=>{i.onerror=null,i.onload=null};i.onerror=()=>{a(),s(new Error("Failed to load script: "+e))},i.onload=()=>{a(),t(e)},i.async=!0,i.src=e,n.appendChild(i)})))}var _={audio:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAS1BMVEUAAABgu2Bgul9gul+f35+a5Jhgul9guWBgul5gu15guWBgul9gul5gumBgu15gul9gumBgu1+I2IZgul6Z5JeL2YmR3o95zHdxx28P/4dOAAAAE3RSTlMAQJ+/EM/fIJDvEM+AMHBgUK/PwGlb5wAAAjlJREFUeNrt3N1u2zAMhmFK2vTrn2RM2t7/lY7F1gRdZxirxPgrxvfcwgNbTnwgkCzLsixLubr4WPjT/fhGqiVfuKvrd1XhxL1dL4rC1HgAUE+YIo8Aqglr5CFANWHmMUAt4cyDgFrCMBQoQswbKMCbEHEH3oHDhW0YUEdYeTxQhHhbUIA6QqcCFCE4UITgQBGCA0UIDhQhOFCE4EARggNFCA4UIThQhOBAEYIDRQgOFCE4UITgQBGCA0UIDhQhOFCERwOfL3vCg4F82RUeDLzuC48F8tO+8Fjgy2VfeCiQn8cK70DopzwWyC/Xp8FCxw/OGdCABjTgu74usERoYHRE1S05oAITvTWfcihwwEDvS24KUEBPH0tncCBRRgdSQAc6dCAVdGBDBwZ0INwjdusp0b0J7SXJLMXz4iq9tqD9Dq58q/kpB7h/koD7uWVAAxrQgAY0oAENaEADGtCABjTg/wzM6MAVHBgTNrCcCBIYf5dnwgOW7CrdwgPmVx0wcCWCBi6EDfQEDkzgwEBbRQzgRFuBnFnYBDoQoKeNPAgw0kYRBLi15ARzbqb9/UKgk0eePrYWICC39OdVAe3slp/prXrKEfFwWQleCq18ldNvBjSgAX9lQAMacGc9AxrQgDvrHQ5M/ODmvpFC+lX6xyI/tNY31ko/T4T9lsxdo9X0C0TYt3AmIuRdmOkz1cYPKtahIybH+1LPkE79Wuoac6re1DsoljUrPlFvaT23wgqV6JdKlmVZlqXbT5+0CuolQf16AAAAAElFTkSuQmCC",video:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAATlBMVEUAAACLbNOMa9SIateLatTPv+/LvOuMatSMcNyLatSLa9SMatSMatSKatWLatSLadSKatWMatS4pOSLatTLvOu7p+Wjid2SctfBr+izneK03+pEAAAAE3RSTlMAQL8ggBDP3xCQz5/vMO9wYK/PFAxd6QAAAiVJREFUeNrt3N2K2zAQhuGxxq0ky85Px0l27/9GOwtlaUtYJY5GHtjvPQzk48EoJ8E2IYQQQsalY4mzbO7XDzKNyywvdflpKhzl1S6roZAnaQC0E3KUFkAzYYrSBGgmzNIGaCVcpBHQShiaAlXo8wIq8FPo8QR+AI2EUzOgjTBJe6AK/R1BBdoIBxOgCp0DVegcqELnQBU6B6rQOVCFzoEqdA5UoXOgCp0DVegcqELnQBU6B6rQOVCFzoEqdA5UoXOgCncHvq8V4d7A61oT7gy8rVXhvkC51IX7Am9rXbgrUK4mwkGcC1sC5fZWF+4J1K7vb42Fg3RuABBAAAH8JwABBLCyByCAAFb2AAQQQPmikMevy0Hudi49gHHYeFvVPOiuPTAy0SbhxB8f2wNPGxcyURfggR7tIH81n6gTMGy68yYy+QMG+Swn8gycj0SegXEh18DI5BvI5BsYyDkweweOAAIIIIDfHFi8Aw/JOVCyd6CM3oFSknOgRHYOlMOxHzBue+AjdwNKokr3KZF7ATM9VpH/hKdOQBnpkcb7X1w6AKVUx9IQ5E4TpzP+Yf0TgAACWNkDEEAAK3sAAghgZQ9AAAGs7AEIIICVPQAB/PZAls4t9FxJOpfoyaJ0baJny9K1QuT7V7LQ0wXpWCDyfQkXIvJ8CjNtKU3SqZgMXjHZ0sd7vqSz3sS0vVHMG+mluIhlc2F6NT6dp1kMmmM5JkIIIYRs+w0UNMmnBMQlQgAAAABJRU5ErkJggg==",ppt:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAUVBMVEUAAADfYDTfYDDeXzHvr6/wtqPfYDDeYDHfYDDeXzHeXzHfXzHfXzHdYDHfYDHeYDHeXzDeYDHeXzLrnIDeXzHwt6LroYbha0DlhGDtqpHplnhmzG3pAAAAFHRSTlMAQEDfEM8ggBDvz7+fYDCQcFCvz/A/iYQAAAJdSURBVHja7dzhbpswFIbhU7wZ29iQdIek7f1f6M6PjdCtiUWx8Vf1vH8tRY8QCmBbJk3TNE2rnDtF4/nT/fpBVbPR864uP6sKe97bZa4otIELAOsJreESwGpCZ7gIsJpw4jLAWsKRCwFrCYeiQBFiXkABLkLEO/AGLC4MxYB1hI7LA0WIdwsKsI7wqQpQhOBAEYIDRQgOFCE4UITgQBGCA0UIDhQhOFCE4EARggNFCA4UIThQhOBAEYIDRQgOFCE4UITNgW9zRtga+DLnhI2B1zkrbAvkS17YFnid88KmQH6pIRQguLAkkK+veWFToBDfXssKBXhwnQIVqEAFvuvLAIez/b/uPA0gwJ7uZZMBAEZ6VDLNgWNuub4x0FOuU1ugoWwJHUgJHUg9OpAGdGAHATSrwnOidREB+O/ImtgBAt8/BAdEIJ9oqYcEsl0GR0zgREuYQE9LBhK4etcZMIGdAncCHThwNeohgWkZdJB/M6vBMyLQW1qKgEAz0i0DB/S9o1sJ4XWrX5U6R+sMAvBBJ4hX/vtZjw10BvyzM4J/uEduCWTKZANDA5NnZODT0H6Gle429gFhjvrjJ8kUgweZ5acl0GUIBSpQgQpUoAIVqEAFKlCBRYAOFLj86hkUONCfDCjw76rwhLu5LKTRpgC8+w1+e54CFajAOylQgQrkxylQgd8eaPngRtqW44NztDHDhxZoaxMfWqStdXxoI21u4AMbiLAv4UhEyHfhRJ/JBT4o44oeMVneZ1se0pkv2JbHnObraVc2cs18tLQ3m56D5wp5E0+ONE3TNK1uvwF3ch6uj7dPzAAAAABJRU5ErkJggg==",pptx:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAUVBMVEUAAADfYDTfYDDeXzHvr6/wtqPfYDDeYDHfYDDeXzHeXzHfXzHfXzHdYDHfYDHeYDHeXzDeYDHeXzLrnIDeXzHwt6LroYbha0DlhGDtqpHplnhmzG3pAAAAFHRSTlMAQEDfEM8ggBDvz7+fYDCQcFCvz/A/iYQAAAJdSURBVHja7dzhbpswFIbhU7wZ29iQdIek7f1f6M6PjdCtiUWx8Vf1vH8tRY8QCmBbJk3TNE2rnDtF4/nT/fpBVbPR864uP6sKe97bZa4otIELAOsJreESwGpCZ7gIsJpw4jLAWsKRCwFrCYeiQBFiXkABLkLEO/AGLC4MxYB1hI7LA0WIdwsKsI7wqQpQhOBAEYIDRQgOFCE4UITgQBGCA0UIDhQhOFCE4EARggNFCA4UIThQhOBAEYIDRQgOFCE4UITNgW9zRtga+DLnhI2B1zkrbAvkS17YFnid88KmQH6pIRQguLAkkK+veWFToBDfXssKBXhwnQIVqEAFvuvLAIez/b/uPA0gwJ7uZZMBAEZ6VDLNgWNuub4x0FOuU1ugoWwJHUgJHUg9OpAGdGAHATSrwnOidREB+O/ImtgBAt8/BAdEIJ9oqYcEsl0GR0zgREuYQE9LBhK4etcZMIGdAncCHThwNeohgWkZdJB/M6vBMyLQW1qKgEAz0i0DB/S9o1sJ4XWrX5U6R+sMAvBBJ4hX/vtZjw10BvyzM4J/uEduCWTKZANDA5NnZODT0H6Gle429gFhjvrjJ8kUgweZ5acl0GUIBSpQgQpUoAIVqEAFKlCBRYAOFLj86hkUONCfDCjw76rwhLu5LKTRpgC8+w1+e54CFajAOylQgQrkxylQgd8eaPngRtqW44NztDHDhxZoaxMfWqStdXxoI21u4AMbiLAv4UhEyHfhRJ/JBT4o44oeMVneZ1se0pkv2JbHnObraVc2cs18tLQ3m56D5wp5E0+ONE3TNK1uvwF3ch6uj7dPzAAAAABJRU5ErkJggg==",doc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAUVBMVEUAAABNh+dQh+dPh+apyfRQgN9Ph+ZQh+dOheROhuZOheZPhuZOhuZOhuZOhuZOh+ZSi+pPhuZPh+ZQheSWue9OhuapxvOevvFwnuuFre9ZjuhAHZO1AAAAFXRSTlMAYECfXxC/IJBwgO/vz1DfMN+vMFCo01ueAAADvElEQVR42u3a2XKbMBQGYKGVxSx2KznJ+z9oLzypID8nLjU60mT0X3VMLD5rO3SQqKmpqampqal5PWbq1f/nt0gcaf1LuWuRMnL0L+YeUgp7718HJhQqfwYwnbD1pwCjsLzx/QQmETp/EjAKy5uAERh0oR34Fxh0iSskAs8XjqcB0wiNPw2YRijPA6YRTucB0wibNMCgSwcGXTow6NKBQZcODLp0YNClA4MuHRh06cCgSwcGXTow6NKBQZcODLp0YNClA4MuHRh0fuB7+F5YOjDo3MC38EyYGejvaYSNZ+vCoPMC/ftzYV7gx/0UIQLL7sNTgf7j/f5MyA1E49v3WQ4DmSMrsAIrsAI3qcCfDWylEFL5Axk6I0wzMwGbw29Dr+7x8mVkAarPv7H/DHTiETdwAN3hlz02vkJlAF6+e11mu6bFmdaLz3ScQBzj6+MuLX3znnWIRU9cuZE/6cYB7Kg3jop4GX6LzbIsEkvdbyLGvoFflBRIjxh1YGSBNZIIiG11OJLYU1dYVamAuGs4HEkcewX7UjIgTsIZ13DcaWBqSiagN3uQEV7YA7zlAk57kF6sYoY9+MgFbCOEuoPd+WPnmYC4LuNnuL5lbJMBSFc7RZ2sip8pBiBd7SY4uYRLng+ocMczYpsefssvzwfERy4LR5ewzjECsdo10MIA64kT2H1dDQ5aUF8ng+cD4iPXSLQAj1pcwIvZ9lQrIAbqHA8Qt1+qeQt1jguI1e4qdtJBnWMDQteslsK0Icn4OSMQH7miSm4rx2qqMgJhea61l7V8rWUD4oP8sHKM696EOscDxGoXe9Nt67SE9jiAWGRd/NpG3sZ/3viAWO3Mdu+TexcGfqCljof3AiM9AxCrHWSi5D07EJuMm92O3OYAtgIyx9kJQ88PxKGU1IUpCxCHsqVmp8oCxMf8kbrZnAOIk9DRF/IAr9R3LnAhBxD/p2Spu91yAbvdvQSLyZALeKP2Egu7Dz8Q55qidqAuCxBbnanBtzmAONd+UVXG+BxAdPTUo47MAsS5NlL3a3MCJ6patCDPA2ypL1xAzgtEx426YZMDiGPsyE18zgu8LA8fdQ7AqOwHe5RcZH/xGNssSzfXk0dEKrACK/BJexVYgRX4pL0KrMAKfNJeBT7L5JnjDgKdZ44RBzN41oziaKxnjToM7Dxr5GGgYR3jqzie3jOmEcdjZk+ngA4UYvFcuX5ugoVWk2ERjxS6ksF3IAvDPBydeCGmT0wcOvFiXJOupgy2MeKMLLJJEOlETU3NT88fCCsl2s8Xx2oAAAAASUVORK5CYII=",docx:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAUVBMVEUAAABNh+dQh+dPh+apyfRQgN9Ph+ZQh+dOheROhuZOheZPhuZOhuZOhuZOhuZOh+ZSi+pPhuZPh+ZQheSWue9OhuapxvOevvFwnuuFre9ZjuhAHZO1AAAAFXRSTlMAYECfXxC/IJBwgO/vz1DfMN+vMFCo01ueAAADvElEQVR42u3a2XKbMBQGYKGVxSx2KznJ+z9oLzypID8nLjU60mT0X3VMLD5rO3SQqKmpqampqal5PWbq1f/nt0gcaf1LuWuRMnL0L+YeUgp7718HJhQqfwYwnbD1pwCjsLzx/QQmETp/EjAKy5uAERh0oR34Fxh0iSskAs8XjqcB0wiNPw2YRijPA6YRTucB0wibNMCgSwcGXTow6NKBQZcODLp0YNClA4MuHRh06cCgSwcGXTow6NKBQZcODLp0YNClA4MuHRh0fuB7+F5YOjDo3MC38EyYGejvaYSNZ+vCoPMC/ftzYV7gx/0UIQLL7sNTgf7j/f5MyA1E49v3WQ4DmSMrsAIrsAI3qcCfDWylEFL5Axk6I0wzMwGbw29Dr+7x8mVkAarPv7H/DHTiETdwAN3hlz02vkJlAF6+e11mu6bFmdaLz3ScQBzj6+MuLX3znnWIRU9cuZE/6cYB7Kg3jop4GX6LzbIsEkvdbyLGvoFflBRIjxh1YGSBNZIIiG11OJLYU1dYVamAuGs4HEkcewX7UjIgTsIZ13DcaWBqSiagN3uQEV7YA7zlAk57kF6sYoY9+MgFbCOEuoPd+WPnmYC4LuNnuL5lbJMBSFc7RZ2sip8pBiBd7SY4uYRLng+ocMczYpsefssvzwfERy4LR5ewzjECsdo10MIA64kT2H1dDQ5aUF8ng+cD4iPXSLQAj1pcwIvZ9lQrIAbqHA8Qt1+qeQt1jguI1e4qdtJBnWMDQteslsK0Icn4OSMQH7miSm4rx2qqMgJhea61l7V8rWUD4oP8sHKM696EOscDxGoXe9Nt67SE9jiAWGRd/NpG3sZ/3viAWO3Mdu+TexcGfqCljof3AiM9AxCrHWSi5D07EJuMm92O3OYAtgIyx9kJQ88PxKGU1IUpCxCHsqVmp8oCxMf8kbrZnAOIk9DRF/IAr9R3LnAhBxD/p2Spu91yAbvdvQSLyZALeKP2Egu7Dz8Q55qidqAuCxBbnanBtzmAONd+UVXG+BxAdPTUo47MAsS5NlL3a3MCJ6patCDPA2ypL1xAzgtEx426YZMDiGPsyE18zgu8LA8fdQ7AqOwHe5RcZH/xGNssSzfXk0dEKrACK/BJexVYgRX4pL0KrMAKfNJeBT7L5JnjDgKdZ44RBzN41oziaKxnjToM7Dxr5GGgYR3jqzie3jOmEcdjZk+ngA4UYvFcuX5ugoVWk2ERjxS6ksF3IAvDPBydeCGmT0wcOvFiXJOupgy2MeKMLLJJEOlETU3NT88fCCsl2s8Xx2oAAAAASUVORK5CYII=",pdf:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAATlBMVEUAAADfYDLfYDDvr6/wtqPeXzHfYDDdYDDeXzHeXzHfXzHfXzLeYDHeXzHeYDHeYDLfYDDfYDLeYDHrnIDeXzHwt6LsooflhGDhbkPplnjsKT+gAAAAFHRSTlMAQCAQz98QYO+Av59wz1CQMK/fzwUGIJMAAAOaSURBVHja7NbBkoMgEARQZFcEEU1qR5P8/4/urJPokaoNE/pAX/TS5StEHNPS0tLS0qIcN8Xe07/z82VUY6Ont7J9qwoDvZttVRTaRAWAekLbUwmgmtD1VASoJlyoDFBLeKFCQC3hWA4oQswFFKAIEXegAFWEqRhQR+ioMFCEeFuQgTrCTgXIQnAgC8GBLAQHshAcyEJwIAvBgSwEB7IQHMhCcCALwYEsBAeyEBzIQnAgC8GBLAQHshAcyMLqwMeaEdYG3tacsDKQ1qywMnDLC+sC72teWBVINxVhR+DCkkC6b3lhPaAQH1thYUcfTteADdiADZiLjyFce1ign6QYQIHevpoXTOBwVgMi0JszzgMCR2mlyXAWQOAiJVnJARAY9tJMZPlyAQQO5rl0M18sMvDvxgECg5SeUkDg8jqjB9BXHI0R2Qz6kSRp+f05HSDQSyuRAz0HSWaF6FH/JDTvrSkazogIlGnQWcNBHBboelYt4rhF/qzOkECyRzViAqejmjCB8aiOmMDfds5tN3IQBqDEkjH3XMT/f+tq1iGlg7artBrXVTlPjDRMjpzByIlFfpuqU5B4nto8iOZE6V5cvekICgWBm9Z5Mjh1gryGyVmendQJwnlrV8OsygQD39nuOkGX4HLtcQg83+6aBLFbGsGcrIoEW1XcCjyG8PHRHccRjsOJC45JGp9TItAGpmGXFMQFxwD2hiOA3yKIw7pdzb+I3yFIw4S2lkeskxfEITZhLdZ0QKfr5QXpXaXkAr2TW847jyH91SzSgi2AnJebXQ+FvioAcUG6Kjnn2W4AUmZ9QcExB4YPrwDFx/TwX4QFXeEAPgUPKGYkY0airGAEM2BLdGd0CcZULSkYltHuaT+LT1/ZBRM1lv/YMRjfkqLdq5zgypfdymA3kmMqy0LRVTFBd3rR3vKxrhfaCG3jOgeo6417ts0vnQNdLQHNL7bHlqCrZwGh+bUR6hJcrqJo45HX1fURL6vEI1DWlsJhK1fpAahLEDktY/Mzu7LGHi7M0+XntXUecQRpaX76WqOs6fAKe7d876eyuez6KRt0dr85Yj3v1LbnZU8puh/XPzgFp+AU7JmCU3AK1o+ZglPw1wtCFWYz97BVGGtuglWULH6s1f3WL92rZJM/Wu1u24juED4CqPlfuJrPYHMVAq3kEZP3QZA8pPM+GSSPOb2PN18CYn0lLoL5KkB7dvUFuCMmayaTyWQyeS1/AKtBL8WRjteoAAAAAElFTkSuQmCC",xls:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAS1BMVEUAAABIpWBIo2BIpF9IomBIo1+u17dJo19Io19Jo19QqGBIpF9Jo2BMo2JJpF9Jo2BJo1+ZzKZIo1+s1bdttYCfz6yGwpZernJ6vIu659ZwAAAAEnRSTlMAYECfIN9f74CPEL9wMM9Qr1BwWUG9AAADG0lEQVR42u3c23KbMBCA4QV0QhycrnLo+z9pO5k2iypblBqxO5397zJM7G+MkC3kBDRN0zRN054v3sLw732DxvUTPtWbg5b1Kz7ZW2opDIjPAxsKBzwD2E444jlAEoo7v5/AVkKDZwFJKG4AEjA5oS/gFzA5iVcIAc8XrqcB2wgjngZsI+zPA7YR3s4DthF2bYDJSQcmJx2YnHRgctKByUkHJicdmJx0YHLSgclJByYnHZicdGBy0oHJSQcmJx2YnHRgcvzA91QXSgcmxw38SHtCZiCmXSEz8HVfyAvE930hLxDf9oW8QPzeQEjAa06zYwJSH6/1Fl7gfr0CFahABWYpUIEKxL9q6o3pLD7Ih8UsnWUEhuq+njWfR41lAw7wq6n6nIYNuMBvgseyAORnAlZ3zlY6GpiAvra9bA0/EDeGuGJeB9QLF3AEyvjyEPtFkj3qjJssbJr4gDYCNWQnnwqs7yRARZqQZ6AWZAKWlJ4mcMpYXqBfymFoTXbieYFoY3E5ZGb+j1vFXBOyGYYfiF0+DCfYZCUAvQFqtNlP7B9Yi7kGeqA6/k/Um2FYZqwU4INHXwWsSWiuKQsSFk00DIt6Eau6r+ZyAMoC4gJ5g4x18cNhOAtZuD+aa4yUOwsPp2t5QGtg2ygO2EHeKgwYimnGiwJaKJolAb2BslEQcIY7RSsGOMDdFinAbIaJQM1CgFtfyFd5IoB/rOJGoKKERdOUg/IrpucH5qu4cpXHDryVv7TCppUPWA5AW7mxyQS0sMnefbaOC1gMt/DoZgMXsHLB5pe2gJ2mbBVX0vl3mn72Uh6TtNMEoVzl8W/k+M0Jrp7/mX2nKdrqFTRwAQPNJLU5yHgeIC3lQv1t+oXxnWQ0AMuID7Id/aMBJiCi91jLbg7rtz62KVCBCsR6ClSgArGeAhWoQKynQAW2Bt7w4gwcy+DFRTiYx0tb4WgTXtoAR5vx0no4WvR4YRaOF/DCOqh3eLtXwAsI0GPbyvt07H/Cu/dNYqFXct1Xb7HYvNXAE8XQmOgDPJnpJmyVn+YIZ7T0XYNuBjRN+9/7AbrEwBGtP7rRAAAAAElFTkSuQmCC",xlsx:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAS1BMVEUAAABIpWBIo2BIpF9IomBIo1+u17dJo19Io19Jo19QqGBIpF9Jo2BMo2JJpF9Jo2BJo1+ZzKZIo1+s1bdttYCfz6yGwpZernJ6vIu659ZwAAAAEnRSTlMAYECfIN9f74CPEL9wMM9Qr1BwWUG9AAADG0lEQVR42u3c23KbMBCA4QV0QhycrnLo+z9pO5k2iypblBqxO5397zJM7G+MkC3kBDRN0zRN054v3sLw732DxvUTPtWbg5b1Kz7ZW2opDIjPAxsKBzwD2E444jlAEoo7v5/AVkKDZwFJKG4AEjA5oS/gFzA5iVcIAc8XrqcB2wgjngZsI+zPA7YR3s4DthF2bYDJSQcmJx2YnHRgctKByUkHJicdmJx0YHLSgclJByYnHZicdGBy0oHJSQcmJx2YnHRgcvzA91QXSgcmxw38SHtCZiCmXSEz8HVfyAvE930hLxDf9oW8QPzeQEjAa06zYwJSH6/1Fl7gfr0CFahABWYpUIEKxL9q6o3pLD7Ih8UsnWUEhuq+njWfR41lAw7wq6n6nIYNuMBvgseyAORnAlZ3zlY6GpiAvra9bA0/EDeGuGJeB9QLF3AEyvjyEPtFkj3qjJssbJr4gDYCNWQnnwqs7yRARZqQZ6AWZAKWlJ4mcMpYXqBfymFoTXbieYFoY3E5ZGb+j1vFXBOyGYYfiF0+DCfYZCUAvQFqtNlP7B9Yi7kGeqA6/k/Um2FYZqwU4INHXwWsSWiuKQsSFk00DIt6Eau6r+ZyAMoC4gJ5g4x18cNhOAtZuD+aa4yUOwsPp2t5QGtg2ygO2EHeKgwYimnGiwJaKJolAb2BslEQcIY7RSsGOMDdFinAbIaJQM1CgFtfyFd5IoB/rOJGoKKERdOUg/IrpucH5qu4cpXHDryVv7TCppUPWA5AW7mxyQS0sMnefbaOC1gMt/DoZgMXsHLB5pe2gJ2mbBVX0vl3mn72Uh6TtNMEoVzl8W/k+M0Jrp7/mX2nKdrqFTRwAQPNJLU5yHgeIC3lQv1t+oXxnWQ0AMuID7Id/aMBJiCi91jLbg7rtz62KVCBCsR6ClSgArGeAhWoQKynQAW2Bt7w4gwcy+DFRTiYx0tb4WgTXtoAR5vx0no4WvR4YRaOF/DCOqh3eLtXwAsI0GPbyvt07H/Cu/dNYqFXct1Xb7HYvNXAE8XQmOgDPJnpJmyVn+YIZ7T0XYNuBjRN+9/7AbrEwBGtP7rRAAAAAElFTkSuQmCC",other:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAMAAAC8EZcfAAAAUVBMVEUAAABQh+evz++pxvNQh+dPh+ZOheZQgN9Oh+ZOhuZPh+ZPhuZOheVQielPhuZPhuZOhuZOhuZPiOZOhuaOse9OhuapxvOStvBwnutXjeiHru5GSeLhAAAAFXRSTlMAQBDPIJ+AEN/Pv++QMN9gcFCv788LzAT2AAACc0lEQVR42u3c227bMAyAYXrT2ac4nZy07/+gY26KDVtrxxRpFuX/AMQHRb5wJBgsy7Isi7l48emlHu7XD2DNecRRuv1kFYZK7bYyCl2uDYB8QpdqCyCbMKbaBMgmHGobIJdwrI2AXMLSFIhCnQuIwHehxh34ADIJczMgjzDW9kAU6tuCCOQRdixAFCoHolA5EIXKgShUDkShciAKlQNRqByIQuVAFCoHolA5EIXKgShUDkShciAKlQNRqByIQuVAFJ4OfFsJQgngfSUIJYCvK0EoAaw3glAE+LoShBLAeucQIlC58AFU/St3tWn3t1tbIQKF6wxoQAMa8K8MaEADbswzoAENWJ+vz34IIfiSNQJLGOG92PmkC+j/nT8nPcDy3+lIVAK8wAe5qwZgP8LHhfOBk4PPCmcDe/QRhPzABbYaTgUGwh01CeBEGCUCXGBP/jRggV25nhdIHzqcBJwIw0SAM+ytnAEsXYS9uTlJA72D55qTJLDv4PkGOeDk4EiBFUj3oVAIuMDRriJAD4eLvQTQwfGCANADodjzAxegVPiBkQS8sAMnILWwAwsN6AyYacCRHfiifQ9WRwIGfuCFBMz8wEJ7RviBOOp4XgKYKQsoAazDYV/iBNKfk5jFXpoCwccBpL91Yl0SfS+e5ueInZf/6+M6jxH25LpQ6uknTV/hrM6ABjTgHxnQgAbcmGdAAxpwY54BDWjAjXkGNOC3B7oq3Ej4pBBH9CPAVEXLhDsaInkA3U/JSDh6lqgA6F7CxwJq3oUD4dRAoikSzl0EmhzhI50CZdpFHPYCkHK+ctZ7B9TcfM19ZahP/hLBsizLsnj7DcN6FTzwRZuzAAAAAElFTkSuQmCC",preview:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAclBMVEUAAABYWlpYXFxYWlpZW1tYWlpYW1vl5evn5+tRXV1YXFzm5uzl5uzk5+taWlpZWVlXWlrf3+9YWVlWWVnl5uvl5etZWlrl5utZW1tXWlrk5erq6urk5+paYGBVWlrf39/l5uxZWlrl5evn5+vl5utYWlrPScmYAAAAJHRSTlMAnyDf74C/kCAQQN+fQDBwzxBgUM/Pr++PkIAwMDAwEO+QgH/dkb0JAAABiklEQVRIx+3XyW7DIBQFUB6Tjac4caZm6Pju//9iMSat1I3BWVSRchdBRjrhQQgyYkxb1JyVXVOKKeuCF6RYB7vjw6kVWbk0fvRRF1yXIjtlzYX/ZPZ2gT5wKxpuxKJ8+qG3fF6GW64Fs1gY5id+4ofEbjBEZAaZjyuLW/pNHpYj1T3R3moAqsrAgxe2crEG8twk482fsaTyOhFfvZW+dUapnsJ6EbBKwlJN9qoxRnVRdymYoEcrtZ+2rOKTU+gTsIwVEig87/ESls13z2KPVGhVrPM1Pn9Au1nsR4jtT0f8EnSz2MKGVkPGaejQGqj5kStgmMo/ijj3uBQmYbXttL4dcJTCHQE59aqk31mjd2GfTdlMRWOYxbHw/aglaWjbRWsS97YJ+/M3jgASKThqUHejRgMvOf9n5bnaG2OoB6BXeSfJxvMYbVz2GdatyFpLq+qxjt4nfuL/xzW3y+yFt6Lg0yIb3vJbPiy7JjCX911QxHrL3JzzaPv1zru3Oy5l3oaUzTZP1kU7um+nSVMnXPP4TQAAAABJRU5ErkJggg=="},S={name:"itemBankResourcePreview",props:{attachment:{type:Object,require:!0}},inject:["getResourceToken","settings","language"],data:function(){return{isLoaded:!1,isShow:!1,disableVideoIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAA\nAOVBMVEUAAADPz8/MzMzMzMzIyMjMzMzLy8vLy8vNzc3MzMzMzMzKysrNzc3MzMzLy8vNzc3MzMzMzMzMzMwPcwYrAAAAEnR\nSTlMAEM/fIO9wQKC/YDB/kICPUG9Rq5a2AAAB1ElEQVRIx82WW7aDIAxFDe+3tvMf7G1RbogBbf+aL2Gxk0NIwOVXDDazupe\ntxsLnlF3lszOx2o9iJfFkJsMt99CE+BSNGI2j6iJcW6S92RS8dEdb/D+aJhi4Y4E3QOZD07GOOXFgdpBneSQYBuDOaTOWY/S\nMXG8yoPag7jyfmENG7pLMaZZx0yREMilR5wUpq/d+KtS8MI6p1WexEicuzdQAQANKcnBhHL6WUaEB7SnHCQagxV3iqDM9bQjf\nx8jvAVlFGoLvMvfFBgRs5s4oaEwH1NJeKNhMp5FWwC0WBmLvc60bfloGovle74ZHnrECGci3qjA7DlVzkOUXqiMElwuQ9uGXY\nMbi+Fwq7RzzHmFy1CWYe78qADsZBvJ7j53MFJRD7L7kCjCAtKOeFDnDestM63xzvK09a2QdujfzCP0QpHDFucwN3Zxrd256J6\ntTX1hIG4A4rmTlyJGDvr4eSwXE8bzw+1JdXf7NdORvnIQbknNL3MXcksih2EpO1abpk+yw02ccJ/lTzrk5CWLaDWH3uS/wg5pt\nTgMMxOh4uFacLNi7xUakfeWaKJj9WqDJdByWfMrY/qHKMrRA0dg8Avm4R7flG7NZ4AX+pYE1xbmslh+yP6jDPH3+K7RyAAAAAElFTkSuQmCC",icons:_,resourceStatus:{waiting:"等待转码",doing:"转码中...",error:"转码失败"},randomId:Math.floor(100*Math.random())}},computed:{isMedia:function(){return["video","audio"].indexOf(this.attachment.file_type)>-1},iconSrc:function(){var e=this.attachment,t=e.ext,s=e.file_type;return"other"===s?_.other:"document"===s?_[t]:_[s]},disableVideo:function(){var e=this.settings,t=e.isEncryptionPlus,s=e.securityVideoPlayer;return!!t&&(!(!s||this.isWechat())||!s)},playerId:function(){return"player"+this.attachment.id+"-"+this.randomId}},methods:{isWechat:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},loadPlayer:function(){var e=this;return Object(C.a)(regeneratorRuntime.mark((function t(){var s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.getResourceToken&&!e.isLoaded){t.next=2;break}return t.abrupt("return");case 2:if(window.QiQiuYun){t.next=5;break}return t.next=5,I("https://service-cdn.qiqiuyun.net/js-sdk-v2/sdk-v1.js?".concat(Date.now()));case 5:return s=function(t){return e.isLoaded=!0,new window.QiQiuYun.Player(Object.assign(t))},t.next=8,e.getResourceToken(e.attachment.global_id);case 8:(n=t.sent).data.id=e.playerId,n.data.language="en"===e.language?"en":"zh-CN",s(n.data);case 12:case"end":return t.stop()}}),t)})))()},previewFile:function(){this.loadPlayer(),this.isMedia||(this.isShow=!0)}}},x=Object(r.a)(S,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{margin:"8px 16px 0"}},[e.disableVideo&&e.isMedia?s("div",{staticClass:"attachment-preview"},[s("img",{staticStyle:{width:"24px","margin-right":"8px"},attrs:{src:e.disableVideoIcon}}),s("div",{staticClass:"text-overflow text-12",staticStyle:{flex:"1",color:"#999"}},[e.settings.securityVideoPlayer&&!this.isWechat()?[e._v("\n        该浏览器不支持视频播放，请使用微信或APP\n      ")]:[e._v("\n        该浏览器不支持视频播放，请使用APP\n      ")]],2)]):!e.isMedia||e.isMedia&&!e.isLoaded?s("div",{staticClass:"attachment-preview"},[s("img",{staticClass:"attachment-preview__icon",attrs:{src:e.iconSrc}}),s("div",{staticClass:"text-overflow",staticStyle:{flex:"1"}},[e._v("\n      "+e._s(this.attachment.file_name)+"\n    ")]),"other"!==e.attachment.file_type&&"audio"!==e.attachment.file_type&&"success"!==e.attachment.convert_status?s("div",{staticClass:"attachment-preview__status"},[e._v("\n      "+e._s(e.resourceStatus[e.attachment.convert_status])+"\n    ")]):e._e(),"other"==e.attachment.file_type?s("div",{staticClass:"attachment-preview__status"},[e._v("\n      请前往PC网校下载!\n    ")]):e._e(),"other"!==e.attachment.file_type&&"success"===e.attachment.convert_status||"audio"===e.attachment.file_type?s("img",{staticStyle:{"margin-left":"8px"},attrs:{width:"30",height:"30",src:e.icons.preview},on:{click:e.previewFile}}):e._e()]):e._e(),e.isMedia?s("div",{attrs:{id:e.playerId}}):e._e(),e.isMedia?e._e():s("van-popup",{style:{height:"70%"},attrs:{closeable:"","close-on-click-overlay":!0,"close-icon":"close",position:"bottom","get-container":"body"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[s("div",{staticStyle:{height:"52px",display:"flex","justify-content":"center","align-items":"center",color:"#272E3B"}},[s("div",{staticClass:"text-overflow",staticStyle:{width:"300px","text-align":"center"}},[e._v("\n        "+e._s(e.attachment.file_name)+"\n      ")])]),s("div",{staticStyle:{width:"100%",height:"calc(100% - 52px)"},attrs:{id:e.playerId}})])],1)}),[],!1,null,null,null).exports,D={name:"ibs-report",components:{attachementPreview:x},props:{answer:{type:Array,default:function(){return[]}},report:{type:Object,default:function(){}},answer_mode:{type:String,default:""},mode:{type:String,default:"do"},showResult:{type:Boolean,default:!0},attachements:{type:Array,default:function(){return[]}}},computed:{statusColor:function(){if(!Object.keys(this.report).length)return"analysis-item_noAnswer";switch(this.report.status){case"right":return{className:"ibs-analysis-item_right",text:"回答正确"};case"reviewing":return{className:"ibs-analysis-item_none",text:"待批阅"};case"wrong":case"part_right":return{className:"ibs-analysis-item_worng",text:"回答错误"};case"no_answer":return{className:"ibs-analysis-item_noAnswer",text:"未回答"};default:return""}}},methods:{formateAnswer:function(){return"true_false"===this.answer_mode?y(this.answer[0]):this.answer.join(" ")},formateResponse:function(){return"noAnswer"===this.report.status?"未回答":"true_false"===this.answer_mode?y(this.report.response[0]):this.report.response.join(" ")},formateFillResponse:function(e){return"noAnswer"===this.report.status?"未回答":e}}},E=Object(r.a)(D,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-analysis"},[s("div",{staticClass:"analysis-result"},[s("div",{staticClass:"ibs-analysis-title"},[e._v("做题结果")]),s("div",{staticClass:"ibs-analysis-content"},[e.showResult?s("div",{staticClass:"ibs-analysis-content__item  ibs-mt10 "},[s("div",{staticClass:"ibs-analysis-item__title"},[e._v("做题结果")]),s("div",{class:[e.statusColor.className]},[e._v(e._s(e.statusColor.text))])]):e._e(),"text"===e.answer_mode?s("div",[s("div",{staticClass:"ibs-analysis-content__item  ibs-mt10"},[s("div",{staticClass:"ibs-analysis-item__title"},[e._v("正确答案")]),s("div",{staticClass:"ibs-analysis-item_right ibs-analysis-content__item--column"},e._l(e.answer,(function(t,n){return s("div",{key:"right"+n,staticClass:"fill-answer"},[e._v("\n              （"+e._s(n+1)+"）\n              "),s("span",{domProps:{innerHTML:e._s(t)}})])})),0)]),s("div",{staticClass:"ibs-analysis-content__item "},[s("div",{staticClass:"ibs-analysis-item__title"},[e._v("你的答案")]),s("div",{staticClass:"ibs-analysis-content__item--column"},e._l(e.answer,(function(t,n){return s("div",{key:n},[s("div",{class:[e.statusColor.className,"fill-answer"]},[e._v("\n                （"+e._s(n+1)+"）\n                "),s("span",{domProps:{innerHTML:e._s(e.formateFillResponse(e.report.response[n]))}})])])})),0)])]):s("div",[s("div",{staticClass:"ibs-analysis-content__item  ibs-mt10"},[s("div",{staticClass:"ibs-analysis-item__title"},[e._v("正确答案")]),s("div",{staticClass:"ibs-analysis-item_right",domProps:{innerHTML:e._s(e.formateAnswer())}})]),s("div",{staticClass:"ibs-analysis-content__item  ibs-mt10"},[s("div",{staticClass:"ibs-analysis-item__title"},[e._v("你的答案")]),s("div",{class:[e.statusColor.className],domProps:{innerHTML:e._s(e.formateResponse())}})])])]),e._l(e.attachements,(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})}))],2)])}),[],!1,null,null,null).exports,M={name:"ibs-reference-answer",props:{answer:{type:Array,default:function(){return[]}},answer_mode:{type:String,default:""}},data:function(){return{}},computed:{},methods:{formateAnswer:function(){return"true_false"===this.answer_mode?y(this.answer[0]):this.answer.join(" ")}}},B={name:"ibs-analysis",components:{referenceAnswer:Object(r.a)(M,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-reference"},["text"===e.answer_mode?s("div",{staticClass:"ibs-reference-content__item  ibs-mt10"},[s("div",{staticClass:"ibs-reference-content__item_-title"},[e._v("参考答案:")]),s("div",{staticClass:"ibs-reference-content__item-right ibs-ml5"},e._l(e.answer,(function(t,n){return s("div",{key:"right"+n,staticClass:"fill-answer"},[e._v("\n        （"+e._s(n+1)+"）\n        "),s("span",{domProps:{innerHTML:e._s(t)}})])})),0)]):s("div",{staticClass:"ibs-reference-content__item  ibs-mt10"},[s("div",{staticClass:"ibs-reference-content__item_-title"},[e._v("参考答案:")]),s("div",{staticClass:"ibs-reference-content__item-right ibs-ml5",domProps:{innerHTML:e._s(e.formateAnswer())}})])])}),[],!1,null,null,null).exports,attachementPreview:x},props:{mode:{type:String,default:"do"},analysis:{type:String,default:""},answer:{type:Array,default:function(){return[]}},answer_mode:{type:String,default:""},attachements:{type:Array,default:function(){return[]}}},data:function(){return{activeNames:this.getActiveNames()}},computed:{disabled:function(){return"do"!==this.mode}},methods:{change:function(e){this.$emit("showMaterialAnalysis",!!Object.keys(e).length)},getActiveNames:function(){return"do"!==this.mode?["1"]:[]}}},R=Object(r.a)(B,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-analysis "},[s("van-collapse",{on:{change:e.change},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[s("van-collapse-item",{attrs:{title:"做题解析",name:"1","title-class":"ibs-analysis-title",disabled:e.disabled}},["do"===this.mode?s("reference-answer",{attrs:{answer:e.answer,answer_mode:e.answer_mode}}):e._e(),e.analysis?s("div",{staticClass:"ibs-analysis-content ibs-mt10"},[e._v("\n        解析："),s("span",{domProps:{innerHTML:e._s(e.analysis)}})]):s("div",{staticClass:"ibs-analysis-content ibs-mt10"},[e._v("\n        无解析\n      ")])],1)],1),e._l(e.attachements,(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})}))],2)}),[],!1,null,null,null).exports,Q={name:"",props:{questionSeq:{type:Number,default:0},questionStem:{type:String,default:""},questionsType:{type:String,default:""}},methods:{getStem:function(){return"text"===this.questionsType?this.filterFillHtml(this.questionStem):this.questionStem},filterFillHtml:function(e){var t=/\[\[\]\]/g;if(!e.match(t))return e;var s=1;return e.replace(t,(function(){return'<span class="ibs-fill-bank">('.concat(s++,"）</span>")}))}}},k=Object(r.a)(Q,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"ibs-subject-stem"},[t("div",{staticClass:"ibs-serial-number"},[this._v(this._s(Number(this.questionSeq))+"、")]),t("div",{staticClass:"ibs-rich-text",domProps:{innerHTML:this._s(this.getStem())}})])])}),[],!1,null,null,null).exports,T=(s("e7e5"),s("d399"));s("7f7f");var N={mixins:[{methods:{dispatch:function(e,t,s){for(var n=this.$parent||this.$root,i=n.$options.name;n&&(!i||i!==e);)(n=n.$parent)&&(i=n.$options.name);n&&n.$emit.apply(n,[t].concat(s))},broadcast:function(e,t,s){(function e(t,s,n){this.$children.forEach((function(i){i.$options.name===t?i.$emit.apply(i,[s].concat(n)):e.apply(i,[t,s].concat([n]))}))}).call(this,e,t,s)}}}],components:{},data:function(){return{score:"",status:"",activeIcon:"https://img.yzcdn.cn/vant/user-active.png",inactiveIcon:"https://img.yzcdn.cn/vant/user-inactive.png"}},props:{needScore:{type:Boolean,default:!1},questionId:{type:String,default:""},questionScore:{type:Number,default:0}},computed:{},watch:{},created:function(){},methods:{changeScore:function(e){e<0&&(T.a.fail("不得低于0分"),this.score=0),e>this.questionScore&&(T.a.fail("不得高于".concat(this.questionScore,"分")),this.score=this.questionScore);var t={score:this.score,questionId:this.questionId};this.dispatch("item-review","changeScore",t)},changeStatus:function(e){var t={status:e,questionId:this.questionId};this.dispatch("item-review","changeStatus",t)}}},O={components:{sectionTitle:b,report:E,analysis:R,stem:k,review:Object(r.a)(N,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ibs-review"},[e.needScore?[e._m(0),s("div",[s("van-field",{attrs:{type:"number",placeholder:"请输入自评得分",label:""},on:{input:e.changeScore},model:{value:e.score,callback:function(t){e.score=t},expression:"score"}})],1)]:[s("div",{staticClass:"ibs-review-title"},[e._v("答题自判")]),s("div",{staticClass:"ibs-review-item ibs-mt10"},[s("van-radio-group",{on:{change:e.changeStatus},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[s("van-radio",{class:["right"===e.status?"ibs-review-check":""],attrs:{name:"right"},scopedSlots:e._u([{key:"icon",fn:function(e){return[s("i",{class:["wap-icon",e.checked?"wap-icon-zhangwo1":"wap-icon-zhangwo"]})]}}])},[e._v("\n          已掌握\n          ")]),s("van-radio",{class:["wrong"===e.status?"ibs-review-check":""],attrs:{name:"wrong"},scopedSlots:e._u([{key:"icon",fn:function(e){return[s("i",{class:["wap-icon",e.checked?"wap-icon-budong1":"wap-icon-budong"]})]}}])},[e._v("\n          不太懂\n          ")])],1)],1)]],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ibs-review-title"},[this._v("\n      题目得分"),t("span",[this._v("(最低0分，最高满分)")])])}],!1,null,null,null).exports,attachementPreview:x},data:function(){return{}},props:{mode:{type:String,default:"do"},commonData:{type:Object,default:function(){return{}}},showAnalysis:{type:Boolean,default:!1},showReport:{type:Boolean,default:!1},showReview:{type:Boolean,default:!1},attachements:{type:Array,default:function(){return[]}}},computed:{},watch:{},created:function(){},methods:{getAttachmentTypeData:function(e){return this.attachements.filter((function(t){return t.module===e}))}}},q={name:"ibs-item",components:{singleChoice:o,judge:d,choice:u,essay:h,fill:p,answerModel:Object(r.a)(O,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("sectionTitle",{attrs:{questionsType:e.commonData.questionsType,score:e.commonData.score,current:e.commonData.current,showScore:e.commonData.showScore,all:e.commonData.all}}),s("stem",{attrs:{questionsType:e.commonData.questionsType,questionSeq:e.commonData.current,questionStem:e.commonData.questionStem}}),e._l(e.getAttachmentTypeData("stem"),(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})})),e._t("default"),e.showReport?s("report",e._b({attrs:{answer:e.commonData.answer,report:e.commonData.report,attachements:e.getAttachmentTypeData("answer"),answer_mode:e.commonData.questionsType}},"report",e.$attrs,!1)):e._e(),e.showAnalysis?s("analysis",e._g({attrs:{mode:e.mode,analysis:e.commonData.analysis,answer:e.commonData.answer,attachements:e.getAttachmentTypeData("analysis"),answer_mode:e.commonData.questionsType}},e.$listeners)):e._e(),e.showReview?s("review",{attrs:{needScore:e.commonData.showScore,questionId:e.commonData.questionId,questionScore:e.commonData.score}}):e._e()],2)}),[],!1,null,null,null).exports,ibsSlide:w},data:function(){return{height:0,swiperActiveIndex:0,materialAnalysis:!1}},props:{item:{type:Object,default:function(){}},mode:{type:String,default:"do"},itemUserAnswer:{type:Object,default:function(){}},needScore:{type:Boolean,default:!0},all:{type:Number,default:0},keys:{type:Array,default:function(){return[]}},itemUserReport:{type:Object,default:function(){}},wrongMode:{type:Boolean,default:!1},doLookAnalysis:{type:Boolean,default:!1},current:{type:Number,default:0},itemLength:{type:Number,default:0}},computed:{canShowAnalysis:function(){return this.doLookAnalysis&&"do"===this.mode?this.materialAnalysis:"report"===this.mode},isLast:function(){var e=this.item.questions.length-1;return"report"===this.mode&&this.wrongMode&&(e=this.item.wrongNum-1),"review"===this.mode&&(e=this.item.reviewNum-1),this.current===this.itemLength-1&&this.swiperActiveIndex===e},isFrist:function(){return 0===this.current&&0===this.swiperActiveIndex}},mounted:function(){this.setSwiperHeight()},methods:{slideChange:function(){var e="childSwiper".concat(this.item.id);this.swiperActiveIndex=this.$refs[e].$swiper.activeIndex},setSwiperHeight:function(){var e=document.getElementById("ibs-item-bank").offsetTop,t=document.documentElement.clientHeight;this.height=t-e},getUserAnwer:function(e){return"do"!==this.mode?this.itemUserAnswer.question_reports[e].response:this.itemUserAnswer.question_responses[e].response},getQuestionReport:function(e){return"do"!==this.mode?this.itemUserAnswer.question_reports[e]:{}},changeAnswer:function(e,t){this.itemUserAnswer.question_responses[t].response=[e],this.$emit("changeAnswer",this.itemUserAnswer,this.keys)},changeAnswerArray:function(e,t){this.itemUserAnswer.question_responses[t].response=e,this.$emit("changeAnswer",this.itemUserAnswer,this.keys)},getShow:function(e,t){return"report"===this.mode&&this.wrongMode?"right"!==this.itemUserReport.question_reports[e].status:"review"!==this.mode||t.reviewShow},getItemProps:function(e,t){return{mode:this.mode,keys:t,question:e,userAnwer:this.getUserAnwer(t)}},getAnswerModeProps:function(e,t){return{questionsType:e.answer_mode,score:Number(e.score)||0,current:Number(e.seq),showScore:this.needScore,all:this.all,questionStem:e.stem,answer:e.answer,report:this.getQuestionReport(t),analysis:e.analysis,doLookAnalysis:this.doLookAnalysis,questionId:e.id}},showMaterialAnalysis:function(e){"material"===this.item.type&&(this.materialAnalysis=e)},slidePrev:function(){var e="childSwiper".concat(this.item.id);this.$refs[e].$swiper.slidePrev()||this.$emit("itemSlidePrev")},slideNext:function(){var e="childSwiper".concat(this.item.id);this.$refs[e].$swiper.slideNext()||this.$emit("itemSlideNext")}}},Y=Object(r.a)(q,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.item?s("div",["material"===e.item.type?s("div",{staticClass:"ibs-material-title"},[e.item.isDelete&&1===e.item.isDelete?s("div",[e._v("\n      此题已删除\n    ")]):[s("div",{domProps:{innerHTML:e._s(e.item.material)}}),e.canShowAnalysis?s("div",{staticClass:"ibs-material-analysis"},[s("div",{staticClass:"ibs-material-analysis-title"},[e._v("解析")]),e.item.analysis?s("div",{staticClass:"ibs-material-analysis-content",domProps:{innerHTML:e._s(e.item.analysis)}}):s("div",{staticClass:"ibs-material-analysis-content"},[e._v("无解析")])]):e._e()]],2):e._e(),s("swiper",{ref:"childSwiper"+e.item.id,staticClass:"ibs-question-swiper  ibs-paper-item",attrs:{height:e.height,nested:!0,resistanceRatio:0},on:{slideChange:e.slideChange}},[e._l(e.item.questions,(function(t,n){return[e.getShow(n,t)?s("swiper-slide",{key:t.id},[1===t.isDelete?s("div",[e._v("此题已删除")]):[s("answer-model",e._b({attrs:{mode:e.mode,activeIndex:e.swiperActiveIndex,commonData:e.getAnswerModeProps(t,n),attachements:e.getItemProps(t,n).question.attachments},on:{showMaterialAnalysis:e.showMaterialAnalysis}},"answer-model",e.$attrs,!1),["single_choice"===t.answer_mode?s("singleChoice",{attrs:{itemData:e.getItemProps(t,n)},on:{changeAnswer:e.changeAnswer}}):e._e(),"true_false"===t.answer_mode?s("judge",{attrs:{itemData:e.getItemProps(t,n)},on:{changeAnswer:e.changeAnswer}}):e._e(),"choice"===t.answer_mode||"uncertain_choice"===t.answer_mode?s("choice",{attrs:{itemData:e.getItemProps(t,n)},on:{changeAnswer:e.changeAnswerArray}}):e._e(),"rich_text"===t.answer_mode?s("essay",{attrs:{itemData:e.getItemProps(t,n)},on:{changeAnswer:e.changeAnswer}}):e._e(),"text"===t.answer_mode?s("fill",{attrs:{itemData:e.getItemProps(t,n)},on:{changeAnswer:e.changeAnswerArray}}):e._e()],1)]],2):e._e()]}))],2),s("ibs-slide",{attrs:{isLast:e.isLast,isFrist:e.isFrist},on:{slidePrev:e.slidePrev,slideNext:e.slideNext}})],1):e._e()}),[],!1,null,null,null);t.a=Y.exports}}]);