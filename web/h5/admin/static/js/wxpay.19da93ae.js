(window.webpackJsonp=window.webpackJsonp||[]).push([["wxpay"],{e2cf:function(a,t,e){"use strict";e.r(t),e("e7e5");var i=e("d399"),n=e("db72"),s=e("3ce7"),r=e("2f62"),c={data:function(){return{detail:{}}},computed:Object(n.a)({},Object(r.e)(["wechatSwitch","isLoading"])),mounted:function(){var a=this.$route.query,t=a.pay_amount,e=a.title,i=a.sn,n=a.openid,s=a.targetType,r=a.targetId,c=a.payWay;this.detail={pay_amount:t,title:e,sn:i,openid:n,targetType:s,targetId:r,payWay:c}},methods:{handlePay:function(){var a=window.location.origin+window.location.pathname+"#/pay_center?targetType=".concat(this.detail.targetType,"&targetId=").concat(this.detail.targetId,"&payWay=").concat(this.detail.payWay);s.a.createTrade({data:{gateway:"WechatPay_JsH5",type:"purchase",orderSn:this.detail.sn,openid:this.detail.openid,success_url:a}}).then((function(a){var t=a.isPaid,e=a.payUrl;t?window.location.href=e:WeixinJSBridge.invoke("getBrandWCPayRequest",a.platformCreatedResult,(function(t){"get_brand_wcpay_request:ok"==t.err_msg?location.href=a.paidSuccessUrlH5:"get_brand_wcpay_request:fail"==t.err_msg?alert("支付失败"):"get_brand_wcpay_request:cancel"==t.err_msg&&alert("支付已失败")}))})).catch((function(a){i.a.fail(a.message)}))}}},d=e("2877"),o=Object(d.a)(c,(function(){var a=this,t=a._self._c;return t("div",{staticClass:"payPage"},[a.isLoading?t("e-loading"):a._e(),t("div",{staticClass:"payPage__order"},[t("div",{staticClass:"order__head"},[a._v("\n      "+a._s(a.detail.title)+"\n    ")]),t("div",{staticClass:"order__infomation"},[t("div",{staticClass:"sum"},[t("span",[a._v("待支付")]),t("span",{staticClass:"sum__price"},[a._v("¥ "),t("span",{staticClass:"num"},[a._v(a._s(a._f("toMoney")(a.detail.pay_amount)))])])])])]),t("div",{staticClass:"payPage__payBtn",on:{click:a.handlePay}},[a._v("\n    立即支付\n  ")])],1)}),[],!1,null,null,null);t.default=o.exports}}]);