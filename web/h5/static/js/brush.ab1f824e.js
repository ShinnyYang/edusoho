(window.webpackJsonp=window.webpackJsonp||[]).push([["brush"],{"3b28":function(e,t,s){"use strict";s.r(t),s("a481"),s("c5f6");var r=s("3ce7"),n=s("faa5"),a={components:{},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},height:0}},computed:{usedTime:function(){return this.answerRecord.used_time/60},isReadOver:function(){return"reviewing"===this.answerRecord.status},needScore:function(){return!!Number(this.answerScene.need_score)}},watch:{},created:function(){this.getData()},methods:{getheight:function(){var e=document.body.clientHeight-46;return document.body.scrollHeight-46>e?document.body.scrollHeight:e},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};r.a.answerRecord({query:t}).then((function(t){e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.$store.commit(n.x,e.$route.query.title),e.isLoading=!1,e.$nextTick((function(){e.height=e.getheight()}))})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))},doReview:function(){var e={title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,assessmentId:this.$route.query.assessmentId,moduleId:this.$route.query.moduleId,categoryId:this.$route.query.categoryId},t=this.$route.params.answerRecordId;this.$router.push({path:"/brushReview/".concat(t),query:e})},doAgain:function(){var e=this.$route.query.type,t={mode:"start",title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,moduleId:this.$route.query.moduleId};"chapter"===e?t.categoryId=this.$route.query.categoryId:t.assessmentId=this.$route.query.assessmentId,this.$router.replace({path:"/brushDo",query:t})},doAnalysis:function(){var e={title:this.$route.query.title},t=this.$route.params.answerRecordId;this.$router.push({path:"/brushReport/".concat(t),query:e})}}},i=s("0c7c"),o=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item-bank-result brush-exercise-report",style:{height:e.height+"px"}},[e.isLoading?s("e-loading"):e._e(),e.isReadOver?s("div",{staticClass:"notify"},[e._v("\n    ※请参考题目解析，对主观题自行估分批阅。\n  ")]):e._e(),s("div",{staticClass:"item-bank-result_content"},[e.isReadOver?s("div",{staticClass:"exercise-report-status"},[s("img",{attrs:{src:"static/images/report-review.png"}}),s("p",{staticClass:"result-text result-status_fail mt20"},[e._v("正在批阅中")])]):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}],staticClass:"result-score"},[e._v("\n      分数：\n      "),e.isReadOver?s("span",{staticClass:"result-status_fail"},[e._v("?")]):s("span",[e._v(e._s(e.answerReport.score)+"分")])]),s("div",{staticClass:"result-content"},[s("div",{staticClass:"result-content-item result-section-title"},[s("span",[e._v("题型")]),s("span",[e._v("答对题")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}]},[e._v("总分")])]),e._l(e.answerReport.section_reports,(function(t,r){return s("div",{key:r,staticClass:"result-content-item"},[s("span",[e._v(e._s(t.section_name))]),s("span",[s("i",{staticClass:"color-primary"},[e._v(e._s(t.right_question_num))]),e._v("\n          / "+e._s(t.question_count)+"\n        ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.needScore,expression:"needScore"}],staticClass:"color-primary"},[t.reviewing_question_num>0&&e.isReadOver?s("i",{staticClass:"result-status_fail"},[e._v("?\n          ")]):s("i",[e._v(e._s(t.score))])])])}))],2),s("div",{staticClass:"result-footer"},[e.isReadOver?s("div",{staticClass:"result-footer__btn",on:{click:e.doReview}},[e._v("\n        开始批阅\n      ")]):[s("div",{staticClass:"result-footer__btn result-footer__btn-border",on:{click:e.doAgain}},[e._v("\n          再次答题\n        ")]),s("div",{staticClass:"result-footer__btn",on:{click:e.doAnalysis}},[e._v("查看解析")])]],2)])],1)}),[],!1,null,null,null);t.default=o.exports},"8d5b":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("e7e5");var r=s("d399"),n=(s("c5f6"),s("bd86")),a=s("3ce7"),i=s("2f62"),o=s("faa5");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var u={components:{},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},assessmentResponse:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(i.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){this.getData()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting}},methods:{getResourceToken:function(e){return a.a.getItemDetail({params:{globalId:e}})},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};a.a.answerRecord({query:t}).then((function(t){e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.assessmentResponse=t.assessment_response,e.$store.commit(o.x,e.$route.query.title),e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))},getReviewData:function(e){var t=this;r.a.loading({message:"提交中...",forbidClick:!0});var s={exerciseId:this.$route.query.exerciseId};a.a.pushItemBankReviewReport({query:s,data:e}).then((function(e){r.a.clear(),t.goResult(e)})).catch((function(e){r.a.clear(),t.$toast(e.message)}))},goResult:function(e){this.$router.go(-1)}}},d=s("0c7c"),h=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-bank-review ibs-wap-vue"},[this.isLoading?t("e-loading"):t("item-review",{attrs:{answerRecord:this.answerRecord,answerReport:this.answerReport,assessment:this.assessment,answerScene:this.answerScene,assessmentResponse:this.assessmentResponse},on:{getReviewData:this.getReviewData}})],1)}),[],!1,null,null,null);t.default=h.exports},c94b:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("e17f");var r=s("2241"),n=(s("a481"),s("e7e5"),s("d399")),a=s("bd86"),i=s("3ce7"),o=s("2f62"),c=s("faa5");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var d={assessment:{api:"getAssessmentExerciseRecord"},chapter:{api:"getChapterExerciseRecord"}},h={mixins:[{methods:{isAuthorized:function(e){11===e.code?this.$router.replace({name:"login",query:{redirect:this.$router.currentRoute.fullPath}},(function(){window.location.reload()})):this.$toast(e.message)}}}],components:{},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerRecord:{},assessmentResponse:{},canLeave:!1,resources:[{id:"1"},{id:"2"}]}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(o.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){"start"===this.$route.query.mode?this.getStart():this.getContinue()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting}},mounted:function(){},beforeRouteLeave:function(e,t,s){this.canLeave?s():this.$refs.itemEngine.submitPaper(!0)},methods:{getContinue:function(){var e=this;this.isLoading=!0;var t={answer_record_id:this.$route.query.answer_record_id};i.a.continueAnswer({data:t}).then((function(t){e.assignData(t),e.isLoading=!1})).catch((function(t){e.handleError(t)}))},getResourceToken:function(e){return i.a.getItemDetail({params:{globalId:e}})},getStart:function(){var e=this;this.isLoading=!0;var t=this.$route.query.type,s={exerciseId:this.$route.query.exerciseId},r={moduleId:this.$route.query.moduleId};"assessment"===t?r.assessmentId=this.$route.query.assessmentId:r.categoryId=this.$route.query.categoryId,i.a[d[t].api]({query:s,data:r}).then((function(t){e.isLoading=!1,e.assignData(t)})).catch((function(t){e.handleError(t)}))},handleError:function(e){this.canLeave=!0,this.isLoading=!1,this.isAuthorized(e)},assignData:function(e){this.$store.commit(c.x,this.$route.query.title),this.assessment=e.assessment,this.answerScene=e.answer_scene,this.answerRecord=e.answer_record,this.assessmentResponse=e.assessment_response},saveAnswerData:function(e){var t=this;n.a.loading({message:"保存中...",forbidClick:!0}),e.admission_ticket=this.answerRecord.admission_ticket,i.a.saveAnswer({data:e}).then((function(e){n.a.clear(),t.canLeave=!0;var s=t.$route.query.exerciseId;t.$router.replace({path:"/item_bank_exercise/".concat(s)})})).catch((function(e){n.a.clear(),50095211!=e.code?t.$toast(e.message):r.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},getAnswerData:function(e){var t=this;n.a.loading({message:"提交中...",forbidClick:!0}),i.a.submitAnswer({data:e}).then((function(e){n.a.clear(),t.canLeave=!0,t.goResult()})).catch((function(e){n.a.clear(),50095211!=e.code?t.$toast(e.message):r.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},timeSaveAnswerData:function(e){var t=this;e.admission_ticket=this.answerRecord.admission_ticket,i.a.saveAnswer({data:e}).then((function(e){})).catch((function(e){50095211!=e.code?t.$toast(e.message):r.a.confirm({title:"您已退出题库，无法继续学习",showCancelButton:!1,confirmButtonText:"点击刷新"}).then((function(){return t.exitPage()}))}))},goResult:function(){var e={title:this.$route.query.title,type:this.$route.query.type,exerciseId:this.$route.query.exerciseId,assessmentId:this.$route.query.assessmentId,moduleId:this.$route.query.moduleId,categoryId:this.$route.query.categoryId},t=this.assessmentResponse.answer_record_id;this.$router.replace({path:"/brushResult/".concat(t),query:e})},exitPage:function(){this.canLeave=!0,this.$router.replace("/my/courses/learning?active=2")}}},l=s("0c7c"),m=Object(l.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoading?s("e-loading"):s("div",{staticClass:"ibs-wap-vue"},[s("item-engine",{ref:"itemEngine",attrs:{answerRecord:e.answerRecord,assessmentResponse:e.assessmentResponse,assessment:e.assessment,answerScene:e.answerScene},on:{saveAnswerData:e.saveAnswerData,getAnswerData:e.getAnswerData,timeSaveAnswerData:e.timeSaveAnswerData}})],1)],1)}),[],!1,null,null,null);t.default=m.exports},cf57:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("c5f6");var r=s("bd86"),n=s("3ce7"),a=s("2f62"),i=s("faa5");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}var c={components:{},data:function(){return{isLoading:!0,assessment:{},answerScene:{},answerReport:{},answerRecord:{},assessmentResponse:{}}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(r.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(a.e)({storageSetting:function(e){return e.storageSetting}})),watch:{},created:function(){this.getData()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting}},methods:{getResourceToken:function(e){return n.a.getItemDetail({params:{globalId:e}})},getData:function(){var e=this,t={answerRecordId:Number(this.$route.params.answerRecordId)};n.a.answerRecord({query:t}).then((function(t){e.$store.commit(i.x,e.$route.query.title),e.assessment=t.assessment,e.answerScene=t.answer_scene,e.answerReport=t.answer_report,e.answerRecord=t.answer_record,e.assessmentResponse=t.assessment_response,e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))}}},u=s("0c7c"),d=Object(u.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"brush-exercise-report"},[this.isLoading?t("e-loading"):[t("div",{staticClass:"ibs-wap-vue"},[t("item-report",{attrs:{answerRecord:this.answerRecord,answerReport:this.answerReport,assessment:this.assessment,answerScene:this.answerScene,assessmentResponse:this.assessmentResponse}})],1)]],2)}),[],!1,null,null,null);t.default=d.exports}}]);