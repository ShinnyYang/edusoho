(window.webpackJsonp=window.webpackJsonp||[]).push([["myActivity"],{7067:function(t,i,a){"use strict";a("e17f");var e=a("2241"),s=(a("e7e5"),a("d399")),c=a("a026"),n=a("3ce7"),o=/micromessenger/.test(navigator.userAgent.toLowerCase());i.a=function(t,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||a&&!i)s.a.fail("缺少分享参数");else{var l={domainUri:location.origin,itemUri:"",source:"h5"};n.a.marketingActivities({query:{activityId:t},data:l}).then((function(t){var n=-1!==t.url.indexOf("?")?"&":"?",l=a?"".concat(i).concat(n,"ticket=").concat(t.ticket):t.url;o?window.location.href=l:e.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{c.default.prototype.$copyText(l).then((function(){s.a.success("复制成功")}),(function(){s.a.fail("请更换浏览器复制")}))}catch(t){s.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){s.a.fail(t.message)}))}}},a262:function(t,i,a){"use strict";var e=a("7067");i.a={methods:{activityHandle:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(e.a)(t,i,a)}}}},b1c5:function(t,i,a){"use strict";a.r(i),a("e7e5");var e=a("d399"),s=a("75fc"),c=(a("7f7f"),a("c5f6"),{cut:"砍价",groupon:"拼团",seckill:"秒杀"}),n={cut:"砍",groupon:"团",seckill:"秒"},o={successed:"成功",ongoing:"中",failed:"失败"},l={name:"ActivityItem",mixins:[a("a262").a],props:{activity:{type:Object,default:function(){return{}}}},data:function(){return{type2symbol:n,type2label:c,status2label:o,activityId:Number(this.activity.activityId)}},methods:{viewDetail:function(t){}}},r=a("2877"),u=Object(r.a)(l,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"marketing-groupon activity-cell",on:{click:t.viewDetail}},[i("div",{staticClass:"activity-cell__head"},[i("span",{staticClass:"head-left",class:t.activity.type},[t._v(t._s(t.type2symbol[t.activity.type]))]),i("span",{staticClass:"head-right",class:t.activity.status},[t._v(t._s(t.type2label[t.activity.type]+t.status2label[t.activity.status]))])]),i("div",{staticClass:"activity-cell__body",on:{click:function(i){return t.activityHandle(t.activityId)}}},[i("div",{staticClass:"marketing-groupon__image-container",class:{"marketing-groupon__image-empty":!t.activity.cover}},[t.activity.cover?i("img",{staticClass:"marketing-groupon__image",attrs:{src:t.activity.cover}}):t._e()]),i("div",{staticClass:"marketing-groupon__context e-groupon__context"},[i("div",{staticClass:"context-title text-overflow"},[t._v(t._s(t.activity.name))]),i("div",{staticClass:"context-sale"},[t.activity.price?i("span",{staticClass:"context-sale__sale-price"},[t._v(t._s(t.activity.price)+"元")]):t._e(),t.activity.originPrice?i("span",{staticClass:"context-sale__origin-price"},[t._v(t._s(t.activity.originPrice)+"元")]):t._e(),i("span",{staticClass:"context-sale__shopping"},[t._v(t._s(t.type2label[t.activity.type])+"详情")])])])])])}),[],!1,null,"057b9336",null).exports,v=a("3ce7"),d={components:{activityItem:u},data:function(){return{list:[],isFirstRequestCompile:!1,loading:!1,finished:!1,offset:0}},mounted:function(){this.onLoad()},methods:{onLoad:function(){var t=this,i={offset:this.offset};v.a.myActivities({params:i}).then((function(i){var a=i.data,e=i.paging;t.isFirstRequestCompile=!0,t.list=[].concat(Object(s.a)(t.list),Object(s.a)(a)),t.offset=t.list.length,t.list.length==e.total&&(t.finished=!0),t.loading=!1})).catch((function(i){e.a.fail(i.message),t.isFirstRequestCompile=!0,t.loading=!1}))}}},f=Object(r.a)(d,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"orders"},[0===t.list.length&&t.isFirstRequestCompile?i("div",{staticClass:"orders-container__empty"},[i("img",{attrs:{src:"static/images/orderEmpty.png"}}),i("span",[t._v("暂无活动记录")])]):i("div",{staticClass:"activity"},[i("van-list",{staticClass:"tab-list",attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(t,a){return i("activity-item",{key:a,attrs:{activity:t}})})),1)],1)])}),[],!1,null,null,null);i.default=f.exports}}]);