(window.webpackJsonp=window.webpackJsonp||[]).push([["marketingWxpay"],{3093:function(e,a,t){"use strict";var n=t("6ea4");t.n(n).a},"6ea4":function(e,a,t){},8567:function(e,a,t){"use strict";t.r(a),t("e7e5");var n=t("d399"),r=(t("96cf"),t("3b8d")),s=t("3ce7"),i={name:"MarketingWXPay",data:function(){return{isLoading:!1,payInfo:{}}},computed:{isWeixinBrowser:function(){return/micromessenger/.test(navigator.userAgent.toLowerCase())}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.$route.query.payToken||""){a.next=4;break}return n.a.fail("缺少关键信息"),a.abrupt("return");case 4:return a.next=6,s.a.getMarketingPayConfig({data:{token:t}});case 6:e.payInfo=a.sent;case 7:case"end":return a.stop()}}),a)})))()},methods:{handlePay:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:WeixinJSBridge.invoke("getBrandWCPayRequest",e.payInfo.config,(function(a){"get_brand_wcpay_request:ok"==a.err_msg?window.location.href=e.payInfo.redirectUrl+"&isNeedCheckOrderStatus=1&sn=".concat(e.payInfo.sn):"get_brand_wcpay_request:fail"==a.err_msg||a.err_msg}));case 1:case"end":return a.stop()}}),a)})))()}}},o=(t("3093"),t("0c7c")),c=Object(o.a)(i,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.isWeixinBrowser?t("div",{staticClass:"marketing-wxpay"},[t("div",{staticClass:"marketing-wxpay__title"},[e._v(e._s(e.$t("marketingPay.amountLabel")))]),t("div",{staticClass:"marketing-wxpay__amount"},[t("span",{staticClass:"amount-unit"},[e._v("￥")]),t("span",{staticClass:"amount-number"},[e._v(e._s(e.payInfo.amount))])]),t("div",{staticClass:"marketing-wxpay__info"},[t("div",{staticClass:"info-label"},[e._v(e._s(e.$t("marketingPay.orderSnLabel")))]),t("div",{staticClass:"info-desc"},[e._v(e._s(e.payInfo.orderSn))])]),t("div",{staticClass:"marketing-wxpay__info",staticStyle:{border:"none"}},[t("div",{staticClass:"info-label"},[e._v(e._s(e.$t("marketingPay.acceptLabel")))]),t("div",{staticClass:"info-desc"},[e._v(e._s(e.payInfo.siteName))])]),t("div",{staticClass:"pay-btn",on:{click:e.handlePay}},[e._v("\n    "+e._s(e.$t("marketingPay.payNow"))+"\n  ")])]):e._e()}),[],!1,null,"66799366",null);a.default=c.exports}}]);