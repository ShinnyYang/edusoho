(window.webpackJsonp=window.webpackJsonp||[]).push([["certificate"],{"2d31":function(t,e,i){"use strict";i.r(e),i("7f7f");var a=i("db72"),c=(i("e7e5"),i("d399")),s=i("3ce7"),r=i("2f62"),n={data:function(){return{certificates:[]}},methods:{toCertificateDetail:function(t){this.$router.push({path:"/certificate/detail/".concat(t)})}},created:function(){var t=this;s.a.certificates({params:{targetId:this.$route.params.id}}).then((function(e){t.certificates=e.data})).catch((function(t){c.a.fail(t.message)}))},computed:Object(a.a)({},Object(r.e)({isLoading:function(t){return t.isLoading}}))},f=i("2877"),o=Object(f.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"certificate-list"},[t.isLoading?e("e-loading"):t._e(),t._l(t.certificates,(function(i,a){return e("div",{key:a,staticClass:"certificate-list__item",on:{click:function(e){return t.toCertificateDetail(i.id)}}},[t._m(0,!0),e("div",{staticClass:"certificate-list__item__info"},[e("p",{staticClass:"title"},[e("span",{staticClass:"text-overflow text"},[t._v(t._s(i.name))]),i.isObtained?e("span",{staticClass:"acquired"},[t._v("已获取")]):e("span",{staticClass:"obtain"},[t._v("待获取")])]),"classroom"==i.targetType?e("p",{staticClass:"condition text-overflow"},[t._v("\n        通过完成班级学习可以获得\n      ")]):t._e(),"course"==i.targetType?e("p",{staticClass:"condition text-overflow"},[t._v("\n        通过完成课程学习可以获得\n      ")]):t._e()]),t._m(1,!0)])}))],2)}),[function(){var t=this._self._c;return t("div",{staticClass:"certificate-list__item__img"},[t("img",{attrs:{src:"static/images/certificate.png",alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"certificate-list__item__more"},[t("i",{staticClass:"van-icon van-icon-arrow pull-right"})])}],!1,null,null,null);e.default=o.exports},"944d":function(t,e,i){"use strict";i.r(e),i("7f7f");var a=i("db72"),c=(i("e7e5"),i("d399")),s=i("3ce7"),r=i("faa5"),n=i("2f62"),f={data:function(){return{certificate:{}}},created:function(){var t=this;s.a.certificatesDetail({query:{certificateId:this.$route.params.id}}).then((function(e){t.certificate=e,t.setNavBarTitle(e.name)})).catch((function(t){c.a.fail(t.message)}))},computed:Object(a.a)({},Object(n.e)({isLoading:function(t){return t.isLoading}})),methods:Object(a.a)({},Object(n.d)({setNavBarTitle:r.x}))},o=i("2877"),l=Object(o.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"course-certificate-detail"},[t.isLoading?e("e-loading"):t._e(),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("证书名称")]),e("div",{staticClass:"ccd-item__body"},[t._v("\n      "+t._s(t.certificate.name)+"\n      "),t.certificate.isObtained?e("span",{staticClass:"acquired"},[t._v("已获取")]):e("span",{staticClass:"obtain"},[t._v("待获取")])])]),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("证书简介")]),e("div",{staticClass:"ccd-item__body",domProps:{innerHTML:t._s(t.certificate.description)}})]),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("获取途径")]),"course"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      通过参加"+t._s(t.certificate.course.courseSetTitle)+"可以获得。\n    ")]):t._e(),"classroom"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      通过参加"+t._s(t.certificate.classroom.title)+"可以获得。\n    ")]):t._e()]),e("div",{staticClass:"ccd-item ccd-item--noborder"},[e("h3",{staticClass:"ccd-item__title"},[t._v("获取条件")]),"course"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      完成课程全部任务\n    ")]):t._e(),"classroom"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      完成班级全部任务\n    ")]):t._e()])],1)}),[],!1,null,null,null);e.default=l.exports},b097:function(t,e,i){"use strict";i.r(e);var a=i("db72"),c=(i("e7e5"),i("d399")),s=(i("7f7f"),i("6b54"),i("2f62")),r={props:{certificate:{type:Object,default:function(){return{}}}},filters:{formatSlashTime:function(t){var e=new Date(t);return[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(t){return(t=t.toString())[1]?t:"0"+t})).join("/")}},methods:{toCertificateDetail:function(t){this.$router.push({path:"/certificate_records/".concat(t)})}},computed:Object(a.a)({},Object(s.e)({isLoading:function(t){return t.isLoading}}))},n=i("2877"),f=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"certificate-item"},[t.isLoading?e("e-loading"):t._e(),t._m(0),e("div",{staticClass:"certificate-item__right item-right"},[e("p",{staticClass:"item-right__title"},[t._v(t._s(t.certificate.certificate.name))]),e("p",{staticClass:"item-right__time"},[t._v("\n      "+t._s(t.$t("certificate.getTime"))+"："+t._s(t._f("formatSlashTime")(t.certificate.issueTime))+"\n    ")]),e("p",{staticClass:"item-right__time"},[t._v("\n      "+t._s(t.$t("certificate.effectiveTime"))+"："),0==t.certificate.expiryTime?e("span",{staticClass:"item-right__time--green"},[t._v(t._s(t.$t("certificate.longTermEffective")))]):"expired"==t.certificate.status?e("span",{staticClass:"item-right__time--red"},[t._v(t._s(t._f("formatSlashTime")(t.certificate.expiryTime))+"\n        "),e("span",[t._v(t._s(t.$t("certificate.expired")))])]):"valid"==t.certificate.status?e("span",{staticClass:"item-right__time--green"},[t._v(t._s(t._f("formatSlashTime")(t.certificate.expiryTime))+"\n        "),e("span",[t._v(t._s(t.$t("certificate.effective")))])]):t._e()]),e("div",{staticClass:"item-right__show",on:{click:function(e){return t.toCertificateDetail(t.certificate.id)}}},[t._v("\n      "+t._s(t.$t("certificate.details"))+"\n    ")])])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"certificate-item__left"},[t("img",{attrs:{src:"static/images/certificate.png",alt:""}})])}],!1,null,null,null).exports,o=i("3ce7"),l={data:function(){return{certificates:[]}},components:{CertificateItem:f},created:function(){var t=this;o.a.meCertificate().then((function(e){t.certificates=e.data})).catch((function(t){c.a.fail(t.message)}))},computed:Object(a.a)({},Object(s.e)({isLoading:function(t){return t.isLoading}}))},_=Object(n.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"certificate"},[t.isLoading?e("e-loading"):t._e(),t._l(t.certificates,(function(i,a){return e("div",{key:a,staticClass:"certificate-year",class:[a+1==t.certificates.length?"lastChild":""]},[e("p",{staticClass:"certificate-year__title"},[t._v(t._s(i.issueYear))]),t._l(i.certificateRecords,(function(t,a){return e("certificate-item",{key:t.id,class:[0==a?"firstChild":"",a+1==i.certificateRecords.length?"lastChild":""],attrs:{certificate:t}})}))],2)}))],2)}),[],!1,null,null,null);e.default=_.exports},c3f3:function(t,e,i){"use strict";i.r(e),i("7f7f"),i("f386"),i("e7e5");var a=i("d399"),c=i("db72"),s=(i("6b54"),i("3ce7")),r=i("faa5"),n=i("2f62"),f={data:function(){return{certificate:{},userInfo:{},isUser:!1}},filters:{formatSlashTime:function(t){var e=new Date(t);return[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(t){return(t=t.toString())[1]?t:"0"+t})).join("/")}},computed:Object(c.a)(Object(c.a)({},Object(n.e)({isLoading:function(t){return t.isLoading}})),Object(n.e)(["user"])),methods:Object(c.a)(Object(c.a)({},Object(n.d)({setNavBarTitle:r.x})),{},{getUserInfo:function(t){var e=this;s.a.getCertificateUserInfo({query:{userId:t}}).then((function(t){e.userInfo=t,t.nickname==e.user.nickname?e.isUser=!0:e.isUser=!1}))}}),created:function(){var t=this;s.a.certificateRecords({query:{certificateRecordId:this.$route.params.id}}).then((function(e){t.certificate=e,t.setNavBarTitle(e.certificate.name),t.getUserInfo(e.userId)})).catch((function(t){a.a.fail(t.message)}))}},o=i("2877"),l=Object(o.a)(f,(function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("e-loading"):t._e(),e("div",{staticClass:"certificate-detail"},[e("h3",{staticClass:"certificate-detail__title"},[t._v(t._s(t.$t("certificate.certifiedObject")))]),e("div",{staticClass:"certificate-user clearfix"},[e("div",{staticClass:"certificate-user__img pull-left"},[t.userInfo.avatar?e("img",{attrs:{src:t.userInfo.avatar.small}}):t._e()]),e("div",{staticClass:"certificate-user__info pull-left"},[e("p",[t._v(t._s(t.$t("certificate.name"))+"："+t._s(t.certificate.truename))]),e("p",[t._v(t._s(t.$t("certificate.username"))+"："+t._s(t.userInfo.nickname))])])])]),e("div",{staticClass:"certificate-detail"},[e("h3",{staticClass:"certificate-detail__title"},[t._v(t._s(t.$t("certificate.information")))]),e("div",{staticClass:"certificate-info"},[t.certificate.certificate?e("p",{staticClass:"certificate-info__item"},[t._v("\n        "+t._s(t.$t("certificate.certificateName"))+"："+t._s(t.certificate.certificate.name)+"\n      ")]):t._e(),e("p",{staticClass:"certificate-info__item"},[t._v("\n        "+t._s(t.$t("certificate.certificateNumber"))+"："+t._s(t.certificate.certificateCode)+"\n      ")]),e("p",{staticClass:"certificate-info__item"},[t._v("\n        "+t._s(t.$t("certificate.getTime2"))+"："+t._s(t._f("formatSlashTime")(t.certificate.issueTime))+"\n      ")]),e("p",{staticClass:"certificate-info__item certificate-info__time"},[t._v("\n        "+t._s(t.$t("certificate.effectiveTime2"))+"："),0==t.certificate.expiryTime?e("span",{staticClass:"item-right__time--green"},[t._v(t._s(t.$t("certificate.longTermEffective")))]):"expired"==t.certificate.status?e("span",{staticClass:"item-right__time--red"},[t._v(t._s(t._f("formatSlashTime")(t.certificate.expiryTime))+"\n          "),e("span",[t._v(t._s(t.$t("certificate.expired")))])]):"valid"==t.certificate.status?e("span",{staticClass:"item-right__time--green"},[t._v(t._s(t._f("formatSlashTime")(t.certificate.expiryTime))+"\n          "),e("span",[t._v(t._s(t.$t("certificate.effective")))])]):t._e()]),e("div",{staticClass:"certificate-info__img"},[e("img",{attrs:{src:t.certificate.qrcodeUrl}})])])]),e("div",{staticClass:"certificate-detail certificate-detail--border"},[e("div",{staticClass:"certificate-detail__img"},[e("img",{attrs:{src:t.certificate.imgUrl}})]),t.isUser?e("a",{staticClass:"certificate-detail__download",attrs:{href:"javascript:;"}},[t._v("\n      "+t._s(t.$t("certificate.longPressToSaveThePicture"))+"\n    ")]):t._e()])],1)}),[],!1,null,null,null);e.default=l.exports},f1f1:function(t,e,i){"use strict";i.r(e),i("7f7f"),i("e7e5");var a=i("d399"),c=i("db72"),s=i("3ce7"),r=i("2f62"),n={data:function(){return{certificate:{},token:"",headers:{}}},created:function(){this.getUserInfo()},computed:Object(c.a)({},Object(r.e)({isLoading:function(t){return t.isLoading}})),methods:{getCertificate:function(){var t=this;this.token?this.headers={"Content-Type":"application/x-www-form-urlencoded","X-Auth-Token":this.token}:this.headers={"Content-Type":"application/x-www-form-urlencoded"},s.a.certificatesDetail({query:{certificateId:this.$route.params.id},headers:this.headers}).then((function(e){t.certificate=e,t.setTitle(e.name)})).catch((function(t){a.a.fail(t.message)}))},setTitle:function(t){window.postNativeMessage({action:"kuozhi_native_header",data:{title:t}})},getUserInfo:function(){var t=this;window.nativeCallback=function(e){t.token=e.token,t.getCertificate()},window.postNativeMessage({action:"kuozhi_login_user",data:{force:0}})}}},f=i("2877"),o=Object(f.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"course-certificate-detail"},[t.isLoading?e("e-loading"):t._e(),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("证书名称")]),e("div",{staticClass:"ccd-item__body"},[t._v("\n      "+t._s(t.certificate.name)+"\n      "),t.certificate.isObtained?e("span",{staticClass:"acquired"},[t._v("已获取")]):e("span",{staticClass:"obtain"},[t._v("待获取")])])]),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("证书简介")]),e("div",{staticClass:"ccd-item__body",domProps:{innerHTML:t._s(t.certificate.description)}})]),e("div",{staticClass:"ccd-item"},[e("h3",{staticClass:"ccd-item__title"},[t._v("获取途径")]),"course"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      通过参加"+t._s(t.certificate.course.courseSetTitle)+"可以获得。\n    ")]):t._e(),"classroom"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      通过参加"+t._s(t.certificate.classroom.title)+"可以获得。\n    ")]):t._e()]),e("div",{staticClass:"ccd-item ccd-item--noborder"},[e("h3",{staticClass:"ccd-item__title"},[t._v("获取条件")]),"course"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      完成课程全部任务\n    ")]):t._e(),"classroom"==t.certificate.targetType?e("div",{staticClass:"ccd-item__body"},[t._v("\n      完成班级全部任务\n    ")]):t._e()])],1)}),[],!1,null,null,null);e.default=o.exports},f386:function(t,e,i){"use strict";i("386b")("small",(function(t){return function(){return t(this,"small","","")}}))}}]);