(window.webpackJsonp=window.webpackJsonp||[]).push([["classroom~course~courseTry"],{4127:function(t,e,s){"use strict";var i=s("d233"),r=s("b313"),n={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,o=Array.prototype.push,c=function(t,e){o.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,s,r,n,o,l,p,d,f,h,y,m){var v=e;if("function"==typeof p?v=p(s,v):v instanceof Date&&(v=h(v)),null===v){if(n)return l&&!m?l(s,u.encoder):s;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||i.isBuffer(v))return l?[y(m?s:l(s,u.encoder))+"="+y(l(v,u.encoder))]:[y(s)+"="+y(String(v))];var b,g=[];if(void 0===v)return g;if(a(p))b=p;else{var _=Object.keys(v);b=d?_.sort(d):_}for(var k=0;k<b.length;++k){var w=b[k];o&&null===v[w]||(a(v)?c(g,t(v[w],r(s,w),r,n,o,l,p,d,f,h,y,m)):c(g,t(v[w],s+(f?"."+w:"["+w+"]"),r,n,o,l,p,d,f,h,y,m)))}return g};t.exports=function(t,e){var s=t,o=e?i.assign({},e):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===o.delimiter?u.delimiter:o.delimiter,d="boolean"==typeof o.strictNullHandling?o.strictNullHandling:u.strictNullHandling,f="boolean"==typeof o.skipNulls?o.skipNulls:u.skipNulls,h="boolean"==typeof o.encode?o.encode:u.encode,y="function"==typeof o.encoder?o.encoder:u.encoder,m="function"==typeof o.sort?o.sort:null,v=void 0!==o.allowDots&&o.allowDots,b="function"==typeof o.serializeDate?o.serializeDate:u.serializeDate,g="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:u.encodeValuesOnly;if(void 0===o.format)o.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,o.format))throw new TypeError("Unknown format option provided.");var _,k,w=r.formatters[o.format];"function"==typeof o.filter?s=(k=o.filter)("",s):a(o.filter)&&(_=k=o.filter);var j,O=[];if("object"!=typeof s||null===s)return"";j=o.arrayFormat in n?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var T=n[j];_||(_=Object.keys(s)),m&&_.sort(m);for(var C=0;C<_.length;++C){var S=_[C];f&&null===s[S]||c(O,p(s[S],S,T,d,f,h?y:null,k,m,v,b,w,g))}var x=O.join(l),L=!0===o.addQueryPrefix?"?":"";return x.length>0?L+x:""}},4328:function(t,e,s){"use strict";var i=s("4127"),r=s("9e6a"),n=s("b313");t.exports={formats:n,parse:r,stringify:i}},7067:function(t,e,s){"use strict";s("e17f");var i=s("2241"),r=(s("e7e5"),s("d399")),n=s("a026"),a=s("3ce7"),o=/micromessenger/.test(navigator.userAgent.toLowerCase());e.a=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||s&&!e)r.a.fail("缺少分享参数");else{var c={domainUri:location.origin,itemUri:"",source:"h5"};a.a.marketingActivities({query:{activityId:t},data:c}).then((function(t){var a=-1!==t.url.indexOf("?")?"&":"?",c=s?"".concat(e).concat(a,"ticket=").concat(t.ticket):t.url;o?window.location.href=c:i.a.confirm({message:"去微信完成活动",confirmButtonText:"复制链接",title:""}).then((function(){try{n.default.prototype.$copyText(c).then((function(){r.a.success("复制成功")}),(function(){r.a.fail("请更换浏览器复制")}))}catch(t){r.a.fail("请更换浏览器复制")}})).catch((function(){}))})).catch((function(t){r.a.fail(t.message)}))}}},"96e0":function(t,e,s){},"9e6a":function(t,e,s){"use strict";var i=s("d233"),r=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e,s){if(t){var i=s.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(i),o=a?i.slice(0,a.index):i,c=[];if(o){if(!s.plainObjects&&r.call(Object.prototype,o)&&!s.allowPrototypes)return;c.push(o)}for(var l=0;null!==(a=n.exec(i))&&l<s.depth;){if(l+=1,!s.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!s.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(t,e,s){for(var i=e,r=t.length-1;r>=0;--r){var n,a=t[r];if("[]"===a&&s.parseArrays)n=[].concat(i);else{n=s.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(o,10);s.parseArrays||""!==o?!isNaN(c)&&a!==o&&String(c)===o&&c>=0&&s.parseArrays&&c<=s.arrayLimit?(n=[])[c]=i:"__proto__"!==o&&(n[o]=i):n={0:i}}i=n}return i}(c,e,s)}};t.exports=function(t,e){var s=e?i.assign({},e):{};if(null!==s.decoder&&void 0!==s.decoder&&"function"!=typeof s.decoder)throw new TypeError("Decoder has to be a function.");if(s.ignoreQueryPrefix=!0===s.ignoreQueryPrefix,s.delimiter="string"==typeof s.delimiter||i.isRegExp(s.delimiter)?s.delimiter:n.delimiter,s.depth="number"==typeof s.depth?s.depth:n.depth,s.arrayLimit="number"==typeof s.arrayLimit?s.arrayLimit:n.arrayLimit,s.parseArrays=!1!==s.parseArrays,s.decoder="function"==typeof s.decoder?s.decoder:n.decoder,s.allowDots="boolean"==typeof s.allowDots?s.allowDots:n.allowDots,s.plainObjects="boolean"==typeof s.plainObjects?s.plainObjects:n.plainObjects,s.allowPrototypes="boolean"==typeof s.allowPrototypes?s.allowPrototypes:n.allowPrototypes,s.parameterLimit="number"==typeof s.parameterLimit?s.parameterLimit:n.parameterLimit,s.strictNullHandling="boolean"==typeof s.strictNullHandling?s.strictNullHandling:n.strictNullHandling,""===t||null===t||void 0===t)return s.plainObjects?Object.create(null):{};for(var o="string"==typeof t?function(t,e){for(var s={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,o=i.split(e.delimiter,a),c=0;c<o.length;++c){var l,u,p=o[c],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(l=e.decoder(p,n.decoder),u=e.strictNullHandling?null:""):(l=e.decoder(p.slice(0,f),n.decoder),u=e.decoder(p.slice(f+1),n.decoder)),r.call(s,l)?s[l]=[].concat(s[l]).concat(u):s[l]=u}return s}(t,s):t,c=s.plainObjects?Object.create(null):{},l=Object.keys(o),u=0;u<l.length;++u){var p=l[u],d=a(p,o[p],s);c=i.merge(c,d,s)}return i.compact(c)}},a556:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s("e7e5");var i=s("d399"),r=s("6647"),n=function(t){switch(t){case"course":Object(i.a)(r.a.t("goods.courseClosedToast"));break;case"classroom":Object(i.a)(r.a.t("goods.classroomClosedToast"));break;case"exercise":Object(i.a)(r.a.t("goods.exerciseClosedToast"))}}},b127:function(t,e,s){"use strict";s("c5f6"),s("e7e5");var i=s("d399"),r=(s("6762"),s("2fdb"),s("ac6a"),s("db72")),n=s("2f62"),a=s("0d25"),o=s("faa5"),c={mixins:[s("d863").a],props:{hiddeTitle:{type:Boolean,default:!1},errorMsg:{type:String,default:""}},data:function(){return{directoryArray:[],chapters:[],tasks:[],unit:[],optionalMap:[],unitShow:{},firstLesson:""}},computed:Object(r.a)(Object(r.a)(Object(r.a)({},Object(n.e)("course",{details:function(t){return t.details},joinStatus:function(t){return t.joinStatus},courseLessons:function(t){return t.courseLessons},selectedPlanId:function(t){return t.selectedPlanId}})),Object(n.e)(["courseSettings","user"])),{},{currentCourseType:function(){return Number(this.details.parentId)?this.$t("courseLearning.classroom"):this.$t("courseLearning.course")},liveClass:function(){return function(t){var e=(new Date).getTime(),s=new Date(1e3*t.startTime),i=new Date(1e3*t.endTime);return e<=s?"grey-medium":e>i?"ungenerated"===t.activity.replayStatus?"live-done":"live-replay":"living"}}}),watch:{selectedPlanId:{deep:!0,immediate:!0,handler:function(t){var e=this;if(console.log(t),this.courseLessons.length){var s=0,i=0,r=0;this.directoryArray=this.courseLessons.map((function(t){if(e.firstLesson||(e.firstLesson=t.type),s++,e.$set(t,"show",!0),"chapter"===t.type&&(r++,s=0),"unit"===t.type&&(i=s-1),"lesson"===t.type){var n="chapter"===e.firstLesson?Math.max(r-1,0):Math.max(r,0),a=i;e.$set(t,"show","".concat(n,"-").concat(a))}return t})),this.getTasks(this.directoryArray)}}}},methods:Object(r.a)(Object(r.a)({},Object(n.d)("course",{setSourceType:o.A})),{},{lessonToggle:function(t,e){var s="".concat(t,"-").concat(e);this.$set(this.unitShow,s,!this.unitShow[s])},filterNumber:function(t,e,s){return s?"":"1"===t.isOptional?this.$t("courseLearning.optional"):e+1},getTasks:function(t){var e=this,s=[],i=0,r=0;this.chapters=[],this.tasks=[],this.unit=[],this.optionalMap=[],t.forEach((function(t){if("lesson"==t.type&&(r++,i=Number(t.isOptional)?++i:i,e.optionalMap[r]=i,t.tasks.forEach((function(t){t.tagStatus=e.getCurrentStatus(t)}))),"chapter"!==t.type){if("unit"===t.type){var n="chapter"===e.firstLesson?e.chapters.length-1:e.chapters.length,a=s.length;e.$set(e.unitShow,"".concat(n,"-").concat(a),!0),e.unit.push(t)}s.push(t)}else s.length>0?(e.tasks.push([].concat(s)),s=[]):e.chapters.length>0&&e.tasks.push([]),e.chapters.push(t)})),this.unit.length&&"chapter"===this.firstLesson||this.$set(this.unitShow,"".concat(0,"-",0),!0),"chapter"!==t[t.length-1].type&&this.tasks.push(s),"chapter"!==t[0].type&&this.chapters.unshift({show:!0})},getCurrentStatus:function(t){return Number(t.isFree)?"is-free":Number(this.details.tryLookable)&&"video"===t.type&&t.activity.mediaStorage?"is-tryLook":""},filterTaskStatus:function(t){return this.details.member||"is-free"!==t.tagStatus?this.details.member||"is-tryLook"!==t.tagStatus?"":this.$t("courseLearning.preview"):this.$t("courseLearning.free")},lessonCellClick:function(t){if(this.errorMsg||"create"===t.status)this.$emit("showDialog");else if(!this.details.allowAnonymousPreview&&this.$router.push({name:"login",query:{redirect:this.redirect}}),!this.joinStatus&&["is-tryLook","is-free"].includes(t.tagStatus))switch(t.type){case"video":case"audio":case"ppt":this.$router.push({name:"course_try"}),this.setSourceType({sourceType:t.type,taskId:t.id});break;case"doc":case"text":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,preview:1}});break;default:return Object(i.a)("".concat(this.$t("courseLearning.pleaseJoinFirst")).concat(this.currentCourseType))}else this.joinStatus?this.showTypeDetail(t):Object(i.a)("".concat(this.$t("courseLearning.pleaseJoinFirst")).concat(this.currentCourseType))},showTypeDetail:function(t){if("published"===t.status)switch(t.type){case"video":"self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(i.a)(this.$t("courseLearning.doesNotSupportThisType"));break;case"audio":this.setSourceType({sourceType:"audio",taskId:t.id});break;case"ppt":this.setSourceType({sourceType:"ppt",taskId:t.id});break;case"text":case"doc":this.$router.push({name:"course_web",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type}});break;case"live":var e=!1;if(new Date>new Date(1e3*t.endTime)){if("videoGenerated"==t.activity.replayStatus)return void("self"===t.mediaSource?this.setSourceType({sourceType:"video",taskId:t.id}):Object(i.a)(this.$t("courseLearning.doesNotSupportThisType")));if("ungenerated"==t.activity.replayStatus)return void Object(i.a)(this.$t("courseLearning.noReplay"));e=!0}this.$router.push({name:"live",query:{courseId:this.selectedPlanId,taskId:t.id,type:t.type,title:t.title,replay:e}});break;default:Object(i.a)(this.$t("courseLearning.doesNotSupportThisType"))}else Object(i.a)(this.$t("courseLearning.stayTuned"))}}),filters:{liveStatusText:function(t){var e=(new Date).getTime(),s=new Date(1e3*t.startTime),i=new Date(1e3*t.endTime);return e<=s?Object(a.formatCompleteTime)(s):e>i?"ungenerated"===t.activity.replayStatus?"已结束":"回放":"直播中"}}},l=s("2877"),u=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("e-panel",{staticClass:"directory",attrs:{"hidde-title":t.hiddeTitle,title:t.$t("courseLearning.catalogue")}},[0==t.courseLessons.length?e("div",{staticClass:"empty"},[t._v(t._s(t.$t("courseLearning.noLearningTasks")))]):e("div",{staticClass:"directory-list"},t._l(t.chapters,(function(s,i){return e("div",{key:i,staticClass:"directory-list__item"},["chapter"===s.type?e("div",{staticClass:"directory-list__item-chapter",on:{click:function(t){s.show=!s.show}}},[e("span",{staticClass:"text-overflow"},[t._v("第"+t._s(s.number)+t._s(t.courseSettings.chapter_name)+"："+t._s(s.title))]),e("i",{class:[s.show?"icon-packup":"icon-unfold"]})]):t._e(),t._l(t.tasks[i],(function(r,n){return e("div",{key:n,class:["directory-list__item-unit",{"unit-show":s.show||s.show&&"lesson"===t.tasks[i][0].type}]},["unit"===r.type?e("div",{staticClass:"lesson-cell__unit"},[e("span",{staticClass:"lesson-cell__unit-title text-overflow"},[t._v("第"+t._s(r.number)+t._s(t.courseSettings.part_name)+"："+t._s(r.title))]),e("i",{class:[t.unitShow["".concat(i,"-").concat(n)]?"icon-packup":"icon-unfold"],on:{click:function(e){return t.lessonToggle(i,n)}}})]):t._e(),"lesson"===r.type?e("div",{staticClass:"lesson-cell__hour text-overflow",class:{"lesson-show":t.unitShow[r.show]||"lesson"===t.tasks[i][0].type}},[r.tasks.length>1?e("div",[e("div",{staticClass:"lesson-cell__lesson text-overflow"},[e("i",{staticClass:"h5-icon h5-icon-dot color-primary text-18"}),e("span",[t._v(t._s(Number(r.isOptional)?t.$t("courseLearning.optional"):t.$t("courseLearning.lesson"))+"\n                "+t._s(Number(r.isOptional)?" ":"".concat(r.number-t.optionalMap[r.number],"："))+t._s(r.title))])]),t._l(r.tasks,(function(s,i){return e("div",{key:i,class:["box","show-box"]},[e("div",{staticClass:"lesson-cell"},[Number(r.isOptional)?t._e():e("span",{staticClass:"lesson-cell__number pull-left"},[t._v(t._s(t.filterNumber(s,i)))]),e("div",{class:["lesson-cell__content","live"===r.tasks[i].type?"pr10":""],on:{click:function(e){return t.lessonCellClick(s)}}},[e("div",{staticClass:"lesson-cell__text"},[e("span",{staticClass:"text-overflow"},[t._v(t._s(s.title))]),"live"===r.tasks[i].type&&"published"===r.tasks[i].status?e("span",{class:[t.liveClass(r.tasks[i]),"live-text","ml5"]},[t._v(t._s(t._f("liveStatusText")(r.tasks[i])))]):t._e()]),e("span",{staticClass:"lesson-cell-last__text"},[t._v(t._s(t._f("taskType")(s))+t._s(t._f("filterTask")(s)))])]),t.details.member?t._e():e("div",{class:["lesson-cell__status",t.details.member?"":s.tagStatus]},[t._v("\n                  "+t._s(t.filterTaskStatus(s))+"\n                ")])])])}))],2):t._e(),1===r.tasks.length?e("div",[e("div",{staticClass:"lesson-cell__lesson text-overflow",on:{click:function(e){return t.lessonCellClick(r.tasks[0])}}},[e("i",{staticClass:"h5-icon h5-icon-dot color-primary text-18 pull-left"}),e("div",{staticClass:"lesson-cell__text"},[e("span",{staticClass:"pl3 text-overflow"},[t._v(t._s(Number(r.isOptional)?t.$t("courseLearning.optional"):t.$t("courseLearning.lesson"))+"\n                  "+t._s(Number(r.isOptional)?" ":"".concat(r.number-t.optionalMap[r.number],"："))+t._s(r.tasks[0].title))]),"published"===r.tasks[0].status&&"live"===r.tasks[0].type?e("span",{class:[t.liveClass(r.tasks[0]),"live-text","ml5"]},[t._v(t._s(t._f("liveStatusText")(r.tasks[0])))]):t._e()]),e("div",{staticClass:"lesson-cell"},[e("span",{staticClass:"lesson-cell__number"},[t._v(t._s(t.filterNumber(r.tasks[0],0,!0)))]),e("div",{staticClass:"lesson-cell__content pl3"},[e("span",{staticClass:"lesson-cell-last__text"},[t._v(t._s(t._f("taskType")(r.tasks[0]))+t._s(t._f("filterTask")(r.tasks[0])))])]),t.details.member?t._e():e("div",{class:["lesson-cell__status",t.details.member?"":r.tasks[0].tagStatus]},[t._v("\n                  "+t._s(t.filterTaskStatus(r.tasks[0]))+"\n                ")])])])]):t._e()]):t._e()])}))],2)})),0)])}),[],!1,null,null,null);e.a=u.exports},b313:function(t,e,s){"use strict";var i=String.prototype.replace,r=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},bced:function(t,e,s){"use strict";s("b54a");var i={name:"ETagLink",props:{tagData:{type:Object,default:{earnings:0,isShow:!1,link:"",className:"",minDirectRewardRatio:0}}}},r=s("2877"),n=Object(r.a)(i,(function(){var t=this._self._c;return this.tagData.isShow?t("div",{staticClass:"e-tag-link",class:this.tagData.className},[t("a",{attrs:{href:this.tagData.link}},[t("span",[this._v("赚"+this._s(this.tagData.earnings)+"元")])])]):this._e()}),[],!1,null,null,null);e.a=n.exports},d233:function(t,e,s){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),n=function(t,e){for(var s=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(s[i]=t[i]);return s};t.exports={arrayToObject:n,assign:function(t,e){return Object.keys(e).reduce((function(t,s){return t[s]=e[s],t}),t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],s=[],i=0;i<e.length;++i)for(var r=e[i],n=r.obj[r.prop],a=Object.keys(n),o=0;o<a.length;++o){var c=a[o],l=n[c];"object"==typeof l&&null!==l&&-1===s.indexOf(l)&&(e.push({obj:n,prop:c}),s.push(l))}return function(t){for(var e;t.length;){var s=t.pop();if(e=s.obj[s.prop],Array.isArray(e)){for(var i=[],r=0;r<e.length;++r)void 0!==e[r]&&i.push(e[r]);s.obj[s.prop]=i}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),s="",i=0;i<e.length;++i){var n=e.charCodeAt(i);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?s+=e.charAt(i):n<128?s+=r[n]:n<2048?s+=r[192|n>>6]+r[128|63&n]:n<55296||n>=57344?s+=r[224|n>>12]+r[128|n>>6&63]+r[128|63&n]:(i+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(i)),s+=r[240|n>>18]+r[128|n>>12&63]+r[128|n>>6&63]+r[128|63&n])}return s},isBuffer:function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,s,r){if(!s)return e;if("object"!=typeof s){if(Array.isArray(e))e.push(s);else{if(!e||"object"!=typeof e)return[e,s];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,s))&&(e[s]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(s);var a=e;return Array.isArray(e)&&!Array.isArray(s)&&(a=n(e,r)),Array.isArray(e)&&Array.isArray(s)?(s.forEach((function(s,n){if(i.call(e,n)){var a=e[n];a&&"object"==typeof a&&s&&"object"==typeof s?e[n]=t(a,s,r):e.push(s)}else e[n]=s})),e):Object.keys(s).reduce((function(e,n){var a=s[n];return i.call(e,n)?e[n]=t(e[n],a,r):e[n]=a,e}),a)}}},d863:function(t,e,s){"use strict";s("a481");var i=s("db72"),r=s("7067"),n=s("3ce7"),a=s("faa5"),o=s("2f62");e.a={data:function(){return{redirect:""}},computed:Object(i.a)({},Object(o.e)({user:function(t){return t.user}})),created:function(){this.redirect=decodeURIComponent(this.$route.fullPath)},methods:Object(i.a)(Object(i.a)({},Object(o.d)([a.w])),{},{afterLogin:function(){var t=this;this.checkMobileBind().then((function(e){var s=e.is_bind_mobile,i=e.mobile_bind_mode;t[a.w]({is_bind_mobile:s,mobile_bind_mode:i}),s||"closed"===i?setTimeout(t.jumpAction,1e3):t.$router.replace({name:"binding",query:{redirect:t.$route.query.redirect}})})).catch((function(){setTimeout(t.jumpAction,1e3)}))},jumpAction:function(){var t=this.$route.query.redirect?decodeURIComponent(this.$route.query.redirect):"/",e=this.$route.query.skipUrl?decodeURIComponent(this.$route.query.skipUrl):"",s=this.$route.query.callbackType,i=this.$route.query.activityId,n=decodeURIComponent(this.$route.query.callback);if(s)switch(s){case"marketing":Object(r.a)(i,n)}else e?this.$router.replace({path:t,query:{backUrl:e}}):this.$router.replace({path:t})},checkMobileBind:function(){return n.a.mobileBindCheck({query:{userId:this.user.id}})},upgradePassword:function(){this.$router.replace({name:"password_reset",query:{upgradePassword:1}})}})}},f0f7:function(t,e,s){"use strict";s("96e0")},fd23:function(t,e,s){"use strict";s("6b54");var i=s("0d25"),r={props:{activity:{type:Object,default:{}}},data:function(){return{timer:null,counting:!0,seckillClass:"seckill-unstart",seckilling:!1,buyCountDownText:"",endCountDownText:""}},computed:{statusTitle:{get:function(){var t=this.activity.status;if("unstart"===t)return this.counting=!1,"秒杀未开始";if("closed"===t)return this.counting=!1,this.seckillClass="seckill-closed","秒杀已结束";if("ongoing"===t){if(!this.counting)return"秒杀已结束";if(0==this.activity.productRemaind)return this.counting=!1,this.seckillClass="seckill-closed",this.$emit("sellOut",!0),"商品已售空";var e=(new Date).getTime();if(this.startStamp<e&&e<this.endStamp)return this.seckilling=!0,this.counting=!0,this.seckillClass="seckill-ongoing",'距离结束仅剩<span class="ml10 mlm">'.concat(this.endCountDownText,"</span>");if(this.startStamp>e)return this.seckilling=!1,this.counting=!0,this.seckillClass="seckill-unstart",'距离开抢<span class="ml10 mlm">'.concat(this.buyCountDownText,"</span>")}},set:function(){}},startStamp:function(){return new Date(this.activity.startTime).getTime()},endStamp:function(){return new Date(this.activity.endTime).getTime()}},created:function(){this.countDownTime()},beforeDestroy:function(){this.clearInterval()},methods:{countDownTime:function(){var t=this;this.timer=setInterval((function(){t.endCountDownText=Object(i.dateTimeDown)(t.endStamp),t.buyCountDownText=Object(i.dateTimeDown)(t.startStamp),"已到期"==t.endCountDownText&&(t.seckillClass="seckill-closed",t.counting=!1,t.clearInterval(),t.$emit("timesUp"))}),1e3)},clearInterval:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){clearInterval(this.timer),this.timer=null}))}},n=(s("f0f7"),s("2877")),a=Object(n.a)(r,(function(){var t=this._self._c;return t("div",{class:["seckill-countdown-container clearfix",this.seckillClass]},[t("span",{staticClass:"pull-left status-title"},[this._v("秒杀"+this._s("ongoing"===this.activity.status&&this.seckilling?"中":""))]),t("div",{staticClass:"pull-right text-12",domProps:{innerHTML:this._s(this.statusTitle)}})])}),[],!1,null,null,null);e.a=a.exports}}]);