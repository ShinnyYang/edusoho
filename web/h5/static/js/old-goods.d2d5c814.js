(window.webpackJsonp=window.webpackJsonp||[]).push([["old-goods"],{"2a79":function(t,e,s){"use strict";s.r(e),s("e7e5");var o=s("d399"),i=s("db72"),a=s("92d0"),n=s("e90f"),c=s("51a9"),r=s("e57e"),l=s("d218"),d=s("b576"),u=s("84e1"),f=s("228a"),m=s("3ce7"),h=s("2f62"),v={data:function(){return{details:{},currentPlan:{},active:0,timer:null,flag:!0,backToTopShow:!1,componentsInfo:{}}},components:{Discount:a.a,Specs:c.a,Detail:n.a,Teacher:r.a,Recommend:l.a,Buy:d.a,BackToTop:u.a,AfterjoinDirectory:f.a},computed:{summary:function(){return this.details.description?this.details.description:"暂无简介~"}},methods:Object(i.a)(Object(i.a)({},Object(h.c)("course",["getCourseLessons"])),{},{getGoodsCourse:function(){var t=this;m.a.getGoodsCourse({query:{id:this.$route.params.id}}).then((function(e){var s=e;for(var o in s.specs)t.$set(s.specs[o],"active",!1),t.$set(s.specs[o],"id",o),o==t.$route.params.id&&(t.$set(s.specs[o],"active",!0),t.currentPlan=s.specs[o]);t.details=s})).catch((function(t){o.a.fail(t.message)})),this.getCourseLessons({courseId:this.$route.params.id}).then((function(t){})),this.getGoodsCourseComponents()},getGoodsCourseComponents:function(){var t=this;m.a.getGoodsCourseComponents({query:{id:this.$route.params.id},params:{componentTypes:["teachers","reviews","recommendGoods"]}}).then((function(e){t.componentsInfo=e}))},changePlan:function(t){var e=this.details;for(var s in e.specs)this.$set(e.specs[s],"active",!1),s==t&&(this.$set(e.specs[s],"active",!0),this.currentPlan=e.specs[s])},onActive:function(t,e){var s=this;clearTimeout(this.timer),this.timer=null,this.flag=!1,this.active=t;var o=document.getElementById(e).offsetTop,i=document.getElementById("goods-info__nav").offsetHeight;document.documentElement.scrollTop=o-i,this.timer=setTimeout((function(){s.flag=!0}),500)},handleScroll:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop;e>600&&!this.backToTopShow&&(this.backToTopShow=!0),e<600&&this.backToTopShow&&(this.backToTopShow=!1),this.flag&&(clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((function(){t.calcScrollTop(e)}),200))},calcScrollTop:function(t){for(var e=document.getElementById("goods-info__nav").offsetHeight,s=document.querySelectorAll(".js-scroll-top"),o=s.length-1;o>=0;o--){if(t>=s[o].offsetTop-e)return void(this.active!=o&&(this.active=o));this.active=0}}}),created:function(){this.getGoodsCourse()},watch:{$route:"getGoodsCourse"},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},p=s("2877"),g=Object(p.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods"},[e("div",{staticClass:"goods-detail"},[e("div",{staticClass:"goods-detail__banner"},[e("img",{attrs:{src:t.details.image}})]),e("discount",{attrs:{details:t.details}}),e("detail",{attrs:{details:t.details,currentPlan:t.currentPlan}}),e("specs",{attrs:{details:t.details,currentPlan:t.currentPlan},on:{changePlan:t.changePlan}})],1),e("div",{staticClass:"goods-info"},[e("ul",{staticClass:"goods-info__nav",attrs:{id:"goods-info__nav"}},[e("li",{on:{click:function(e){return t.onActive(0,"introduction")}}},[e("a",{class:0==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("简介")])]),e("li",{on:{click:function(e){return t.onActive(1,"teacher")}}},[e("a",{class:1==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("教师")])]),e("li",{on:{click:function(e){return t.onActive(2,"catalog")}}},[e("a",{class:2==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("目录")])]),e("li",{on:{click:function(e){return t.onActive(3,"evaluate")}}},[e("a",{class:3==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("评价")])])]),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"introduction"}},[e("div",{staticClass:"goods-info__title"},[t._v("课程简介")]),e("div",{staticClass:"info-introduction",domProps:{innerHTML:t._s(t.summary)}})]),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"teacher"}},[e("div",{staticClass:"goods-info__title"},[t._v("教师风采")]),e("teacher",{attrs:{teachers:t.componentsInfo.teachers}})],1),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"catalog"}},[e("div",{staticClass:"goods-info__title"},[t._v("课程目录")]),e("afterjoin-directory")],1),t._m(0),e("section",{staticClass:"goods-info__item"},[e("Recommend",{attrs:{recommendGoods:t.componentsInfo.recommendGoods}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("猜你想学")])])],1),e("buy"),e("back-to-top",{directives:[{name:"show",rawName:"v-show",value:t.backToTopShow,expression:"backToTopShow"}]})],1)])}),[function(){var t=this._self._c;return t("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"evaluate"}},[t("div",{staticClass:"goods-info__title"},[this._v("课程评价")])])}],!1,null,null,null);e.default=g.exports},"3acd":function(t,e,s){"use strict";s.r(e),s("e7e5");var o=s("d399"),i=s("db72"),a=s("92d0"),n=s("e90f"),c=s("51a9"),r=s("e57e"),l=s("d218"),d=s("b576"),u=s("84e1"),f=s("9498"),m=s("3ce7"),h=s("2f62"),v={data:function(){return{details:{},currentPlan:{},active:0,timer:null,flag:!0,backToTopShow:!1,componentsInfo:{}}},components:{Discount:a.a,Specs:c.a,Detail:n.a,Teacher:r.a,Recommend:l.a,Buy:d.a,BackToTop:u.a,ClassroomCourses:f.a},computed:{summary:function(){return this.details.description?this.details.description:"暂无简介~"}},methods:Object(i.a)(Object(i.a)({},Object(h.c)("course",["getCourseLessons"])),{},{getGoodsCourse:function(){var t=this;m.a.getGoodsCourse({query:{id:this.$route.params.id}}).then((function(e){var s=e;for(var o in s.specs)t.$set(s.specs[o],"active",!1),t.$set(s.specs[o],"id",o),o==t.$route.params.id&&(t.$set(s.specs[o],"active",!0),t.currentPlan=s.specs[o]);t.details=s})).catch((function(t){o.a.fail(t.message)})),this.getCourseLessons({courseId:this.$route.params.id}).then((function(t){})),this.getGoodsCourseComponents()},getGoodsCourseComponents:function(){var t=this;m.a.getGoodsCourseComponents({query:{id:this.$route.params.id},params:{componentTypes:["teachers","reviews","recommendGoods"]}}).then((function(e){t.componentsInfo=e}))},changePlan:function(t){var e=this.details;for(var s in e.specs)this.$set(e.specs[s],"active",!1),s==t&&(this.$set(e.specs[s],"active",!0),this.currentPlan=e.specs[s])},onActive:function(t,e){var s=this;clearTimeout(this.timer),this.timer=null,this.flag=!1,this.active=t;var o=document.getElementById(e).offsetTop,i=document.getElementById("goods-info__nav").offsetHeight;document.documentElement.scrollTop=o-i,this.timer=setTimeout((function(){s.flag=!0}),500)},handleScroll:function(){var t=this,e=document.documentElement.scrollTop||document.body.scrollTop;e>600&&!this.backToTopShow&&(this.backToTopShow=!0),e<600&&this.backToTopShow&&(this.backToTopShow=!1),this.flag&&(clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((function(){t.calcScrollTop(e)}),200))},calcScrollTop:function(t){for(var e=document.getElementById("goods-info__nav").offsetHeight,s=document.querySelectorAll(".js-scroll-top"),o=s.length-1;o>=0;o--){if(t>=s[o].offsetTop-e)return void(this.active!=o&&(this.active=o));this.active=0}}}),created:function(){this.getGoodsCourse()},watch:{$route:"getGoodsCourse"},mounted:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},p=s("2877"),g=Object(p.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"goods"},[e("div",{staticClass:"goods-detail"},[e("div",{staticClass:"goods-detail__banner"},[e("img",{attrs:{src:t.details.image}})]),e("discount",{attrs:{details:t.details}}),e("detail",{attrs:{details:t.details,currentPlan:t.currentPlan}}),e("specs",{attrs:{details:t.details,currentPlan:t.currentPlan},on:{changePlan:t.changePlan}})],1),e("div",{staticClass:"goods-info"},[e("ul",{staticClass:"goods-info__nav",attrs:{id:"goods-info__nav"}},[e("li",{on:{click:function(e){return t.onActive(0,"introduction")}}},[e("a",{class:0==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("简介")])]),e("li",{on:{click:function(e){return t.onActive(1,"teacher")}}},[e("a",{class:1==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("教师")])]),e("li",{on:{click:function(e){return t.onActive(2,"catalog")}}},[e("a",{class:2==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("目录")])]),e("li",{on:{click:function(e){return t.onActive(3,"evaluate")}}},[e("a",{class:3==t.active?"active":"",attrs:{href:"javascript:;"}},[t._v("评价")])])]),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"introduction"}},[e("div",{staticClass:"goods-info__title"},[t._v("课程简介")]),e("div",{staticClass:"info-introduction",domProps:{innerHTML:t._s(t.summary)}})]),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"teacher"}},[e("div",{staticClass:"goods-info__title"},[t._v("教师风采")]),e("teacher",{attrs:{teachers:t.componentsInfo.teachers}})],1),e("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"catalog"}},[e("div",{staticClass:"goods-info__title"},[t._v("课程目录")]),e("classroom-courses")],1),t._m(0),e("section",{staticClass:"goods-info__item"},[e("Recommend",{attrs:{recommendGoods:t.componentsInfo.recommendGoods}},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v("猜你想学")])])],1),e("buy"),e("back-to-top",{directives:[{name:"show",rawName:"v-show",value:t.backToTopShow,expression:"backToTopShow"}]})],1)])}),[function(){var t=this._self._c;return t("section",{staticClass:"js-scroll-top goods-info__item",attrs:{id:"evaluate"}},[t("div",{staticClass:"goods-info__title"},[this._v("课程评价")])])}],!1,null,null,null);e.default=g.exports},"64c1":function(t,e,s){"use strict";s.r(e);var o=s("c80c"),i=(s("96cf"),s("3b8d")),a=s("3ce7"),n={data:function(){return{bindItemBankList:[]}},components:{GoodsItemBank:s("ba01").a},methods:{getBindItemBank:function(){var t=this;return Object(i.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.getBindItemBank({params:{bindType:t.$route.query.bindType,bindId:t.$route.query.bindId}});case 2:t.bindItemBankList=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},created:function(){this.getBindItemBank()}},c=s("2877"),r=Object(c.a)(n,(function(){var t=this._self._c;return t("div",{staticClass:"flex flex-col gap-12 p-16"},this._l(this.bindItemBankList,(function(e){return t("div",{key:e.id},[t("goods-item-bank",{attrs:{item:e}})],1)})),0)}),[],!1,null,null,null);e.default=r.exports}}]);