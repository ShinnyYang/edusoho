(window.webpackJsonp=window.webpackJsonp||[]).push([["wrong-question-book"],{"1d2c":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d");var n=s("bd86"),i=s("2ef0"),o=s.n(i),r=s("3ce7"),a=s("2f62");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var u={name:"WrongExercisesAnalysis",components:{itemReport:s("c75f").a},data:function(){return{isLoading:!1,assessment:{},answerScene:{},answerReport:{},answerRecord:{},assessmentResponse:{}}},created:function(){this.fetchData()},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(a.e)({storageSetting:function(e){return e.storageSetting}})),provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},methods:{fetchData:function(){var e=this;this.isLoading=!0,r.a.answerRecord({query:{answerRecordId:this.$route.query.recordId}}).then((function(t){var s=t.assessment,n=t.answer_scene,i=t.answer_report,r=t.answer_record,a=t.assessment_response;o.a.assign(e,{assessment:s,answerScene:n,answerRecord:r,answerReport:i,assessmentResponse:a}),e.isLoading=!1}))},getResourceToken:function(e){return r.a.getItemDetail({params:{globalId:e}})}}},l=s("a6c2"),d=Object(l.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"brush-exercise-report"},[this.isLoading?t("e-loading"):[t("div",{staticClass:"ibs-wap-vue"},[t("item-report",{attrs:{wrong:!0,answerRecord:this.answerRecord,answerReport:this.answerReport,assessment:this.assessment,answerScene:this.answerScene,assessmentResponse:this.assessmentResponse}})],1)]],2)}),[],!1,null,null,null);t.default=d.exports},2390:function(e,t,s){"use strict";s.r(t),s("a481");var n=s("3ce7"),i={props:{question:{type:Object,required:!0}},methods:{goToWrongQuestionDetail:function(){var e=this.question.target_type,t="myWrongQuestionBookDetail";"exercise"===e&&(t="myWrongQuestionBookExercise"),this.$router.push({name:t,params:{type:e,id:this.question.id},query:{title:this.question.target_data.title,id:this.question.id}})}}},o=s("a6c2"),r={name:"MyWrongQuestionBook",components:{Item:Object(o.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-item",on:{click:e.goToWrongQuestionDetail}},[s("div",{staticClass:"list-item__image"},[s("img",{attrs:{src:e.question.target_data.cover.middle}})]),s("div",{staticClass:"list-item__detail"},[s("h3",{staticClass:"title line-clamp-2"},[e._v(e._s(e.question.target_data.title))]),s("p",{staticClass:"number text-overflow"},[e._v(e._s(e.question.item_num)+" "+e._s(e.$t("wrongQuestion.question")))])])])}),[],!1,null,null,null).exports,EmptyCourse:s("41dc").a},data:function(){return{isLoading:!1,active:"course",currentActive:"course",list:[{title:"wrongQuestion.fromCourse",type:"course",placeholder:"wrongQuestion.searchCourse",items:[],keyword:"",loading:!1,finished:!1,totalTitle:"wrongQuestion.numberOfWrongQuestionsInTheCourse",total:0,paging:{current:0,total:0}},{title:"wrongQuestion.fromClass",type:"classroom",placeholder:"wrongQuestion.searchClass",items:[],keyword:"",loading:!1,finished:!1,totalTitle:"wrongQuestion.numberOfWrongQuestionsInTheClass",total:0,paging:{current:0,total:0}},{title:"wrongQuestion.fromQuestionBank",type:"exercise",placeholder:"wrongQuestion.searchByQuestionBank",items:[],keyword:"",loading:!1,finished:!1,totalTitle:"wrongQuestion.numberOfWrongQuestionsInTheQuestionBank",total:0,paging:{current:0,total:0}}]}},created:function(){this.fetchWrongQuestionBooks(),this.active=this.$route.query.active},methods:{fetchWrongQuestionBooks:function(){var e=this;this.isLoading=!0,n.a.getWrongBooks().then((function(t){e.list[0].total=t.course.sum_wrong_num,e.list[1].total=t.classroom.sum_wrong_num,e.list[2].total=t.exercise.sum_wrong_num,e.isLoading=!1}))},onLoad:function(e){var t=this.list[e];t.loading=!0,n.a.getWrongBooksCertainTypes({query:{targetType:t.type},params:{keyWord:t.keyword,offset:10*t.paging.current}}).then((function(e){t.refreshing&&(t.items=[],t.refreshing=!1),t.items=t.items.concat(e.data),t.loading=!1,t.refreshing=!1;var s=e.paging.total;t.paging.total=s,t.paging.current++,t.items.length>=s&&(t.finished=!0)}))},onSearch:function(e,t){var s=this.list[e];s.keyword=t,s.refreshing=!0,s.paging.current=0,this.onLoad(e)},onClickTabs:function(e,t){e!==this.currentActive&&(this.currentActive=e,this.$router.replace({query:{active:e}}))}}},a=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoading?s("e-loading"):e._e(),s("van-tabs",{attrs:{border:!0,color:"#43c793"},on:{click:e.onClickTabs},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.list,(function(t,n){return[s("van-tab",{key:n,attrs:{title:e.$t(t.title),name:t.type}},[s("van-search",{attrs:{shape:"round",placeholder:e.$t(t.placeholder)},on:{search:function(t){return e.onSearch(n,t)}},model:{value:t.keyword,callback:function(s){e.$set(t,"keyword",s)},expression:"listItem.keyword"}}),s("van-list",{staticClass:"wrong-list",attrs:{finished:t.finished},on:{load:function(t){return e.onLoad(n)}},model:{value:t.loading,callback:function(s){e.$set(t,"loading",s)},expression:"listItem.loading"}},e._l(t.items,(function(e){return s("item",{key:e.id,attrs:{question:e}})})),1),!t.items.length&&t.finished?s("empty-course",{attrs:{"has-button":!1,text:e.$t("wrongQuestion.empty")}}):e._e(),s("div",{staticClass:"wrong-question-number"},[e._v("\n          "+e._s(e.$t(t.totalTitle))+"："+e._s(t.total)+"\n        ")])],1)]}))],2)],1)}),[],!1,null,null,null);t.default=a.exports},"3c45":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("a481");var n=s("bd86"),i=s("2ef0"),o=s.n(i),r=s("2f62"),a=s("faa5"),c=s("3ce7"),u=(s("4662"),s("28a2")),l=(s("4917"),s("c5f6"),s("6762"),s("2fdb"),{props:{question:{type:Object,required:!0}},computed:{questions:function(){return this.question.questions[0]}},methods:{RadioWrong:function(e){var t=this.question.questions[0].answer,s=this.question.questions[0].report.response;return!t.includes(e)&&(!!(t.includes(e)&&s.includes(e)||!t.includes(e)&&s.includes(e))||void 0)},RadioRight:function(e){var t=this.question.questions[0].answer;if(0===this.question.questions[0].report.response.length&&t.includes(e)||t.includes(e))return!0}}}),d=s("a6c2"),h=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-checkbox-group",{model:{value:e.questions.answer,callback:function(t){e.$set(e.questions,"answer",t)},expression:"questions.answer"}},e._l(e.questions.response_points,(function(t,n){return s("van-checkbox",{key:n,class:["question-option",{"van-checkbox__right":e.RadioRight(t.checkbox.val)},{"van-checkbox__wrong":e.RadioWrong(t.checkbox.val)}],attrs:{name:t.checkbox.val}},[s("i",{staticClass:"iconfont icon-zhengque1"}),s("i",{staticClass:"iconfont icon-cuowu2"}),s("div",{staticClass:"question-option__content",domProps:{innerHTML:e._s(t.checkbox.text)}}),s("span",{class:["question-option__order"],attrs:{slot:"icon"},slot:"icon"},[e._v("\n      "+e._s(t.checkbox.val+".")+"\n    ")])])})),1)}),[],!1,null,null,null).exports,p={props:{question:{type:Object,required:!0}},computed:{questions:function(){return this.question.questions[0]}},methods:{RadioWrong:function(e){var t=this.question.questions[0].answer,s=this.question.questions[0].report.response;if(s[0]===e&&s[0]!==t[0])return!0},RadioRight:function(e){var t=this.question.questions[0].answer,s=this.question.questions[0].report.response;return 0===s.length&&e===t[0]||e===t[0]||e===s[0]&&s[0]===t[0]||void 0}}},g=Object(d.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-radio-group",{model:{value:e.questions.answer[0],callback:function(t){e.$set(e.questions.answer,0,t)},expression:"questions.answer[0]"}},e._l(e.questions.response_points,(function(t,n){return s("van-radio",{key:n,class:["question-option",{"van-checkbox__right":e.RadioRight(t.radio.val)},{"van-checkbox__wrong":e.RadioWrong(t.radio.val)}],attrs:{name:t.radio.val}},[s("i",{staticClass:"iconfont icon-zhengque1"}),s("i",{staticClass:"iconfont icon-cuowu2"}),s("div",{staticClass:"question-option__content",domProps:{innerHTML:e._s(t.radio.text)}}),s("template",{slot:"icon"},[s("span",{class:["question-option__order"]},[e._v("\n        "+e._s(t.radio.val+".")+"\n      ")])])],2)})),1)}),[],!1,null,null,null).exports,f={props:{question:{type:Object,required:!0}},computed:{questions:function(){return this.question.questions[0]}},methods:{RadioWrong:function(e){var t=this.question.questions[0].answer,s=this.question.questions[0].report.response;if(s[0]===e&&s[0]!==t[0])return!0},RadioRight:function(e){var t=this.question.questions[0].answer,s=this.question.questions[0].report.response;return 0===s.length&&t[0]===e||e===t[0]||e===s[0]&&s[0]===t[0]||void 0}}};function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={components:{Choice:h,SingleChoice:g,Judge:Object(d.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-radio-group",{model:{value:e.questions.answer[0],callback:function(t){e.$set(e.questions.answer,0,t)},expression:"questions.answer[0]"}},e._l(e.questions.response_points,(function(t,n){return s("van-radio",{key:n,class:["question-option",{"van-checkbox__right":e.RadioRight(t.radio.val)},{"van-checkbox__wrong":e.RadioWrong(t.radio.val)}],attrs:{name:t.radio.val}},[s("i",{staticClass:"iconfont icon-zhengque1"}),s("i",{staticClass:"iconfont icon-cuowu2"}),s("div",{staticClass:"question-option__content"},[e._v("\n      "+e._s("T"===t.radio.val?e.$t("wrongQuestion.right2"):e.$t("wrongQuestion.wrong2"))+"\n    ")]),s("template",{slot:"icon"},[s("span",{class:["question-option__order"]})])],2)})),1)}),[],!1,null,null,null).exports,attachementPreview:s("2a5b").a},props:{total:{type:Number,required:!0},order:{type:Number,required:!0},question:{type:Object,required:!0}},data:function(){return{questionComponents:{single_choice:{name:"wrongQuestion.singleChoice",component:"SingleChoice"},text:{name:"wrongQuestion.fill",component:""},choice:{name:"wrongQuestion.choice",component:"Choice"},uncertain_choice:{name:"wrongQuestion.uncertainChoice",component:"Choice"},true_false:{name:"wrongQuestion.determine",component:"Judge"}},wrong:"static/images/exercise/wrong.png"}},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting}},computed:v(v({},Object(r.e)({storageSetting:function(e){return e.storageSetting}})),{},{questions:function(){return this.question.questions[0]},sourcesStr:function(){return o.a.join(this.question.sources,"、")},formateQuestionStem:function(){var e=this.questions.stem,t=/\[\[\]\]/g;return e.match(t)?e.replace(t,(function(){return""})):e},currentQuestionComponent:function(){return this.questionComponents[this.question.questions[0].answer_mode]},status:function(){var e={right:{color:"analysis-item_right",text:this.$t("wrongQuestion.correctAnswer2")},wrong:{color:"analysis-item_worng",text:this.$t("wrongQuestion.wrongAnswer")},partRight:{color:"analysis-item_worng",text:this.$t("wrongQuestion.wrongAnswer")},no_answer:{color:"analysis-item_noAnswer",text:this.$t("wrongQuestion.unanswered")}},t=this.questions.report,s=t.response,n=t.status;return o.a.size(s)?e[n]:e.no_answer},rightAnswer:function(){var e=this,t=this.questions,s=t.answer,n=t.answer_mode;if("true_false"===n&&(s=o.a.map(s,(function(t){return"T"===t?e.$t("wrongQuestion.right"):e.$t("wrongQuestion.wrong")}))),"text"===n){var i="";return o.a.forEach(s,(function(e,t){i+="<div>".concat(e,"</div>")})),i}return o.a.join(s,"")},yourAnswer:function(){var e=this,t=this.questions,s=t.answer_mode,n=t.report.response,i=this;if(!o.a.size(n))return"text"===s?'<img src="'.concat(this.wrong,'" alt="" class="fill-status"><span class="wrong-answer"> ').concat(this.$t("wrongQuestion.unanswered"),"</span>"):this.$t("wrongQuestion.unanswered");if("true_false"===s&&(n=o.a.map(n,(function(e){return"T"===e?i.$t("wrongQuestion.right2"):i.$t("wrongQuestion.wrong2")}))),"text"===s){var r="";return o.a.forEach(n,(function(t,s){r+='<img src="'.concat(e.wrong,'" alt="" class="fill-status"><span class="wrong-answer"> ').concat(t||e.$t("wrongQuestion.unanswered"),"</span>")})),r}return o.a.join(n,"")}}),methods:{getAttachementByType:function(e){return this.questions.attachments.filter((function(t){return t.module===e}))||[]},getResourceToken:function(e){return c.a.getItemDetail({params:{globalId:e}})},yourAnswerShow:function(){return this.question.questions[0].report.response.length>0&&""!==this.question.questions[0].report.response[0]||"text"===this.questions.answer_mode||void 0},handleClickImage:function(e){if(void 0!==e){event.stopPropagation();var t=[e];Object(u.a)({images:t})}}}},w=Object(d.a)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"question"},[s("div",{staticClass:"question-head"},[s("div",{staticClass:"head-left"},[e._v(e._s(e.$t("wrongQuestion.topicList")))]),s("div",{staticClass:"head-right"},[s("span",{staticClass:"right-color"},[e._v(e._s(e.order))]),e._v("\n      /"+e._s(e.total)+"\n    ")])]),s("div",{staticClass:"question-body"},[s("span",{staticClass:"ibs-tags"},[e._v("\n      "+e._s(e.$t(e.currentQuestionComponent.name))+"\n    ")]),s("div",{staticClass:"clearfix question-stem"},[s("div",{staticClass:"pull-left"},[e._v(e._s(e.order)+"、")]),s("div",{domProps:{innerHTML:e._s(e.formateQuestionStem)},on:{click:function(t){return e.handleClickImage(t.target.src)}}}),e._l(e.getAttachementByType("stem"),(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})}))],2),"fill"!==e.question.type?s("div",{staticClass:"question-answer"},[s(e.currentQuestionComponent.component,{tag:"component",attrs:{question:e.question}})],1):e._e(),s("div",{staticClass:"questions-analysis"},[s("div",{class:[{flex:"text"!==e.questions.answer_mode},{"justify-between":"text"!==e.questions.answer_mode},"analysis-answer"]},["text"!==e.questions.answer_mode?s("div",{staticClass:"flex items-center"},[s("span",{staticClass:"answer"},[e._v(e._s(e.$t("wrongQuestion.correctAnswer"))+"：")]),s("span",{staticClass:"options",staticStyle:{color:"#00B42A"},domProps:{innerHTML:e._s(e.rightAnswer)}})]):e._e(),e.yourAnswerShow()?s("div",{class:[{flex:"text"!==e.questions.answer_mode},{"items-center":"text"!==e.questions.answer_mode}]},[s("div",{staticClass:"answer"},[e._v(e._s(e.$t("wrongQuestion.yourAnswer"))+"：")]),s("div",{class:[e.status?e.status.color:"",{options:"text"!==e.questions.answer_mode}],domProps:{innerHTML:e._s(e.yourAnswer)}})]):e._e(),"text"===e.questions.answer_mode?s("div",{staticClass:"correct-answer"},[s("div",{staticClass:"answer"},[e._v(e._s(e.$t("wrongQuestion.correctAnswer"))+"：")]),s("div",{class:[{options:"text"!==e.questions.answer_mode}],staticStyle:{color:"#00B42A"},domProps:{innerHTML:e._s(e.rightAnswer)}})]):e._e()]),e._l(e.getAttachementByType("answer"),(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})})),s("div",{staticClass:"analysis-color"},[s("span",{staticClass:"float-left"},[e._v(e._s(e.$t("courseLearning.analyze"))+"：")]),s("span",{staticClass:"analysis-content mt10",domProps:{innerHTML:e._s(e.questions.analysis||e.$t("wrongQuestion.noParsing"))}}),s("div",{staticClass:"analysis-content"},e._l(e.getAttachementByType("analysis"),(function(e){return s("attachement-preview",{key:e.id,attrs:{attachment:e}})})),1)]),s("div",{staticClass:"question-situation"},[s("div",{staticClass:"situation-top"},[e._v(e._s(e.$t("wrongQuestion.source"))+"："+e._s(e.sourcesStr))]),s("div",{staticClass:"situation-bottom"},[s("span",[e._v(e._s(e.$moment(1e3*e.question.submit_time).format("YYYY-MM-DD HH:mm:ss")))]),s("span",[e._v("\n            "+e._s(e.$t("wrongQuestion.frequency"))+"：\n            "),s("span",{staticClass:"frequency"},[e._v(e._s(e.question.wrong_times))]),e._v("\n            "+e._s(e.$t("wrongQuestion.times"))+"\n          ")])])])],2)]),e.order!==e.total?s("div",{staticClass:"question-footer-shardow"}):e._e()])}),[],!1,null,null,null).exports,y={testpaper:"wrongQuestion.examTask",homework:"wrongQuestion.homeworkTask",exercise:"wrongQuestion.practiceTask"},b={name:"CourseSearch",props:{show:{type:Boolean,required:!0},poolId:{type:String,required:!0}},data:function(){return{visible:this.show,sortType:"default",currentIndex:0,searchParams:{},conditions:[{title:"wrongQuestion.allPlan",placeholder:"wrongQuestion.choosePlan",columns:[],selectdText:"wrongQuestion.choosePlan",selectdIndex:0},{title:"wrongQuestion.questionSource",placeholder:"wrongQuestion.chooseSource",columns:[],selectdText:"wrongQuestion.chooseSource",selectdIndex:0},{title:"wrongQuestion.missionName",placeholder:"wrongQuestion.chooseMission",columns:[],selectdText:"wrongQuestion.chooseMission",selectdIndex:0}]}},computed:{currentCondition:function(){return this.conditions[this.currentIndex]}},watch:{show:function(e){e&&(this.visible=e)},visible:function(e){e||this.$emit("hidden-search")}},created:function(){this.fetchCondition()},methods:{fetchCondition:function(){var e=this;c.a.getWrongQuestionCondition({query:{poolId:this.poolId},params:this.searchParams}).then((function(t){var s=t.plans,n=t.source,i=t.tasks;o.a.forEach(s,(function(e){e.text=e.title}));var r=[];o.a.forEach(n,(function(t){r.push({type:t,text:e.$t(y[t])})})),o.a.forEach(i,(function(e){e.text=e.title})),e.conditions[0].columns=s,e.conditions[1].columns=r,e.conditions[2].columns=i}))},onClickReset:function(){this.sortType="default",this.currentIndex=0,this.searchParams={},this.conditions[0].selectdIndex=0,this.conditions[1].selectdIndex=0,this.conditions[2].selectdIndex=0,this.conditions[0].selectdText=this.$t("wrongQuestion.choosePlan"),this.conditions[1].selectdText=this.$t("wrongQuestion.chooseSource"),this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),this.fetchCondition()},onClickSearch:function(){this.visible=!1,this.$emit("on-search",this.searchParams)},onClickSort:function(e){this.sortType=e,"default"!==e?this.searchParams.wrongTimesSort=e:delete this.searchParams.wrongTimesSort},onChange:function(e,t,s){this.currentCondition.selectdIndex=s},onClickConfirm:function(){var e=this.currentCondition,t=e.selectdIndex,s=e.columns[t];o.a.size(s)&&(this.currentCondition.selectdText=s.text,0===this.currentIndex?(this.searchParams.courseId=s.id,this.conditions[1].selectdIndex=0,this.conditions[1].selectdText=this.$t("wrongQuestion.chooseSource"),this.conditions[2].selectdIndex=0,this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),delete this.searchParams.courseMediaType,delete this.searchParams.courseTaskId):1===this.currentIndex?(this.searchParams.courseMediaType=s.type,this.conditions[2].selectdIndex=0,this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),delete this.searchParams.courseTaskId):2===this.currentIndex&&(this.searchParams.courseTaskId=s.id),this.fetchCondition())}}},C=Object(d.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-popup",{staticClass:"wrong-question-search",attrs:{round:"",position:"bottom"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("van-nav-bar",{attrs:{title:e.$t("wrongQuestion.filter")},on:{"click-left":e.onClickReset,"click-right":e.onClickSearch},scopedSlots:e._u([{key:"left",fn:function(){return[s("span",{staticClass:"search-reset"},[e._v(e._s(e.$t("wrongQuestion.reset")))])]},proxy:!0},{key:"right",fn:function(){return[s("span",{staticClass:"search-btn"},[e._v(e._s(e.$t("wrongQuestion.check")))])]},proxy:!0}])}),s("van-divider",{staticStyle:{"margin-top":"4px"}}),s("div",{staticClass:"search-sort"},[s("div",{staticClass:"search-sort__title"},[e._v(e._s(e.$t("wrongQuestion.sort")))]),s("div",{staticClass:"search-sort__btns"},[s("div",{class:["sort-btn",{active:"default"===e.sortType}],on:{click:function(t){return e.onClickSort("default")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.all"))+"\n      ")]),s("div",{class:["sort-btn",{active:"DESC"===e.sortType}],on:{click:function(t){return e.onClickSort("DESC")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.highToLow"))+"\n      ")]),s("div",{class:["sort-btn",{active:"ASC"===e.sortType}],on:{click:function(t){return e.onClickSort("ASC")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.LowToHigh"))+"\n      ")])])]),s("div",{staticClass:"search-checked"},e._l(e.conditions,(function(t,n){return s("div",{key:n,class:["search-checked__item",{active:e.currentIndex==n}],on:{click:function(t){e.currentIndex=n}}},[s("div",{staticClass:"checked-title text-overflow"},[e._v(e._s(e.$t(t.title)))]),s("div",{staticClass:"checked-result"},[e._v(e._s(e.$t(t.selectdText)))])])})),0),s("div",{staticClass:"search-select"},[s("div",{staticClass:"search-select__toolbar"},[e._v("\n      "+e._s(e.$t(e.currentCondition.placeholder))+"\n      "),s("div",{staticClass:"search-select__confirm",on:{click:e.onClickConfirm}},[e._v(e._s(e.$t("btn.confirm")))])]),s("van-picker",{attrs:{"swipe-duration":500,columns:e.currentCondition.columns,"default-index":e.currentCondition.selectdIndex},on:{change:e.onChange}})],1)],1)}),[],!1,null,null,null).exports,x={testpaper:"wrongQuestion.examTask",homework:"wrongQuestion.homeworkTask",exercise:"wrongQuestion.practiceTask"},k={name:"ClassroomSearch",props:{show:{type:Boolean,required:!0},poolId:{type:String,required:!0}},data:function(){return{visible:this.show,sortType:"default",currentIndex:0,searchParams:{},conditions:[{title:"wrongQuestion.courseName",placeholder:"wrongQuestion.chooseName",columns:[],selectdText:"wrongQuestion.chooseName",selectdIndex:0},{title:"wrongQuestion.questionSource",placeholder:"wrongQuestion.chooseSource",columns:[],selectdText:"wrongQuestion.chooseSource",selectdIndex:0},{title:"wrongQuestion.missionName",placeholder:"wrongQuestion.chooseMission",columns:[],selectdText:"wrongQuestion.chooseMission",selectdIndex:0}]}},computed:{currentCondition:function(){return this.conditions[this.currentIndex]}},watch:{show:function(e){e&&(this.visible=e)},visible:function(e){e||this.$emit("hidden-search")}},created:function(){this.fetchCondition()},methods:{fetchCondition:function(){var e=this;c.a.getWrongQuestionCondition({query:{poolId:this.poolId},params:this.searchParams}).then((function(t){var s=t.courseSets,n=t.mediaTypes,i=t.tasks;o.a.forEach(s,(function(e){e.text=e.title}));var r=[];o.a.forEach(n,(function(t){r.push({type:t,text:e.$t(x[t])})})),o.a.forEach(i,(function(e){e.text=e.title})),e.conditions[0].columns=s,e.conditions[1].columns=r,e.conditions[2].columns=i}))},onClickReset:function(){this.sortType="default",this.currentIndex=0,this.searchParams={},this.conditions[0].selectdIndex=0,this.conditions[1].selectdIndex=0,this.conditions[2].selectdIndex=0,this.conditions[0].selectdText=this.$t("wrongQuestion.chooseName"),this.conditions[1].selectdText=this.$t("wrongQuestion.chooseSource"),this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),this.fetchCondition()},onClickSearch:function(){this.visible=!1,this.$emit("on-search",this.searchParams)},onClickSort:function(e){this.sortType=e,"default"!==e?this.searchParams.wrongTimesSort=e:delete this.searchParams.wrongTimesSort},onChange:function(e,t,s){this.currentCondition.selectdIndex=s},onClickConfirm:function(){var e=this.currentCondition,t=e.selectdIndex,s=e.columns[t];o.a.size(s)&&(this.currentCondition.selectdText=s.text,0===this.currentIndex?(this.searchParams.classroomCourseSetId=s.id,this.conditions[1].selectdIndex=0,this.conditions[1].selectdText=this.$t("wrongQuestion.chooseSource"),this.conditions[2].selectdIndex=0,this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),delete this.searchParams.classroomMediaType,delete this.searchParams.classroomTaskId):1===this.currentIndex?(this.searchParams.classroomMediaType=s.type,this.conditions[2].selectdIndex=0,this.conditions[2].selectdText=this.$t("wrongQuestion.chooseMission"),delete this.searchParams.classroomTaskId):2===this.currentIndex&&(this.searchParams.classroomTaskId=s.id),this.fetchCondition())}}},q=Object(d.a)(k,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-popup",{staticClass:"wrong-question-search",attrs:{round:"",position:"bottom"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("van-nav-bar",{attrs:{title:e.$t("wrongQuestion.filter")},on:{"click-left":e.onClickReset,"click-right":e.onClickSearch},scopedSlots:e._u([{key:"left",fn:function(){return[s("span",{staticClass:"search-reset"},[e._v(e._s(e.$t("wrongQuestion.reset")))])]},proxy:!0},{key:"right",fn:function(){return[s("span",{staticClass:"search-btn"},[e._v(e._s(e.$t("wrongQuestion.check")))])]},proxy:!0}])}),s("van-divider",{staticStyle:{"margin-top":"4px"}}),s("div",{staticClass:"search-sort"},[s("div",{staticClass:"search-sort__title"},[e._v(e._s(e.$t("wrongQuestion.sort")))]),s("div",{staticClass:"search-sort__btns"},[s("div",{class:["sort-btn",{active:"default"===e.sortType}],on:{click:function(t){return e.onClickSort("default")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.all"))+"\n      ")]),s("div",{class:["sort-btn",{active:"DESC"===e.sortType}],on:{click:function(t){return e.onClickSort("DESC")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.highToLow"))+"\n      ")]),s("div",{class:["sort-btn",{active:"ASC"===e.sortType}],on:{click:function(t){return e.onClickSort("ASC")}}},[e._v("\n        "+e._s(e.$t("wrongQuestion.LowToHigh"))+"\n      ")])])]),s("div",{staticClass:"search-checked"},e._l(e.conditions,(function(t,n){return s("div",{key:n,class:["search-checked__item",{active:e.currentIndex==n}],on:{click:function(t){e.currentIndex=n}}},[s("div",{staticClass:"checked-title"},[e._v(e._s(e.$t(t.title)))]),s("div",{staticClass:"checked-result"},[e._v(e._s(e.$t(t.selectdText)))])])})),0),s("div",{staticClass:"search-select"},[s("div",{staticClass:"search-select__toolbar"},[e._v("\n      "+e._s(e.$t(e.currentCondition.placeholder))+"\n      "),s("div",{staticClass:"search-select__confirm",on:{click:e.onClickConfirm}},[e._v(e._s(e.$t("btn.confirm")))])]),s("van-picker",{attrs:{"swipe-duration":500,columns:e.currentCondition.columns,"default-index":e.currentCondition.selectdIndex},on:{change:e.onChange}})],1)],1)}),[],!1,null,null,null).exports,O={name:"QuestionBankSearch",props:{show:{type:Boolean,required:!0},poolId:{type:String,required:!0},exerciseMediaType:{type:String,required:!0}},data:function(){return{visible:this.show,chapterData:[],testpaperData:[]}},watch:{show:function(e){e&&(this.visible=e)},visible:function(e){e||this.$emit("hidden-search")}},created:function(){this.fetchCondition()},methods:{fetchCondition:function(){var e=this;c.a.getWrongQuestionCondition({query:{poolId:this.poolId},params:{exerciseMediaType:this.exerciseMediaType}}).then((function(t){var s=t.chapter,n=t.testpaper;!function e(t){o.a.forEach(t,(function(t){t.status=!0,t.children&&e(t.children)}))}(s),e.chapterData=s,e.testpaperData=n}))},onClickSearch:function(e){this.visible=!1,this.$emit("on-search",e)},onClickChange:function(e){!function e(t,s){o.a.forEach(t,(function(t){if(t.id==s)return t.status=!t.status,!1;t.children&&e(t.children,s)}))}(this.chapterData,e)}}},Q=Object(d.a)(O,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-popup",{style:{width:"80%",height:"100%",background:"#f5f5f5",borderRadius:"10px 0 0 10px"},attrs:{position:"right"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("div",{staticClass:"exercise-search"},[s("div",{staticClass:"exercise-search__title"},[e._v(e._s(e.$t("wrongQuestion.questionSource")))]),"testpaper"===e.exerciseMediaType?e._l(e.testpaperData,(function(t,n){return s("div",{key:n,staticClass:"exercise-search__item"},[s("div",{staticClass:"exercise-search__name text-overflow"},[e._v("\n          "+e._s(t.assessmentName)+"\n        ")]),s("div",{staticClass:"exercise-search__btn",on:{click:function(s){return e.onClickSearch({exerciseMediaType:"testpaper",testpaperId:t.assessmentId})}}},[e._v("\n          "+e._s(e.$t("wrongQuestion.check"))+"\n        ")])])})):e._l(e.chapterData,(function(t){return s("div",{key:t.id,staticClass:"first-chapter"},[s("div",{staticClass:"exercise-search__item"},[s("div",{staticClass:"exercise-search__name text-overflow",on:{click:function(s){return e.onClickChange(t.id)}}},[s("span",{staticClass:"first-chapter__bar"},[s("span",{staticClass:"round-ball"},[s("span",[e._v(e._s(t.status?"-":"+"))])])]),e._v("\n            "+e._s(t.name)+"\n          ")]),s("div",{staticClass:"exercise-search__btn",on:{click:function(s){return e.onClickSearch({exerciseMediaType:"chapter",chapterId:t.id})}}},[e._v("\n            "+e._s(e.$t("wrongQuestion.check"))+"\n          ")])]),t.children.length?s("div",{class:t.status?"":"hidden-chapter-children"},e._l(t.children,(function(t){return s("div",{key:t.id,staticClass:"second-chapter"},[s("div",{staticClass:"exercise-search__item"},[s("div",{staticClass:"exercise-search__name text-overflow",on:{click:function(s){return e.onClickChange(t.id)}}},[s("span",{staticClass:"second-chapter__bar"},[s("span",{staticClass:"round-ball"},[s("span",[e._v(e._s(t.status?"-":"+"))])])]),e._v("\n                "+e._s(t.name)+"\n              ")]),s("div",{staticClass:"exercise-search__btn",on:{click:function(s){return e.onClickSearch({exerciseMediaType:"chapter",chapterId:t.id})}}},[e._v("\n                "+e._s(e.$t("wrongQuestion.check"))+"\n              ")])]),t.children.length?s("div",{class:t.status?"":"hidden-chapter-children"},e._l(t.children,(function(t){return s("div",{key:t.id,staticClass:"third-chapter"},[s("div",{staticClass:"exercise-search__item"},[s("div",{staticClass:"exercise-search__name text-overflow",on:{click:function(s){return e.onClickChange(t.id)}}},[s("span",{staticClass:"third-chapter__bar"},[s("span",{staticClass:"round-ball"})]),e._v("\n                    "+e._s(t.name)+"\n                  ")]),s("div",{staticClass:"exercise-search__btn",on:{click:function(s){return e.onClickSearch({exerciseMediaType:"chapter",chapterId:t.id})}}},[e._v("\n                    "+e._s(e.$t("wrongQuestion.check"))+"\n                  ")])])])})),0):e._e()])})),0):e._e()])}))],2)])}),[],!1,null,null,null).exports,$=s("41dc");function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S=document.documentElement.clientHeight-46-48,j={name:"WrongQuestionBookDetail",components:{Question:w,CourseSearch:C,ClassroomSearch:q,QuestionBankSearch:Q,EmptyCourse:$.a},data:function(){return{isLoading:!1,targetType:this.$route.params.type,targetId:this.$route.params.id,exerciseMediaType:this.$route.query.type,questionList:[],pagination:{current:1,total:0,pageSize:20},finished:!1,height:S,currentIndex:0,searchParams:{},show:!1,searchComponents:{course:"CourseSearch",classroom:"ClassroomSearch",exercise:"QuestionBankSearch"}}},computed:{currentSearchComponent:function(){return this.searchComponents[this.targetType]}},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},created:function(){this.setNavbarTitle(this.$route.query.title),this.fetchWrongQuestion()},methods:I(I({},Object(r.d)({setNavbarTitle:a.x})),{},{fetchWrongQuestion:function(){var e=this;this.isLoading=!0;var t=this.pagination,s=t.current,n=t.pageSize;c.a.getWrongBooksQuestionShow({query:{poolId:this.targetId},params:I({targetType:this.targetType,limit:n,offset:(s-1)*n,exerciseMediaType:this.exerciseMediaType},this.searchParams)}).then((function(t){var s=t.data,n=t.paging;e.questionList=o.a.concat(e.questionList,s),e.pagination.total=n.total,e.finished=!1,e.isLoading=!1,o.a.size(e.questionList)>=n.total&&(e.finished=!0)}))},onChange:function(e){this.currentIndex=e;var t=o.a.size(this.questionList)-3;!this.finished&&e>=t&&(this.pagination.current++,this.finished=!0,this.fetchWrongQuestion())},prev:function(){0!=this.currentIndex&&this.$refs.swipe.swipeTo(this.currentIndex-1)},next:function(){this.currentIndex!=this.questionList.length-1&&this.$refs.swipe.swipeTo(this.currentIndex+1)},showSearch:function(){this.show=!0},hiddenSearch:function(){this.show=!1},onSearch:function(e){this.searchParams=e,this.questionList=[],this.pagination.current=1,this.currentIndex=0,this.fetchWrongQuestion()},onClickWrongExercise:function(){this.$router.replace({name:"WrongExercisesIntro",query:I({targetType:this.$route.params.type,id:this.targetId,exerciseMediaType:this.exerciseMediaType},this.searchParams)})},goToStartAnswer:function(){this.$router.replace({name:"WrongExercisesDo",query:I({id:this.targetId},this.searchParams)})}})},P=Object(d.a)(j,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrong-question-detail"},[e.isLoading?s("e-loading"):e._e(),e.questionList.length?s("van-swipe",{ref:"swipe",attrs:{height:e.height,duration:100,loop:!1,"show-indicators":!1,"lazy-render":!0,"initial-swipe":e.currentIndex},on:{change:e.onChange}},e._l(e.questionList,(function(t,n){return s("van-swipe-item",{key:t.id+n,staticStyle:{"overflow-y":"auto"}},[s("question",{attrs:{total:e.pagination.total,order:n+1,question:t}})],1)})),1):s("empty-course",{staticStyle:{"margin-top":"0","padding-top":"36.53333vw"},attrs:{"has-button":!1,text:e.$t("wrongQuestion.empty")}}),e.questionList.length?s("div",{staticClass:"paper-swiper"},[s("div",{class:["left-slide__btn",0==e.currentIndex?"slide-disabled":""],on:{click:function(t){return e.prev()}}},[s("i",{staticClass:"iconfont icon-arrow-left"})]),s("div",{class:["right-slide__btn",e.currentIndex==e.questionList.length-1?"slide-disabled":""],on:{click:function(t){return e.next()}}},[s("i",{staticClass:"iconfont icon-arrow-right"})])]):e._e(),s("div",{staticClass:"question-search",on:{click:e.showSearch}},[s("van-icon",{attrs:{name:"filter-o"}}),e._v("\n    "+e._s(e.$t("wrongQuestion.filter"))+"\n  ")],1),s(e.currentSearchComponent,{tag:"component",attrs:{show:e.show,"pool-id":e.targetId,"exercise-media-type":e.exerciseMediaType},on:{"hidden-search":e.hiddenSearch,"on-search":e.onSearch}}),e.questionList.length?s("div",{staticClass:"intro-footer"},[s("van-button",{staticClass:"intro-footer__btn",attrs:{type:"primary"},on:{click:e.onClickWrongExercise}},[e._v(e._s(e.$t("wrongQuestion.exercise")))])],1):e._e()],1)}),[],!1,null,null,null);t.default=P.exports},"41dc":function(e,t,s){"use strict";var n={props:{hasButton:{type:Boolean,default:!0},type:{type:String,default:"course"},text:{type:String,default:"暂无数据"},isSearch:{type:Boolean,default:!1}},computed:{emptyText:function(){return this.text},moreText:function(){switch(this.type){case"course_list":return this.$t("e.moreCourse");case"classroom_list":return this.$t("e.moreClass");case"item_bank_exercise":return this.$t("e.moreQuestionBanks")}return""}},methods:{jumpBack:function(){this.$router.push({name:"find",query:{redirect:"find"}})},getEmptyText:function(){return"暂无".concat("course_list"===this.type?"课程":"班级")}}},i=s("a6c2"),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"empty-course"},[s("img",{staticClass:"empty-course__img",attrs:{src:e.isSearch?"static/images/classroom/none-course.png":"static/images/courseEmpty.png",alt:""}}),s("p",{staticClass:"empty-course__text"},[e._v(e._s(e.emptyText))]),e.hasButton?s("div",{staticClass:"empty-course__btn",on:{click:e.jumpBack}},[e._v("\n    + "+e._s(e.moreText)+"\n  ")]):e._e()])}),[],!1,null,null,null);t.a=o.exports},"975c":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("e7e5");var n=s("d399"),i=s("bd86"),o=s("2ef0"),r=s.n(o),a=s("3ce7"),c=s("2f62");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var l={name:"WrongQuestionDo",components:{itemEngine:s("51aa").a},data:function(){return{poolId:this.$route.query.id,isLoading:!1,assessment:{},answerScene:{},answerRecord:{},assessmentResponse:{},status:"",reviewedCount:0,recordId:"",exerciseModes:this.$route.query.exerciseMode,type:"wrongQuestionBook"}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(i.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(c.e)({storageSetting:function(e){return e.storageSetting}})),beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},created:function(){this.fetchQuestion()},methods:{fetchQuestion:function(){var e=this;this.isLoading=!0;var t=r.a.assign({},this.$route.query);delete t.id,a.a.getWrongQuestionStartAnswer({query:{poolId:this.poolId},data:t}).then((function(t){var s=t.assessment,n=t.assessment_response,i=t.answer_scene,o=t.answer_record;r.a.assign(e,{assessment:s,answerScene:i,answerRecord:o,assessmentResponse:n,status:o.status}),e.recordId=o.id,e.isLoading=!1}))},getAnswerData:function(e){var t=this;n.a.loading({message:this.$t("wrongQuestion.submitting"),forbidClick:!0}),a.a.submitWrongQuestionAnswer({query:{poolId:this.poolId,recordId:this.answerRecord.id},data:e}).then((function(e){n.a.clear(),t.goResult()})).catch((function(e){n.a.clear(),t.$toast(e.message)}))},goResult:function(){this.$router.replace({name:"WrongExercisesResult",query:{recordId:this.answerRecord.id}})},getResourceToken:function(e){return a.a.getItemDetail({params:{globalId:e}})}}},d=s("a6c2"),h=Object(d.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.isLoading?t("e-loading"):t("div",{staticClass:"ibs-wap-vue"},[t("item-engine",{ref:"itemEngine",attrs:{wrong:!0,answerRecord:this.answerRecord,assessmentResponse:this.assessmentResponse,assessment:this.assessment,answerScene:this.answerScene,"show-save-process-btn":!1},on:{getAnswerData:this.getAnswerData}})],1)],1)}),[],!1,null,null,null);t.default=h.exports},"99dc":function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d"),s("c5f6");var n=s("bd86"),i=s("3ce7"),o=s("2f62"),r=s("2ef0"),a=s.n(r);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"WrongQuestionResult",data:function(){return{isLoading:!0,answerRecord:{},reports:{}}},provide:function(){return{getResourceToken:this.getResourceToken,settings:this.storageSetting,brushDo:this}},computed:u(u({},Object(o.e)({storageSetting:function(e){return e.storageSetting}})),{},{usedTime:function(){var e=parseInt(this.answerRecord.used_time)||0;return e<=60?1:Math.round(e/60)},rightRate:function(){return parseInt(this.reports.right_question_num/this.reports.question_count*100)}}),beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},created:function(){this.fetchAnswerRecord()},methods:{fetchAnswerRecord:function(){var e=this,t={answerRecordId:Number(this.$route.query.recordId)};i.a.answerRecord({query:t}).then((function(t){e.answerRecord=t.answer_record,e.reports=t.answer_report.section_reports[0],e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.$toast(t.message)}))},getStatusClass:function(e){var t={right:"circle-green",wrong:"circle-orange",partRight:"circle-orange",no_answer:"circle-gray"},s=e.question_reports[0],n=s.response,i=s.status;return a.a.size(n)?t[i]:t.no_answer},viewAnalysis:function(){this.$router.push({name:"WrongExercisesAnalysis",query:{recordId:this.$route.query.recordId}})},getResourceToken:function(e){return i.a.getItemDetail({params:{globalId:e}})}}},d=s("a6c2"),h=Object(d.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrong-question-result"},[e.isLoading?s("e-loading"):e._e(),s("div",{staticClass:"result-data"},[s("div",{staticClass:"result-data__item"},[e._v("\n      "+e._s(e.$t("wrongQuestion.correctRate"))+"\n      "),s("div",{staticClass:"result-data__bottom data-number-green"},[s("span",{staticClass:"data-number"},[e._v(e._s(e.rightRate))]),e._v("%\n      ")])]),s("div",{staticClass:"result-data__item"},[e._v("\n      "+e._s(e.$t("wrongQuestion.timeSpentOnTheQuestion"))+"\n      "),s("div",{staticClass:"result-data__bottom data-number-gray"},[s("span",{staticClass:"data-number"},[e._v(e._s(e.usedTime))]),e._v("\n        "+e._s(e.$t("wrongQuestion.minutes"))+"\n      ")])])]),s("div",{staticClass:"result-tag"},[s("div",{staticClass:"result-tag-item clearfix"},[s("div",{staticClass:"result-tag-item__circle circle-green"}),e._v("\n      "+e._s(e.$t("wrongQuestion.right2"))+"\n    ")]),s("div",{staticClass:"result-tag-item clearfix"},[s("div",{staticClass:"result-tag-item__circle circle-orange"}),e._v("\n      "+e._s(e.$t("wrongQuestion.wrong2"))+"\n    ")]),s("div",{staticClass:"result-tag-item clearfix"},[s("div",{staticClass:"result-tag-item__circle circle-gray"}),e._v("\n      "+e._s(e.$t("wrongQuestion.unanswered"))+"\n    ")])]),s("div",{staticClass:"result-panel"},[s("ul",{staticClass:"result-list"},e._l(e.reports.item_reports,(function(t,n){return s("li",{key:n,class:["result-list__item testpaper-number",e.getStatusClass(t)]},[e._v("\n        "+e._s(n+1)+"\n      ")])})),0)]),s("div",{staticClass:"result-footer"},[s("van-button",{staticClass:"result-footer__btn",attrs:{type:"primary"},on:{click:function(t){return e.viewAnalysis()}}},[e._v("\n      "+e._s(e.$t("wrongQuestion.viewParsed"))+"\n    ")])],1)],1)}),[],!1,null,null,null);t.default=h.exports},c545:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d");var n=s("bd86"),i=(s("a481"),s("e7e5"),s("d399")),o=(s("c5f6"),s("3ce7"));function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}var a={data:function(){return{activeIcon:"static/images/exercise/active-icon.png",defaultIcon:"static/images/exercise/default-icon.png",activeQuestions:"static/images/exercise/active-on-questions.png",defaultQuestions:"static/images/exercise/default-on-questions.png",radio:"0",questionsNum:20,targetId:this.$route.query.id,targetType:this.$route.query.targetType,exerciseMediaType:this.$route.query.exerciseMediaType,searchParams:this.$route.query.searchParams,wrongNumCount:null}},created:function(){this.getWrongNumCount()},beforeRouteEnter:function(e,t,s){document.getElementById("app").style.background="#f6f6f6",s()},beforeRouteLeave:function(e,t,s){document.getElementById("app").style.background="",s()},methods:{blurInput:function(e){Number(e.target.value)>this.wrongNumCount&&(this.questionsNum=this.wrongNumCount,i.a.fail("超出输入范围"))},getWrongNumCount:function(){var e=this;o.a.getWrongNumCount({query:{poolId:this.targetId},params:{targetType:this.targetType,exerciseMediaType:this.exerciseMediaType}}).then((function(t){e.wrongNumCount=t.wrongNumCount,e.questionsNum=Math.min(e.questionsNum,e.wrongNumCount)})).catch((function(e){i.a.fail(e.message)}))},startExercise:function(){return"0"===this.questionsNum?i.a.fail(this.$t("courseLearning.theNumberAnswers")):""===this.questionsNum?i.a.fail(this.$t("courseLearning.theNumberblank")):void this.$router.replace({name:"WrongExercisesDo",query:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({exerciseMode:this.radio,itemNum:this.questionsNum,id:this.targetId,exerciseMediaType:this.exerciseMediaType},this.searchParams)})}}},c=(s("d309"),s("a6c2")),u=Object(c.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"answer-layout"},[s("div",{staticClass:"answer-mode"},[s("div",{staticClass:"title"},[e._v("\n        "+e._s(e.$t("courseLearning.answerMode"))+"\n      ")]),s("van-radio-group",{staticClass:"choose-mode-group-radio",model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[s("van-radio",{staticClass:"choose-mode-radio",attrs:{name:"0"},scopedSlots:e._u([{key:"icon",fn:function(t){return[s("img",{staticClass:"img-icon",attrs:{src:t.checked?e.activeIcon:e.defaultIcon}}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.checked,expression:"props.checked"}],staticClass:"iconfont icon-check"})]}}])},[e._v("\n          "+e._s(e.$t("courseLearning.testMode"))+"\n          ")]),s("van-radio",{staticClass:"choose-mode-radio",attrs:{name:"1"},scopedSlots:e._u([{key:"icon",fn:function(t){return[s("img",{staticClass:"img-icon",attrs:{src:t.checked?e.activeQuestions:e.defaultQuestions}}),s("i",{directives:[{name:"show",rawName:"v-show",value:t.checked,expression:"props.checked"}],staticClass:"iconfont icon-check"})]}}])},[e._v("\n          "+e._s(e.$t("courseLearning.answerOneQuestionAtTime"))+"\n          ")])],1)],1),s("div",{staticClass:"amswer-num"},[s("div",{staticClass:"questions-num"},[s("span",[e._v(e._s(e.$t("courseLearning.displayQuantity")))]),s("van-field",{staticClass:"input-num",attrs:{type:"digit",clearable:"",placeholder:e.$t("courseLearning.pleaseEnterNumberQuestions")},on:{blur:e.blurInput},model:{value:e.questionsNum,callback:function(t){e.questionsNum=t},expression:"questionsNum"}})],1),s("div",{staticClass:"questions-num-tips"},[e._v("\n        "+e._s(e.$t("courseLearning.questionsNumTips"))+"\n      ")])])]),s("div",{staticClass:"intro-footer"},[s("van-button",{staticClass:"intro-footer__btn",attrs:{type:"primary"},on:{click:e.startExercise}},[e._v(e._s(e.$t("courseLearning.startAnsweringQuestions")))])],1)])}),[],!1,null,"5c218944",null);t.default=u.exports},d170:function(e,t,s){},d309:function(e,t,s){"use strict";var n=s("d170");s.n(n).a},d697:function(e,t,s){"use strict";s.r(t),s("8e6e"),s("ac6a"),s("456d");var n=s("bd86"),i=s("3ce7"),o=s("2f62"),r=s("faa5");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"myWrongQuestionBookExercise",components:{EmptyCourse:s("41dc").a},data:function(){return{isLoading:!1,exerciseList:[],poolId:this.$route.query.id,title:this.$route.query.title}},created:function(){this.setNavbarTitle(this.title),this.fetchExerciseDetail()},methods:c(c({},Object(o.d)({setNavbarTitle:r.x})),{},{fetchExerciseDetail:function(){var e=this;this.isLoading=!0,i.a.getWrongQuestionExercise({query:{poolId:this.poolId}}).then((function(t){e.isLoading=!1,e.exerciseList=t}))},goToWrongQuestionDetail:function(e){this.$router.push({name:"myWrongQuestionBookDetail",params:{type:"exercise",id:this.poolId},query:{title:this.title,type:e}})}})},l=s("a6c2"),d=Object(l.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isLoading?s("e-loading"):e._e(),s("div",{staticClass:"wrong-list",staticStyle:{"padding-top":"16px"}},[e._l(e.exerciseList,(function(t,n){return s("div",{key:n,staticClass:"list-item",on:{click:function(s){return e.goToWrongQuestionDetail(t.type)}}},[s("div",{staticClass:"list-item__image"},[s("img",{attrs:{src:t.cover.middle}})]),s("div",{staticClass:"list-item__detail"},[s("h3",{staticClass:"title text-overflow"},[e._v(e._s(t.module))]),s("p",{staticClass:"number text-overflow"},[e._v(e._s(t.wrong_number)+" "+e._s(e.$t("wrongQuestion.question")))])])])})),e.exerciseList.length||e.isLoading?e._e():s("empty-course",{attrs:{"has-button":!1,text:e.$t("wrongQuestion.empty")}})],2)],1)}),[],!1,null,null,null);t.default=d.exports}}]);