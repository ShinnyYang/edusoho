webpackJsonp([11],{odi1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("eqfM");var s=n("/QYm"),i=n("Dd8w"),a=n.n(i),c=n("NYxO"),r=n("gyMJ"),o={data:function(){return{settings:[{name:"头像",info:""},{name:"昵称",info:""},{name:"手机",info:""}]}},computed:a()({},Object(c.d)({user:function(t){return t.user},isLoading:function(t){return t.isLoading}})),created:function(){this.$set(this.settings[0],"info",this.user.avatar.large),this.$set(this.settings[1],"info",this.user.nickname),this.$set(this.settings[2],"info",this.user.school)},methods:a()({},Object(c.b)(["setAvatar"]),{handleSetting:function(t){switch(t){case 0:break;case 1:this.$router.push({name:"setting_nickname"});break;case 2:Object(s.a)("更改手机号，后续开通")}},onRead:function(t){var e=this;r.a.updateFile({data:{file:t.content,group:"user"}}).then(function(n){e.$set(e.settings[0],"info",t.content),e.setAvatar({avatarId:n.id}).then(function(){s.a.success("修改成功")}).catch(function(t){s.a.fail(t.message)})})}})},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my_setting"},[t.isLoading?n("e-loading"):t._e(),t._v(" "),t._l(t.settings,function(e,s){return n("div",{staticClass:"my_setting-item",on:{click:function(e){t.handleSetting(s)}}},[n("span",{staticClass:"my_setting-title title-18"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"my_setting-content"},[s?t._e():n("img",{staticClass:"my_setting-avatar",attrs:{src:e.info,alt:""}}),t._v(" "),s?n("span",[t._v(t._s(e.info))]):t._e(),t._v(" "),n("img",{staticClass:"my_setting-more",attrs:{src:"/static/images/more.png",alt:""}})]),t._v(" "),s?t._e():n("van-uploader",{attrs:{"after-read":t.onRead}})],1)})],2)},staticRenderFns:[]},l=n("VU/8")(o,u,!1,null,null,null);e.default=l.exports}});