{% extends 'my/learning/course/layout.html.twig' %}

{% set mobile = is_show_mobile_page() %}
{% set tab_nav = 'learning' %}
{% block title %}{{ 'my.learning.course.learning'|trans }} - {{ parent() }}{% endblock %}

{% block main %}

  <div class="panel panel-default panel-col">

    <div class="panel-heading">
      {{ 'my.learning.course'|trans }}
      <div class="pull-right">
        <form class="search-form" style="margin-right: 54px;" method="get">
          <input class="search-input-content inline-block" type="text" name="title" value="{{ app.request.get("title") }}" placeholder="{{ 'course.placeholder.name'|trans }}" />
          <a class="btn inline-block searchCourseBtn es-icon es-icon-search" type="submit"></a>
        </form>
        <a class="live-course-btn" href="{{ path('my_courses_live_calendar') }}">{{ 'my.learning.live_schedule_menu'|trans }}</a>
      </div>
    </div>

    <div class="panel-body">
      {% include 'my/learning/course/nav-pill.html.twig' %}
      {% set type = 'learning' %}

      {% for courseSet in courseSets if courseSet %}
        {% set currentCourses = courses[courseSet.id] %}
        {% set classroom = courseSet['classroom']|default(null) %}

        {% if currentCourses %}
          {% include 'my/learning/course/courses-block-item.html.twig' %}
        {% endif %}
      {% else %}
        <div class="cd-empty">{{ 'my.learning.course.learning_empty'|trans }}</div>
      {% endfor %}
      {{ web_macro.paginator(paginator) }}
    </div>
  </div>
{% endblock %}

{% block main_mobile %}
  {% if mobile %}
    {% include 'my/learning/course/learning-mobile.html.twig' with {'courses':learningCourses} %}
  {% endif %}
{% endblock %}

{% block bottom %}
  {% include 'mobile/footer-tool-bar.html.twig' with { mobile_tool_bar: 'learning' } %}
{% endblock %}

