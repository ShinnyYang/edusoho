{% extends 'layout.html.twig' %}
{% block title %}{{ 'form.btn.reset_password'|trans }} - {{ parent() }}{% endblock %}
{% do script(['libs/jquery-validation.js','app/js/auth/password-reset-update/index.js']) %}

{% block content %}
	<div class="row">
		<div class="col-md-6 col-md-offset-3 ptl">
			<div class="panel panel-default panel-page">
				<div class="panel-heading"><h2>{{ 'user.settings.security.password_reset.content_title'|trans }}</h2></div>

				<form id="password-reset-update-form" class="form-vertical" method="post">

					{{ web_macro.flash_messages() }}

					<div class="form-group">
						{{ form_label(form.password, 'user.settings.security.password_modify.new_password'|trans, {label_attr:{class:'control-label'}}) }}
						<div class="controls">
              <div style="position: relative">
                <input type="password" id="form_password" name="form[password]" required="required" data-strong="{{ needStrongPassword }}" class="form-control" aria-required="true" style="padding-right: 40px">
                <img src="{{ asset('static-dist/app/img/open_eye.svg') }}" class="js-password-open-eye" alt="" style="position: absolute; right: 8px; top: 5px; cursor: pointer; display: none"/>
                <img src="{{ asset('static-dist/app/img/close_eye.svg') }}" class="js-password-close-eye" alt="" style="position: absolute; right: 8px; top: 5px; cursor: pointer; display: block"/>
              </div>
              <p class="help-block">{{ needStrongPassword ? 'password.hint.strong'|trans : 'password.hint.normal'|trans}}</p>
						</div>
					</div>

					<div class="form-group">
						{{ form_label(form.confirmPassword, 'user.settings.security.password_modify.confirm_password'|trans, {label_attr:{class:'control-label'}}) }}
						<div class="controls">
              <div style="position: relative">
                <input type="password" id="form_confirmPassword" name="form[confirmPassword]" required="required" class="form-control" aria-required="true" style="padding-right: 40px">
                <img src="{{ asset('static-dist/app/img/open_eye.svg') }}" class="js-confirm-password-open-eye" alt="" style="position: absolute; right: 8px; top: 5px; cursor: pointer; display: none"/>
                <img src="{{ asset('static-dist/app/img/close_eye.svg') }}" class="js-confirm-password-close-eye" alt="" style="position: absolute; right: 8px; top: 5px; cursor: pointer; display: block"/>
              </div>
							<p class="help-block">{{ 'user.settings.security.password_modify.input_password_tips'|trans }}</p>
						</div>
					</div>
					<div class="form-group">
						<div class="controls">
							{{ form_end(form, {'render_rest': false}) }}
							<button type="submit"
							        class="btn btn-primary">{{ 'user.settings.password_reset.reset_btn'|trans }}</button>
						</div>
						<input type="hidden" name="_csrf_token" value="{{ csrf_token('site') }}">
					</div>
				</form>
			</div>
		</div>
	</div>
{% endblock %}
